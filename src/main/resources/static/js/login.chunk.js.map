{"version":3,"sources":["webpack:///./src/Login.tsx","webpack:///./src/css/login.scss?c776","webpack:///./src/js/common/AxiosInstance.tsx","webpack:///./src/js/common/Button.tsx"],"names":[],"mappings":"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","file":"js/login.chunk.js","sourcesContent":["import \"@css/login.scss\";\r\nimport * as React from \"react\";\r\nimport { render } from \"react-dom\";\r\nimport axions from \"@js/common/AxiosInstance\";\r\nimport {Button,Icon} from \"@js/common/Button\";\r\n\r\ntype LoginProp = {\r\n};\r\n\r\ntype LoginState = {\r\n    isFetching: boolean;\r\n    warnTxt:string;\r\n};\r\n\r\n\r\nclass Login extends React.PureComponent<LoginProp, LoginState>{\r\n\r\n    userDom: React.RefObject<HTMLInputElement> = React.createRef();\r\n    psdDom: React.RefObject<HTMLInputElement> = React.createRef();\r\n\r\n    state:LoginState={\r\n        isFetching:false,\r\n        warnTxt:\"\"\r\n    }\r\n\r\n    loginHandle = () => {\r\n\r\n        const name = (this.userDom.current!).value;\r\n        const pwd = (this.psdDom.current!).value;\r\n\r\n        if(!name || !pwd){\r\n            this.setState({\r\n                warnTxt:\"填写用户名和密码！\"\r\n            })\r\n            return ;\r\n\r\n        }\r\n\r\n        this.setState({\r\n            isFetching:true\r\n        })\r\n\r\n        \r\n        axions({\r\n            url:\"login/logVal\",\r\n            method:\"post\",\r\n            data:{name,pwd:window.hex_md5(window.hex_md5(pwd))},\r\n            headers:{\r\n                \"Content-Type\":\"application/json\",\r\n            }\r\n        }).then((res:any)=>{\r\n\r\n         \r\n            let txt = \"\"; \r\n            switch(res.code){\r\n               case 200:{\r\n                   window.location.href= window.getSession(\"getPath\")+\"index\"\r\n                   break;\r\n               }\r\n               default:\r\n                  txt = res.message\r\n                   break;\r\n           };\r\n\r\n            this.setState({\r\n                isFetching:false,\r\n                warnTxt:txt\r\n            })\r\n\r\n\r\n        })\r\n\r\n\r\n\r\n    }\r\n    render() {\r\n        const { isFetching,warnTxt } = this.state;\r\n        \r\n        return (\r\n            <div className=\"g-login\">\r\n                <div className=\"m-login\">\r\n                    <div className=\"login-title\">\r\n                        <svg style={{ width: \"100%\", height: \"100%\" }}>\r\n                            <polygon points=\"20,0 280,0 300,40 280,80 20,80 0,40\" fill=\"#00a0e9\"></polygon>\r\n                            <text x=\"150\" y=\"50\" fill=\"white\" textAnchor=\"middle\">出院小结管理系统</text>\r\n                        </svg>\r\n                    </div>\r\n                    <div className=\"login-content\">\r\n                        <p style={{ color: \"#00a0e9\" }}>账号登录</p>\r\n                        <div className=\"login-inpBox\">\r\n                            <div className=\"login-inp\">\r\n                                <input type=\"text\" ref={this.userDom} className=\"s-inp\" placeholder=\"用户名\" />\r\n                            </div>\r\n                            <div className=\"login-inp\">\r\n                                <input type=\"password\" ref={this.psdDom} className=\"s-inp\" placeholder=\"请输入密码\" />\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"submit-btn\">\r\n                            <Button handle={this.loginHandle} otherName=\"login-btn\" >\r\n                                {isFetching ? <span style={{ paddingRight: 20 }}><i className=\"fa fa-spinner fa-pulse fa-lg fa-fw\"></i></span> : null}\r\n                                <b>登 录</b>\r\n                            </Button>\r\n                            \r\n                           {warnTxt ? <p className=\"m-warn\"><Icon styleType=\"fa-exclamation-triangle\"/>{warnTxt}</p>:null } \r\n                        </div>\r\n                    </div>\r\n                    <div className=\"login-footer\">\r\n                        <span>长城网科智慧医疗</span>\r\n                        <span>v1.0.0</span>\r\n                    </div>\r\n                </div>\r\n                <p className=\"copyright\">\r\n                    <span>Copyright@ 2017 深圳市长城网信息科技股份有限公司 版权所有 </span>\r\n                </p>\r\n            </div>\r\n        )\r\n    }\r\n\r\n\r\n};\r\n\r\n\r\n\r\nrender(<Login />, document.getElementById(\"app\"));","// extracted by mini-css-extract-plugin","import axions ,{AxiosResponse}from \"axios\";\r\nconst instance = axions.create({\r\n\t\tbaseURL:window.getSession(\"getPath\"),\r\n\t\theaders: {\r\n\t\t\t'Content-Type': 'application/x-www-form-urlencoded',\r\n\t\t\t'X-Requested-With': 'XMLHttpRequest',\r\n\t\t\t'X-Custom-Header': 'foobar'\r\n\t\t},\r\n\t\t\r\n\r\n});\r\n\r\ndeclare global{\r\n\r\n\r\n\tinterface AxiosInterfaceResponse extends AxiosResponse<any>{\r\n\t\tdata:any;\r\n\t\tmessage:string;\r\n\t\tcode:number;\r\n\t}\r\n\r\n\r\n}\r\n\r\n\r\n\r\ninstance.interceptors.response.use(function (response) {\r\n\r\n\t\tif(response.headers[\"content-type\"].includes(\"text/html\")){\r\n\t\t\twindow.location.href=window.getSession(\"getPath\")+\"login\";\r\n\t\t\treturn Promise.reject();\r\n\t\t}\t\r\n\r\n\t\tif(response.data.code == 200 || response.data.code==4000){\r\n\t\t\treturn response.data;\r\n\t\t}else{// session过期，重新登录\r\n\r\n\t\t\t\r\n\t\t\r\n\t\t\t return Promise.reject(response.data);\r\n\t\t}\r\n    \r\n    \r\n  }, function (error) {\r\n   \t\r\n    return Promise.reject(error);\r\n\t});\r\n\t\r\n\r\nexport default instance ;","import * as React from \"react\";\r\n\r\n\r\ntype BtnProps={\r\n    handle?:(e:React.MouseEvent<HTMLButtonElement>)=>void;\r\n    styleType:\"normal-btn\" | \"dashed-btn\" | \"line-btn\";\r\n    otherName?:string;\r\n    type?:\"danger\" | \"primary\" | \"green\";\r\n    field?:string;\r\n}\r\n\r\ntype BtnState={\r\n    timeId:number | undefined;\r\n}\r\n\r\n\r\n\r\n\r\n class Button extends React.PureComponent<BtnProps,BtnState>{\r\n\r\n    static defaultProps={\r\n        styleType:\"normal-btn\",\r\n        type:\"primary\",\r\n        otherName:\"\"\r\n    }\r\n    state={\r\n        timeId:undefined\r\n    }\r\n\r\n    keyUp=(e:React.MouseEvent<HTMLButtonElement>)=>{\r\n\r\n        const target = e.currentTarget!\r\n        const {timeId} = this.state;\r\n\r\n        if(timeId!=undefined){\r\n            window.clearTimeout(timeId);\r\n        }\r\n        target.classList.add(\"btn-clicked\");\r\n        const newTimeid = window.setTimeout(function(){\r\n            target.classList.remove(\"btn-clicked\")\r\n        },400)\r\n\r\n       this.setState({\r\n           timeId:newTimeid\r\n       })\r\n\r\n    }\r\n\r\n    componentWillUnmount(){\r\n\r\n        const timeId = this.state.timeId;\r\n        if(timeId){\r\n\r\n            clearTimeout(timeId)\r\n\r\n        }\r\n    }\r\n\r\n    \r\n\r\n    render(){\r\n\r\n        const {children,handle,styleType,type,field,otherName} = this.props;\r\n        return (\r\n            <button onClick={handle} name={field} className={`s-btn ${styleType} ${type} ${otherName}`} onMouseUp={this.keyUp} >\r\n                {children}\r\n            </button>\r\n        )\r\n    }\r\n}\r\n\r\n\r\ntype IconProps={\r\n    styleType:string;\r\n}\r\n\r\ntype IconState={\r\n\r\n}\r\n\r\n class Icon extends React.PureComponent<IconProps,IconState>{\r\n\r\n\r\n\r\n    render(){\r\n\r\n        const {children,styleType} = this.props;\r\n        return (\r\n            <i className={`fa ${styleType}`}>\r\n                {children}\r\n                &nbsp;\r\n            </i>\r\n        )\r\n    }\r\n}\r\n\r\ntype SvgIconProps={\r\n    styleType:string;\r\n    size?:string;\r\n}\r\n\r\ntype SvgIconState={\r\n\r\n}\r\n\r\n class SvgIcon extends React.PureComponent<SvgIconProps,SvgIconState>{\r\n\r\n    static defaultProps={\r\n        size:\"\"\r\n    }\r\n\r\n    render(){\r\n\r\n        const {styleType,size} = this.props;\r\n        return (\r\n            <>\r\n            <svg className={`icon ${size}`} aria-hidden=\"true\">\r\n                <use  xlinkHref={`#icon-${styleType}`}></use> \r\n            </svg>\r\n            &nbsp;\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\n\r\nexport {Button,Icon,SvgIcon}"],"sourceRoot":""}