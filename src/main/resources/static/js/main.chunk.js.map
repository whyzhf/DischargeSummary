{"version":3,"sources":["webpack:///./src/App.tsx","webpack:///./src/css/Calendar.scss?1528","webpack:///./src/css/alertInfo.scss?712a","webpack:///./src/css/combobox.scss?4ca5","webpack:///./src/css/main.scss?17ac","webpack:///./src/css/menu.scss?5459","webpack:///./src/js/actions/createReucer.tsx","webpack:///./src/js/actions/appAction.tsx","webpack:///./src/js/actions/rootReducer.tsx","webpack:///./src/js/common/AxiosInstance.tsx","webpack:///./src/js/common/Button.tsx","webpack:///./src/js/common/ImmutableMap.tsx","webpack:///./src/js/common/NavMenu.tsx","webpack:///./src/js/common/ErrorBoundary.tsx","webpack:///./src/api/main.tsx","webpack:///./src/js/containers/SlideMenu.tsx","webpack:///./src/js/common/Modal.tsx","webpack:///./src/js/common/InputBtn.tsx","webpack:///./src/js/common/toast/index.tsx","webpack:///./src/js/containers/Socket.tsx","webpack:///./src/js/containers/Head.tsx","webpack:///./src/js/common/SearchCom.tsx","webpack:///./src/js/common/calendar/CalendarDayView.tsx","webpack:///./src/js/common/calendar/CalendarYearView.tsx","webpack:///./src/js/common/calendar/CalendarMonthView.tsx","webpack:///./src/js/common/calendar/CalendarSearsonView.tsx","webpack:///./src/js/common/calendar/CalendarView.tsx","webpack:///./src/js/common/calendar/index.tsx","webpack:///./src/js/common/combobox/Drop.tsx","webpack:///./src/js/common/combobox/index.tsx","webpack:///./src/js/containers/summary/ConditionHead.tsx","webpack:///./src/js/common/table/index.tsx","webpack:///./src/js/containers/summary/CaseTable.tsx","webpack:///./src/api/summary.tsx","webpack:///./src/js/common/Loading.tsx","webpack:///./src/js/containers/summary/index.tsx","webpack:///./src/js/containers/summary/language.tsx","webpack:///./src/js/containers/summary/CaseModalInp.tsx","webpack:///./src/js/containers/summary/AddCaseModal.tsx","webpack:///./src/js/containers/summary/CaseModalText.tsx","webpack:///./src/api/gdsummary.tsx","webpack:///./src/js/containers/gdsummary/index.tsx","webpack:///./src/js/Router.tsx","webpack:///./src/js/index.tsx"],"names":[],"mappings":"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","file":"js/main.chunk.js","sourcesContent":["import \"@css/main.scss\";\r\nimport App from \"./js/index\";\r\nimport {Provider} from \"react-redux\"\r\nimport {createStore,applyMiddleware,compose} from \"redux\";\r\n//import {logger} from \"redux-logger\" ;\r\nimport  thunk from \"redux-thunk\" ;\r\nimport  rootRecuders from \"@js/actions/rootReducer\";\r\nimport * as React from \"react\";\r\nimport * as ReactDom from \"react-dom\" ;\r\nimport 'velocity-animate';\r\nimport 'velocity-animate/velocity.ui';\r\n\r\n\r\n\r\nconst middleware = [thunk];\r\nlet store:any;\r\n\r\nif(window.__REDUX_DEVTOOLS_EXTENSION__){\r\n\tstore  = createStore(rootRecuders,compose(applyMiddleware(...middleware),window.__REDUX_DEVTOOLS_EXTENSION__()));\r\n}else{\r\n\tstore  = createStore(rootRecuders,applyMiddleware(...middleware));\r\n}\r\n\r\n/*const store  = createStore(rootRecuders,compose(applyMiddleware(...middleware),window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()));*/\r\n\r\n\r\nconst domApp = document.getElementById(\"app\");\r\n\r\nReactDom.render((\r\n\r\n\t<Provider store={store}>\r\n\t\t\t<App />\r\n\t</Provider>\r\n\r\n\t),domApp);\r\n\r\n\r\nif(module.hot){\r\n\r\n\t\t// 热替换react\r\n\t\tmodule.hot.accept(\"./js/index\",()=>{\r\n\t\t\t\t\timport(\"./js/index\").then((module:any)=>{\r\n\t\t\t\t\t\tconst AppCom = module.default;\r\n\t\t\t\t\t\t\tReactDom.render((\r\n\t\t\t\t\t\t\t\t<Provider store={store}>\r\n\t\t\t\t\t\t\t\t\t\t<AppCom />\r\n\t\t\t\t\t\t\t\t</Provider>\r\n\t\t\t\t\t\t\t\t),domApp);\r\n\t\t\t\t\t});\r\n\t\t});\r\n\r\n\t\t//热替换redux\r\n\r\n\t\tmodule.hot.accept(\"@js/actions/rootReducer\",()=>{\r\n\r\n\t\t\t\t\timport(\"@js/actions/rootReducer\").then((module:any)=>{\r\n\t\t\t\t\t\tconst nextRootReducers = module.default;\r\n\t\t\t\t\t\tstore.replaceReducer(nextRootReducers);\r\n\t\t\t\t\t});\r\n\t\t});\r\n\r\n}","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","import {Action} from \"redux\";\r\n\r\n\r\n\r\nexport default function createReducer<T>(initState:T,actionHandle:{[key:string]:(state:T,action:Action<string>)=>T}){\r\n\r\n\r\n\r\n\t\treturn function(state = initState,action:{type:string}){\r\n\r\n\t\t\t\t if(actionHandle.hasOwnProperty(action.type)){\r\n\r\n\t\t\t\t \t\treturn  actionHandle[action.type](state,action);\r\n\t\t\t\t }else{\r\n\t\t\t\t \t\treturn state ;\r\n\t\t\t\t }\r\n\t\t}\r\n\r\n};","import  ReduceCreate from \"./createReucer\";\r\nimport {createTypedMap} from \"@js/common/ImmutableMap\";\r\n\r\nconst defaultApp = Object.assign({menuUrl:\"0,0\",filterType:\"0\"},window.getSession(\"getUser\"));\r\n\r\nconst defaultLoginState:appStore[\"app\"] =  createTypedMap(defaultApp);\r\n\r\nconst CHANGE_ROLE = \"CHANGE_ROLE\";\r\nconst CHANGE_MENUURL = \"CHANGE_MENUURL\";\r\nconst CHANGE_FILTER = \"CHANGE_FILTER\";\r\n\r\nconst changeRole = (roleId:number)=>{\r\n\r\n\treturn {\r\n\t\ttype:CHANGE_ROLE,\r\n\t\troleId,\r\n\t}\r\n\r\n}\r\n\r\nconst changeMenuUrl = (menuUrl:string)=>{\r\n\r\n\treturn {\r\n\t\ttype:CHANGE_MENUURL,\r\n\t\tmenuUrl,\r\n\t}\r\n\r\n} \r\n\r\nconst changeFilterType =(fitler:string)=>{\r\n\r\n\r\n\treturn {\r\n\t\ttype:CHANGE_FILTER,\r\n\t\tfitler,\r\n\t}\r\n}\r\n\r\nconst userInfo= ReduceCreate(defaultLoginState,{\r\n\t[CHANGE_ROLE]:function(state,action:ReturnType<typeof changeRole>){\r\n\r\n\t\treturn state.set(\"role_index\",action.roleId).set(\"menuUrl\",\"0,0\").set(\"filterType\",\"0\");\r\n\r\n\r\n\t},\r\n\t[CHANGE_MENUURL]:function(state,action:ReturnType<typeof changeMenuUrl>){\r\n\r\n\t\treturn state.set(\"menuUrl\",action.menuUrl);\r\n\r\n\t},\r\n\t[CHANGE_FILTER]:function(state,action:ReturnType<typeof changeFilterType>){\r\n\r\n\t\treturn state.set(\"filterType\",action.fitler).set(\"menuUrl\",\"0,0\");\r\n\r\n\t}\r\n});\r\n\r\n\r\n\r\n\r\n\r\n\r\nexport {\r\n\tuserInfo,\r\n\tchangeRole,\r\n\tchangeMenuUrl,\r\n\tchangeFilterType\r\n}\r\n\r\n","import {combineReducers} from \"redux\";\r\nimport {userInfo} from \"./appAction\";\r\n\r\nexport default combineReducers({\r\n\tapp:userInfo,\r\n})","import axions ,{AxiosResponse}from \"axios\";\r\nconst instance = axions.create({\r\n\t\tbaseURL:window.getSession(\"getPath\"),\r\n\t\theaders: {\r\n\t\t\t'Content-Type': 'application/x-www-form-urlencoded',\r\n\t\t\t'X-Requested-With': 'XMLHttpRequest',\r\n\t\t\t'X-Custom-Header': 'foobar'\r\n\t\t},\r\n\t\t\r\n\r\n});\r\n\r\ndeclare global{\r\n\r\n\r\n\tinterface AxiosInterfaceResponse extends AxiosResponse<any>{\r\n\t\tdata:any;\r\n\t\tmessage:string;\r\n\t\tcode:number;\r\n\t}\r\n\r\n\r\n}\r\n\r\n\r\n\r\ninstance.interceptors.response.use(function (response) {\r\n\r\n\t\tif(response.headers[\"content-type\"].includes(\"text/html\")){\r\n\t\t\twindow.location.href=window.getSession(\"getPath\")+\"login\";\r\n\t\t\treturn Promise.reject();\r\n\t\t}\t\r\n\r\n\t\tif(response.data.code == 200 || response.data.code==4000){\r\n\t\t\treturn response.data;\r\n\t\t}else{// session过期，重新登录\r\n\r\n\t\t\t\r\n\t\t\r\n\t\t\t return Promise.reject(response.data);\r\n\t\t}\r\n    \r\n    \r\n  }, function (error) {\r\n   \t\r\n    return Promise.reject(error);\r\n\t});\r\n\t\r\n\r\nexport default instance ;","import * as React from \"react\";\r\n\r\n\r\ntype BtnProps={\r\n    handle?:(e:React.MouseEvent<HTMLButtonElement>)=>void;\r\n    styleType:\"normal-btn\" | \"dashed-btn\" | \"line-btn\";\r\n    otherName?:string;\r\n    type?:\"danger\" | \"primary\" | \"green\";\r\n    field?:string;\r\n}\r\n\r\ntype BtnState={\r\n    timeId:number | undefined;\r\n}\r\n\r\n\r\n\r\n\r\n class Button extends React.PureComponent<BtnProps,BtnState>{\r\n\r\n    static defaultProps={\r\n        styleType:\"normal-btn\",\r\n        type:\"primary\",\r\n        otherName:\"\"\r\n    }\r\n    state={\r\n        timeId:undefined\r\n    }\r\n\r\n    keyUp=(e:React.MouseEvent<HTMLButtonElement>)=>{\r\n\r\n        const target = e.currentTarget!\r\n        const {timeId} = this.state;\r\n\r\n        if(timeId!=undefined){\r\n            window.clearTimeout(timeId);\r\n        }\r\n        target.classList.add(\"btn-clicked\");\r\n        const newTimeid = window.setTimeout(function(){\r\n            target.classList.remove(\"btn-clicked\")\r\n        },400)\r\n\r\n       this.setState({\r\n           timeId:newTimeid\r\n       })\r\n\r\n    }\r\n\r\n    componentWillUnmount(){\r\n\r\n        const timeId = this.state.timeId;\r\n        if(timeId){\r\n\r\n            clearTimeout(timeId)\r\n\r\n        }\r\n    }\r\n\r\n    \r\n\r\n    render(){\r\n\r\n        const {children,handle,styleType,type,field,otherName} = this.props;\r\n        return (\r\n            <button onClick={handle} name={field} className={`s-btn ${styleType} ${type} ${otherName}`} onMouseUp={this.keyUp} >\r\n                {children}\r\n            </button>\r\n        )\r\n    }\r\n}\r\n\r\n\r\ntype IconProps={\r\n    styleType:string;\r\n}\r\n\r\ntype IconState={\r\n\r\n}\r\n\r\n class Icon extends React.PureComponent<IconProps,IconState>{\r\n\r\n\r\n\r\n    render(){\r\n\r\n        const {children,styleType} = this.props;\r\n        return (\r\n            <i className={`fa ${styleType}`}>\r\n                {children}\r\n                &nbsp;\r\n            </i>\r\n        )\r\n    }\r\n}\r\n\r\ntype SvgIconProps={\r\n    styleType:string;\r\n    size?:string;\r\n}\r\n\r\ntype SvgIconState={\r\n\r\n}\r\n\r\n class SvgIcon extends React.PureComponent<SvgIconProps,SvgIconState>{\r\n\r\n    static defaultProps={\r\n        size:\"\"\r\n    }\r\n\r\n    render(){\r\n\r\n        const {styleType,size} = this.props;\r\n        return (\r\n            <>\r\n            <svg className={`icon ${size}`} aria-hidden=\"true\">\r\n                <use  xlinkHref={`#icon-${styleType}`}></use> \r\n            </svg>\r\n            &nbsp;\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\n\r\nexport {Button,Icon,SvgIcon}","import * as Immutable from \"immutable\";\r\n\r\n\r\ntype AllowedValue =\r\n  string |\r\n  number |\r\n  boolean |\r\n  AllowedMap |\r\n  AllowedList |\r\n  {[key:string]:any} |\r\n  TypedMap<any> ;\r\n\r\n\r\ninterface AllowedList extends Immutable.List<AllowedValue> {}\r\n\r\ninterface AllowedMap extends Immutable.Map<string, AllowedValue> {}\r\n\r\n\r\ntype MapTypeAllowedData<DataType> = {\r\n  [K in keyof DataType]: AllowedValue;\r\n};\r\n\r\ndeclare global{\r\n\t\r\n\t\tinterface TypedMap<DataType extends MapTypeAllowedData<DataType>> extends Immutable.Map<keyof DataType, AllowedValue> {\r\n\t\t  toJS(): DataType;\r\n\t\t  get<K extends keyof DataType>(key: K, notSetValue?: DataType[K]): DataType[K];\r\n\t\t  set<K extends keyof DataType>(key: K, value: DataType[K]): this;\r\n\t\t}\r\n}\r\n\r\n\r\nconst createTypedMap = <DataType extends MapTypeAllowedData<DataType>>(data: DataType):TypedMap<DataType> => Immutable.Map(data) as any;\r\n\r\n\r\n\r\n\r\nexport {createTypedMap};\r\n","import * as React from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport \"@css/menu.scss\";\r\nimport * as Immutable from \"immutable\";\r\nimport * as Velocity from \"velocity-react\";\r\nimport { SvgIcon } from \"@js/common/Button\";\r\n\r\ntype MenuItem = TypedMap<{\r\n\tid: string;\r\n\tappId: string;\r\n\tname: string;\r\n\turl: string;\r\n\tsysParam: string;\r\n\tparId: number;\r\n\tactive: boolean;\r\n\tchildren: Immutable.List<MenuItem>\r\n}>;\r\n\r\n\r\n\r\ntype ItemProps = {\r\n\tobj: MenuItem;\r\n\ttextField: \"name\";\r\n\tindex: number;//索引位置\r\n\tpathField: \"url\";\r\n\ticonField: \"sysParam\";\r\n\tidField: \"id\";\r\n\tslectItem: (index: number, parIndex?: number) => void;\r\n\texpand: boolean;\r\n\tparIndex?: number;\r\n\tsub?: Immutable.List<ItemProps[\"obj\"]>;\r\n};\r\n\r\nclass ParMenu extends React.PureComponent<ItemProps>{\r\n\r\n\tstate = {\r\n\t\tdrop: true,\r\n\t}\r\n\r\n\ttoggle = () => {\r\n\t\tthis.setState((prevState: { drop: boolean }) => ({ drop: !prevState.drop }))\r\n\t}\r\n\r\n\r\n\r\n\trender() {\r\n\r\n\r\n\r\n\t\tconst { obj, textField, idField, iconField, pathField, slectItem, sub, index } = this.props;\r\n\r\n\t//\tconst path = obj.get(pathField);\r\n\t\tconst text = obj.get(textField);\r\n\t\tconst icon = obj.get(iconField);\r\n\r\n\t\tconst activeName = obj.get(\"active\") ? \"active\" : \"\";\r\n\r\n\t\tconst hObj = this.props.expand ? { display: \"block\" } : {};\r\n\t\treturn (\r\n\t\t\t<li className=\"li-par\">\r\n\t\t\t\t<div className={\"menu-item menu-par \" + activeName} >\r\n\t\t\t\t\t<span className=\"par-icon\">\r\n\t\t\t\t\t\t<SvgIcon styleType={icon} />\r\n\t\t\t\t\t</span>\r\n\t\t\t\t\t<span className=\"j-nav\" >\r\n\t\t\t\t\t\t{text}\r\n\t\t\t\t\t\t{/* <Link to={path}>{text}</Link> */}\r\n\t\t\t\t\t</span>\r\n\t\t\t\t\t<span className=\"j-slide_menu\" onClick={this.toggle}>\r\n\t\t\t\t\t\t<i className={\"fa fa-chevron-\" + (!this.state.drop ? \"down\" : \"up\")}></i>\r\n\t\t\t\t\t</span>\r\n\t\t\t\t</div>\r\n\t\t\t\t<Velocity.VelocityComponent animation={this.state.drop ? \"slideDown\" : \"slideUp\"} duration={300}>\r\n\t\t\t\t\t<ul className=\"child-ul \" style={hObj}>\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tsub!.map((node: MenuItem, childIndex) => {\r\n\r\n\t\t\t\t\t\t\t\tconst nodeId = node.get(idField);\r\n\t\t\t\t\t\t\t\treturn <SubMenu\r\n\t\t\t\t\t\t\t\t\tobj={node}\r\n\t\t\t\t\t\t\t\t\tkey={nodeId}\r\n\t\t\t\t\t\t\t\t\tslectItem={slectItem}\r\n\t\t\t\t\t\t\t\t\tidField={idField}\r\n\t\t\t\t\t\t\t\t\ttextField={textField}\r\n\t\t\t\t\t\t\t\t\ticonField={iconField}\r\n\t\t\t\t\t\t\t\t\tpathField={pathField}\r\n\t\t\t\t\t\t\t\t\tparIndex={index}\r\n\t\t\t\t\t\t\t\t\tindex={childIndex}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t})\r\n\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</ul>\r\n\t\t\t\t</Velocity.VelocityComponent>\r\n\r\n\t\t\t</li>\r\n\t\t)\r\n\r\n\t}\r\n\r\n}\r\n\r\n\r\ntype SubMenuProp = Pick<ItemProps, Exclude<keyof ItemProps, \"expand\">>\r\n\r\n\r\n\r\ntype SubMenuState = {\r\n\r\n}\r\n\r\nclass SubMenu extends React.PureComponent<SubMenuProp, SubMenuState>{\r\n\r\n\r\n\trender() {\r\n\r\n\t\tconst { obj, idField, textField, pathField, slectItem, parIndex, index } = this.props;\r\n\r\n\t\tconst path = obj.get(pathField);\r\n\t\tconst text = obj.get(textField);\r\n\t\tconst id = obj.get(idField);\r\n\r\n\t\tconst pathObj = {\r\n\t\t\tpathname: path,\r\n\t\t\tstate: {\r\n\t\t\t\tid,\r\n\t\t\t\ttext\r\n\t\t\t},\r\n\t\t};\r\n\r\n\t\tconst activeName = obj.get(\"active\") ? \"active\" : \"\";\r\n\r\n\t\treturn (\r\n\t\t\t<li className=\"li-child\">\r\n\t\t\t\t<div className={\"menu-item menu-child \" + activeName} >\r\n\t\t\t\t\t<span className=\"j-nav\" onClick={() => slectItem(index, parIndex)}>\r\n\t\t\t\t\t\t<NavLink\r\n\t\t\t\t\t\t\tto={pathObj}\r\n\t\t\t\t\t\t>{text}</NavLink>\r\n\t\t\t\t\t</span>\r\n\t\t\t\t</div>\r\n\t\t\t</li>\r\n\t\t)\r\n\r\n\r\n\t}\r\n\r\n}\r\n\r\n\r\n\r\ntype props = {\r\n\tdata: any[];\r\n\texpand: boolean;//是否展开，提示到父组件,可以通过兄弟组件控制\r\n\ttextField?: \"name\";\r\n\tchildrenField?: string;\r\n\tpathField?: \"url\";\r\n\ticonField?: \"sysParam\";\r\n\tidField?: \"id\";\r\n\tmenuUrl?: string;\r\n\tclickBack?:()=>void;\r\n};\r\n\r\n\r\ntype state = {\r\n\tdata: Immutable.List<MenuItem>;\r\n\tpreIndex: (number | string)[];\r\n}\r\n\r\nclass NavMenu extends React.PureComponent<props, state>{\r\n\r\n\tstatic defaultProps = {\r\n\t\ttextField: \"text\",\r\n\t\tchildrenField: \"children\",\r\n\t\tpathField: \"url\",\r\n\t\ticonField: \"icon\",\r\n\t\tidField: \"id\",\r\n\t\tdefaultNav: [],\r\n\t\tmenuUrl: \"0,0\"\r\n\t};\r\n\r\n\tstate: state = {\r\n\t\tdata: Immutable.fromJS(this.addFieldToData(this.props.data, this.props.menuUrl!.split(\",\"))),\r\n\t\tpreIndex: this.props.menuUrl!.split(\",\"),\r\n\t}\r\n\r\n\r\n\r\n\r\n\r\n\taddFieldToData(data: props[\"data\"], preIndex: state[\"preIndex\"]) {\r\n\t\treturn data.map((val, index) => {\r\n\t\t\tconst is_firstPar = index == preIndex[0];\r\n\t\t\tval.active = is_firstPar;\r\n\t\t\tconst child = val.children.map((node: any, oIndex: number) => {\r\n\t\t\t\tnode.active = (is_firstPar && oIndex == preIndex[1]) || false;\r\n\t\t\t\treturn node;\r\n\t\t\t});\r\n\t\t\tval.children = child;\r\n\t\t\treturn val;\r\n\t\t});\r\n\r\n\t}\r\n\r\n\tcomponentWillReceiveProps(nextProp: props) {\r\n\r\n\t\tif (nextProp.data !== this.props.data || nextProp.menuUrl !== this.props.menuUrl) {\r\n\t\t\tthis.setState({\r\n\t\t\t\tdata: Immutable.fromJS(this.addFieldToData(nextProp.data, nextProp.menuUrl!.split(\",\"))),\r\n\t\t\t\tpreIndex: [0, 0],\r\n\t\t\t})\r\n\t\t}\r\n\r\n\t}\r\n\r\n\r\n\r\n\trestPreSel(pre: state) {\r\n\r\n\t\tconst { preIndex, data } = pre;\r\n\t\tconst { childrenField } = this.props;\r\n\r\n\t\tif (preIndex.length === 0) {\r\n\t\t\treturn data;\r\n\t\t}\r\n\r\n\t\tlet newSata;\r\n\r\n\t\tnewSata = data.updateIn([preIndex[0]], (node: MenuItem) => {\r\n\t\t\treturn node.set(\"active\", false)\r\n\t\t})\r\n\r\n\t\tif (preIndex.length > 1) {\r\n\r\n\t\t\tnewSata = newSata.updateIn([preIndex[0], childrenField, preIndex[1]], (node: MenuItem) => {\r\n\t\t\t\treturn node.set(\"active\", false)\r\n\t\t\t})\r\n\r\n\t\t}\r\n\r\n\t\treturn newSata;\r\n\t}\r\n\r\n\r\n\tslectItem = (index: number, parIndex?: number) => {\r\n\r\n\t\tconst { childrenField } = this.props;\r\n\r\n\t\tconst curPath = parIndex ? (parIndex + \"\" + index) : (index + \"\");\r\n\r\n\t\tif (curPath === this.state.preIndex.join(\"\")) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\r\n\t\tthis.setState(pre => {\r\n\r\n\r\n\t\t\tlet preIndex;\r\n\t\t\tlet data = this.restPreSel(pre);\r\n\t\t\tdata = data.updateIn([(parIndex !== undefined ? parIndex : index)], (node: MenuItem) => {\r\n\t\t\t\treturn node.set(\"active\", true)\r\n\t\t\t});\r\n\r\n\r\n\r\n\t\t\tif (parIndex !== undefined) { //  子节点\r\n\t\t\t\tdata = data.updateIn([parIndex, childrenField, index], (node: MenuItem) => {\r\n\t\t\t\t\treturn node.set(\"active\", true)\r\n\t\t\t\t});\r\n\r\n\t\t\t\tpreIndex = [parIndex, index]\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tpreIndex = [index]\r\n\r\n\t\t\t}\r\n\r\n\r\n\r\n\t\t\treturn { data, preIndex }\r\n\t\t},()=>{\r\n\r\n\r\n\t\t\tthis.props.clickBack && this.props.clickBack();\r\n\t\t});\r\n\r\n\t}\r\n\r\n\r\n\trender() {\r\n\t\tconst { textField, childrenField, idField, iconField, expand, pathField } = this.props;\r\n\t\tconst { data } = this.state;\r\n\r\n\t\treturn <ul className=\"g-menu\">\r\n\r\n\t\t\t{\r\n\r\n\t\t\t\tdata.map((item, oIndex) => {\r\n\t\t\t\t\tconst val = item;\r\n\t\t\t\t\tconst child = val.get(childrenField as \"children\");\r\n\t\t\t\t\tconst id = val.get(\"id\");\r\n\r\n\t\t\t\t\tif (child && child.size) {\r\n\t\t\t\t\t\treturn <ParMenu\r\n\t\t\t\t\t\t\texpand={expand}\r\n\t\t\t\t\t\t\tindex={oIndex}\r\n\t\t\t\t\t\t\tsub={child}\r\n\t\t\t\t\t\t\tobj={val}\r\n\t\t\t\t\t\t\tkey={id}\r\n\t\t\t\t\t\t\tslectItem={this.slectItem}\r\n\t\t\t\t\t\t\tidField={idField!}\r\n\t\t\t\t\t\t\ttextField={textField!}\r\n\t\t\t\t\t\t\tpathField={pathField!}\r\n\t\t\t\t\t\t\ticonField={iconField!}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\treturn <SubMenu\r\n\t\t\t\t\t\t\tobj={val}\r\n\t\t\t\t\t\t\tkey={id}\r\n\t\t\t\t\t\t\tslectItem={this.slectItem}\r\n\t\t\t\t\t\t\tindex={oIndex}\r\n\t\t\t\t\t\t\tidField={idField!}\r\n\t\t\t\t\t\t\ttextField={textField!}\r\n\t\t\t\t\t\t\tpathField={pathField!}\r\n\t\t\t\t\t\t\ticonField={iconField!}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\r\n\t\t\t}\r\n\t\t</ul>\r\n\t}\r\n}\r\n\r\n\r\n\r\n\r\n\r\nexport default NavMenu;","import * as React from \"react\";\r\n\r\n\r\n\r\nexport default class ErrorBoundary extends React.Component{\r\n\tstate = {hasError:false};\r\n\r\n\tstatic getDerivedStateFromError(error:any){\r\n\r\n\t\t\tconsole.log(error);\r\n\t\t\treturn {hasError:true} ;\r\n\r\n\t}\r\n\r\n\tcomponentDidCatch(error:any,info:any){\r\n\r\n\t\tconsole.log(error,info);\r\n\r\n\t}\r\n\r\n\trender(){\r\n\r\n\t\tif(this.state.hasError){\r\n\t\t\treturn <div>组件出错！</div>\r\n\t\t}else{\r\n\t\t\treturn this.props.children ;\r\n\t\t}\r\n\t\r\n\t}\r\n\r\n\r\n}","import axios from \"@js/common/AxiosInstance\";\r\nimport * as qs from \"qs\";\r\n\r\nexport default {\r\n\r\n    getMenu:function(data:any){\r\n\r\n        return  axios.get(\"summary/getMenu\",{\r\n                params:data\r\n        });\r\n\r\n\r\n    },\r\n    checkPwd:function(user_id:string,password:string){\r\n\r\n        return axios.post(\"summary/checkPwd\",qs.stringify({user_id,password}))\r\n    },\r\n    updatePwd:function(user_id:string,password:string){\r\n\r\n        return axios.post(\"summary/updatePwd\",qs.stringify({user_id,password}))\r\n\r\n    },\r\n    logOut:function(){\r\n        return axios.get(\"login/logOut\");\r\n    }\r\n    \r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n}","import * as React from \"react\";\r\nimport MenuNav from \"@js/common/NavMenu\";\r\nimport ErrorBoundary from \"@js/common/ErrorBoundary\";\r\nimport * as Velocity from \"velocity-react\";\r\nimport {connect,MapStateToProps,MapDispatchToProps} from \"react-redux\";\r\nimport  Api from \"@api/main\";\r\nimport {SvgIcon} from \"@js/common/Button\";\r\nimport {withRouter,RouteComponentProps} from \"react-router-dom\";\r\nimport {changeFilterType} from \"@js/actions/appAction\"\r\n\r\ntype slideMenu={\r\n\texpand:boolean;\r\n\tdata:any[];\r\n};\r\n\r\n\r\n\t\r\ntype SlideMenuProp={\r\n\r\n}\r\ntype SlideMenuState ={\r\n\r\n\r\n}\r\n\r\nclass SlideMenu extends React.PureComponent< dispatchProp & reduxProp & RouteComponentProps<SlideMenuProp> ,SlideMenuState>{\r\n\r\n\tstate:slideMenu = {\r\n\t\texpand:true,\r\n\t\tdata:[],\r\n\t}\r\n  \r\n\r\n\tgetMenu(role_id:string){\r\n\r\n\t\t\r\n\t\tApi.getMenu({role_id}).then(res=>{\r\n\r\n\t\t\tthis.setState(()=>({\r\n\t\t\t\tdata:res.data,\r\n\t\t\t}),()=>{\r\n\r\n\t\t\t\tthis.firstNav();\r\n\t\t\t});\r\n\t\t\t\r\n\t\t})\r\n\t\t\r\n\t}\r\n\r\n\tfirstNav(){\r\n\r\n\t\tconst {history} = this.props;\r\n\t\tconst {data} = this.state; \r\n\r\n\t\tconst firstNode = data[0].children[0];\r\n\r\n\t\thistory.push({\r\n\t\t\tpathname:firstNode.url,\r\n\t\t\tstate:{\r\n\t\t\t\ttext:firstNode.name,\r\n\t\t\t}\r\n\t\t});\r\n\r\n\r\n\r\n\t}\r\n\r\n\tcomponentDidMount(){\r\n\t\tthis.getMenu(this.props.roleId);\r\n\t}\r\n\tcomponentWillReceiveProps(nextProps:reduxProp){\r\n\t\tif(nextProps.roleId!=this.props.roleId){\r\n\t\t\tthis.getMenu(nextProps.roleId);\r\n\t\t}\r\n\t\t\t\r\n\t}\r\n\texpandHandle=()=>{\r\n\r\n\t\tthis.setState((prevState:slideMenu)=>{\r\n\t\t\treturn {\r\n\t\t\t\texpand:!prevState.expand,\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\r\n\trestFilter=()=>{\r\n\r\n\r\n\t\tthis.props.dispatchChangeFilter(\"0\");\r\n\t}\r\n\r\n\trender(){\r\n\r\n\t\tconst {expand,data} = this.state;\r\n\t\tconst {menuUrl} = this.props;\r\n\r\n\t\treturn (\r\n\t\t\t<Velocity.VelocityComponent duration={300} animation={{width:this.state.expand ? 250 : 50}}>\r\n\t\t\t\t\t<div className={\"g-slideMenu \"+ (!expand ? \"expand\" : \"\")}>\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"g-logo\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"m-logo\"></span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"j-slideBar\" onClick={this.expandHandle}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<SvgIcon styleType={expand?\"menu-expand\":\"menu-shrink\"} size=\"size2\"/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\t\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t<ErrorBoundary>\r\n\t\t\t\t\t\t\t\t\t\t\t{data.length ?\t\r\n\t\t\t\t\t\t\t\t\t\t\t<MenuNav  \r\n\t\t\t\t\t\t\t\t\t\t\t\tdata={data} \r\n\t\t\t\t\t\t\t\t\t\t\t\texpand={expand} \r\n\t\t\t\t\t\t\t\t\t\t\t\ttextField=\"name\" \r\n\t\t\t\t\t\t\t\t\t\t\t\ticonField=\"sysParam\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tmenuUrl={menuUrl}\r\n\t\t\t\t\t\t\t\t\t\t\t\tclickBack={this.restFilter}\r\n\t\t\t\t\t\t\t\t\t\t\t/> :null}\r\n\t\t\t\t\t\t\t\t\t\t\t</ErrorBoundary>\r\n\t\t\t\t\t</div>\r\n\t\t\t</Velocity.VelocityComponent> );\r\n\t}\r\n\r\n\r\n\r\n}\r\n\r\ntype reduxProp ={\r\n\troleId:string;\r\n\tmenuUrl:string;\r\n} \r\n\r\nconst mapStateToProp:MapStateToProps<reduxProp,RouteComponentProps<SlideMenuProp> ,appStore>=({app})=>{\r\n\r\n\tconst roleId = app.get(\"role_ids\")[app.get(\"role_index\")];\r\n\tconst menuUrl = app.get(\"menuUrl\");\r\n\treturn {\r\n\r\n\t\troleId,\r\n\t\tmenuUrl\r\n\r\n\t}\r\n};\r\ntype dispatchProp = {\r\n\tdispatchChangeFilter:(filter:string)=>void;\r\n}\r\nconst mapDispatchToProps: MapDispatchToProps<dispatchProp, RouteComponentProps<SlideMenuProp>> = (dispatch) => {\r\n\r\n\treturn {\r\n\t\t\r\n\t\tdispatchChangeFilter:function(filter:string){\r\n\r\n\r\n\t\t\tdispatch(changeFilterType(filter))\r\n\t\t}\r\n\r\n\t}\r\n\r\n}\r\n\r\n\r\nexport default withRouter(connect(mapStateToProp,mapDispatchToProps)(SlideMenu)) ;","import * as React from \"react\";\r\nimport * as ReactDom from \"react-dom\";\r\nimport {Icon} from \"@js/common/Button\";\r\nimport {VelocityComponent} from \"velocity-react\";\r\n\r\ntype ModalProps = {\r\n\t\tableMove?:boolean;\r\n\t\tshadeTransparent?:boolean; //遮罩层透明\r\n\t\tcontainer:HTMLElement;\r\n\t\ttit:string;\r\n\t\tclassName?:string;\r\n\t\tconfirmName:string;\r\n\t\tcancelName:string;\r\n\t\tonCancel:()=>void;\r\n\t\tonSure:()=>void;\r\n\t\tshow:boolean;\r\n\t\ttype?:\"tip\"|\"question\";\r\n\t\twidth?:number;\r\n}\r\n\r\ntype ModalState = {\r\n\t\t\tpointX:number;\r\n\t\t\tpointY:number;\r\n}\r\n\r\n\r\nexport default class Modal extends React.PureComponent<ModalProps,ModalState>{\r\n\r\n\tstatic defaultProps={\r\n\t\tableMove:true,\r\n\t\tshadeTransparent:false,\r\n\t\tconfirmName:\"确定\",\r\n\t\tcancelName:\"关闭\",\r\n\t}\r\n\r\n\tstate={\r\n\t\t\tpointX:0,\r\n\t\t\tpointY:0,\r\n\t}\r\n\r\n\tModalDom:React.RefObject<HTMLDivElement> = React.createRef();\r\n\r\n\t\r\n\theadMouseDown=(e:React.MouseEvent)=>{\r\n\t\t\tconst modalDom = (this.ModalDom.current)!;\r\n\t\t\tconst {pointY,pointX} = this.state;\r\n\t\t\t\r\n\t\t\t//主义要减去上一次移动留下的位置\r\n\t\t\tconst diffPointX = e.clientX - pointX;\r\n\t\t\tconst diffPointY = e.clientY - pointY;\r\n\r\n\t\t\tmodalDom.onmousemove = (originE:MouseEvent)=>{\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\t\t\tpointX: (originE.clientX - diffPointX),\r\n\t\t\t\t\t\t\tpointY: (originE.clientY - diffPointY),\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t}\r\n\t\r\n\theadMouseUp=()=>{\r\n\t\t\t(this.ModalDom.current)!.onmousemove = null ;\r\n\t}\r\n\r\n\tsureHandle=()=>{\r\n\t\tconst {onSure} = this.props;\r\n\t\tonSure();\r\n\t}\r\n\r\n\trender(){\r\n\r\n\r\n\r\n\t\tconst {children,container,tit,confirmName,cancelName,onCancel,show,className,type,width} = this.props;\r\n\t\tlet flag = container;\r\n\r\n\t\tconst {pointX,pointY} = this.state;\r\n\t\t\r\n\r\n\t\treturn ReactDom.createPortal((\r\n\t\t\t\t<VelocityComponent runOnMount={true} animation = {show?\"transition.bounceDownIn\":\"transition.bounceDownOut\"} > \r\n\t\t\t\t\t<div className={\"g-modal \" +className }\r\n\t\t\t\t\t\tref={this.ModalDom} \r\n\t\t\t\t\t\tonMouseUp={this.headMouseUp}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<div className=\"m-Mwrap\" >\r\n\t\t\t\t\t\t\t<div className=\"m-Mask\" />\r\n\t\t\t\t\t\t\t<div className=\"m-Modal\" style={{transform:`translate(${pointX}px , ${pointY}px)`,width}}>\r\n\t\t\t\t\t\t\t\t<div className=\"m-Mtit\"\r\n\t\t\t\t\t\t\t\t\t\t\tonMouseDown={this.headMouseDown} \r\n\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<span className=\"tit-name\">{type?<Icon styleType={type==\"tip\"?\"fa-exclamation-circle fa-lg\":\"fa-question-circle fa-lg\"}/>:null}{tit}</span>\r\n\t\t\t\t\t\t\t\t\t<span className=\"m-Mclose\" onClick={onCancel}>\r\n\t\t\t\t\t\t\t\t\t\t\t<i className=\"fa fa-times fa-2x\"></i>\r\n\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<div className=\"m-Mbody\">\r\n\t\t\t\t\t\t\t\t\t{children}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"m-Mfooter\">\r\n\t\t\t\t\t\t\t\t\t\t<button className=\"s-btn line-btn green\" onClick={onCancel}>\r\n\t\t\t\t\t\t\t\t\t\t\t{cancelName}\r\n\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t<button className=\"s-btn normal-btn primary\" onClick={this.sureHandle}>\r\n\t\t\t\t\t\t\t\t\t\t\t{confirmName}\r\n\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t</div>\t\r\n\t\t\t\t</VelocityComponent>\r\n\t\t\t),flag);\r\n\t}\r\n}","import * as React from \"react\";\r\n\r\ntype itemObj = {\r\n\tvalue: string;\r\n\ttit: string;\r\n\tchangeHandle?: () => void;\r\n}\r\n\r\ntype props = {\r\n\tchangeHandle: (value: string) => void;\r\n\tdata: itemObj[];\r\n\tnameFiled: string;\r\n}\r\n\r\n\r\nclass Radio extends React.PureComponent<props>{\r\n\r\n\tstatic Item: React.SFC<itemObj & { nameFiled: string }> = ({ value, tit, nameFiled }) => {\r\n\r\n\t\treturn (<label className=\"m-label m-lab-radio\" key={value}>\r\n\t\t\t<span className=\"lab-tit\">{tit}</span>\r\n\t\t\t<input type=\"radio\" name={nameFiled} value={value} />\r\n\t\t</label>)\r\n\t}\r\n\r\n\trender() {\r\n\r\n\t\tconst { data, nameFiled } = this.props;\r\n\r\n\t\treturn (<span className=\"m-radio\">\r\n\r\n\t\t\t{\r\n\t\t\t\tdata.map(({ value, tit }) => {\r\n\r\n\t\t\t\t\treturn <Radio.Item key={value} value={value} tit={tit} nameFiled={nameFiled} />\r\n\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t</span>)\r\n\t}\r\n\r\n}\r\n\r\n\r\ntype itemCheckObj = {\r\n\ttit?: string;\r\n\tchangeHandle: () => void;\r\n\tchecked: boolean;\r\n\tvalue?: string;\r\n\thasChecked?: boolean\r\n}\r\n\r\n\r\ntype checkProps = {\r\n\tchangeHandle: () => void;\r\n\tdata: Pick<itemCheckObj, \"tit\" | \"checked\" | \"value\">[];\r\n\tnameFiled: string;\r\n}\r\n\r\ntype checkState = {\r\n\t/*checked:boolean;\r\n\thasChecked:boolean;*/\r\n}\r\n\r\nclass Checkbox extends React.PureComponent<checkProps, checkState>{\r\n\r\n\r\n\r\n\tstatic Item: React.SFC<itemCheckObj & { nameFiled: string }> = ({ tit, nameFiled, changeHandle, checked, hasChecked }) => {\r\n\r\n\t\treturn (<label className=\"m-label m-lab-checkbox\" >\r\n\t\t\t<input type=\"checkbox\" className={hasChecked ? \"has-check\" : \"\"} name={nameFiled} checked={checked} onChange={changeHandle!} />\r\n\t\t\t{tit ? (<span className=\"lab-tit\">{tit}</span>) : null}\r\n\t\t</label>)\r\n\t}\r\n\r\n\trender() {\r\n\r\n\t\tconst { data, nameFiled, changeHandle } = this.props;\r\n\r\n\t\treturn (<span className=\"m-checkbox\">\r\n\r\n\t\t\t{\r\n\t\t\t\tdata.map(({ value, tit, checked }) => {\r\n\r\n\t\t\t\t\treturn <Checkbox.Item checked={checked} key={value} tit={tit} nameFiled={nameFiled} changeHandle={changeHandle} />\r\n\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t</span>)\r\n\t}\r\n\r\n}\r\n\r\ntype CominpProps = {\r\n\tmultiply: boolean;\r\n\ttoggleDrop: (e: React.MouseEvent<HTMLElement>) => void;\r\n\tvalue: string;\r\n\tdrop: boolean;\r\n\thasSlideIcon?: boolean;\r\n\tplaceholder?: string;\r\n}\r\n\r\ntype CominpState = {\r\n\r\n}\r\n\r\nclass ComboInp extends React.PureComponent<CominpProps, CominpState>{\r\n\r\n\r\n\trender() {\r\n\r\n\t\tconst { multiply, toggleDrop, value, drop, hasSlideIcon, placeholder } = this.props;\r\n\r\n\t\treturn (<div className=\"m-combo-inp\" onClick={toggleDrop}>\r\n\t\t\t<span>\r\n\t\t\t\t{!multiply ? <input type=\"text\" className=\"m-inp\" readOnly value={value} placeholder={placeholder ? placeholder : \"单选\"} /> : (<textarea value={value} className=\"m-inp\" readOnly placeholder={placeholder ? placeholder : \"多选\"} />)\r\n\t\t\t\t}\r\n\t\t\t</span>\r\n\t\t\t{hasSlideIcon ? (<span className=\"j-slide\" >\r\n\t\t\t\t<i className={\"fa \" + (drop ? \"fa-chevron-up\" : \"fa-chevron-down\")}></i>\r\n\t\t\t</span>) : null}\r\n\t\t</div>)\r\n\r\n\r\n\t}\r\n}\r\n\r\n\r\n\r\ntype InpBoxProp = {\r\n\ttype: string;\r\n\ttitle: string;\r\n\tstyleType: string;\r\n\tvalue?: string;\r\n\tchangeHandle: (field: string, value: string) => void;\r\n\tfield: string;\r\n\tplaceholder?:string;\r\n}\r\n\r\ntype InpBoxState = {\r\n\r\n}\r\n\r\nclass InpBox extends React.PureComponent<InpBoxProp, InpBoxState>{\r\n\r\n\r\n\r\n\tchangeHandle = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n\r\n\t\tconst { changeHandle, field } = this.props;\r\n\t\tconst value = e.target.value.trim();\r\n\t\tchangeHandle(field, value);\r\n\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { type, title, styleType, value , placeholder} = this.props;\r\n\r\n\t\tconst fillStatus = value ? \"\" : \" no-fill \";\r\n\r\n\t\treturn (\r\n\t\t\t<div className=\"item-inp\">\r\n\t\t\t\t<span className=\"m-inp-tit\">{title} </span>\r\n\t\t\t\t<input type={type} className={\"s-inp \" + fillStatus + styleType} value={value} onChange={this.changeHandle} placeholder={ placeholder}/>\r\n\t\t\t</div>\r\n\t\t)\r\n\r\n\t}\r\n}\r\n\r\nexport {\r\n\tRadio,\r\n\tCheckbox,\r\n\tComboInp,\r\n\tInpBox,\r\n}","import * as React from \"react\";\r\nimport {createPortal} from \"react-dom\";\r\nimport \"@css/alertInfo.scss\";\r\nimport {VelocityComponent} from \"velocity-react\";\r\n\r\n\r\n\r\ntype NotificationProps={\r\n\r\n}\r\n\r\ntype NotificationState={\r\n    notices:{tit:string,type:noticeProps[\"type\"],sigin:string,time:number}[];\r\n}\r\n\r\n\r\nclass Notification extends React.PureComponent<NotificationProps,NotificationState>{\r\n   state={\r\n       notices:[]\r\n   } \r\n        addNotice(tit:string,type:noticeProps[\"type\"],time:number=1400){\r\n\r\n            this.setState(pre=>{\r\n\r\n                const notice = pre.notices;\r\n                const sigin = this.getKey(notice.length);\r\n                return {\r\n                    notices:pre.notices.concat({tit,type,sigin,time})\r\n                }\r\n            });\r\n\r\n            \r\n        }\r\n\r\n        getKey(index:number){\r\n            return new Date().getTime() + \"-\"+index;\r\n        }\r\n\r\n        closeHandle=(e:React.MouseEvent<HTMLElement>)=>{\r\n            const key = e.currentTarget!.dataset.key;\r\n            this.removeNotice(key!)\r\n        }\r\n\r\n        removeNotice=(key:string)=>{\r\n\r\n            this.setState(pre=>{\r\n                return {\r\n                    notices:pre.notices.filter(val=>val.sigin!==key)\r\n                }\r\n            })\r\n\r\n        }\r\n\r\n        render(){\r\n\r\n            const {notices} = this.state;\r\n\r\n            const dom = document.getElementById(\"s-modal\");\r\n            return dom ? createPortal((<div className=\"g-notification\">\r\n\r\n                {\r\n                    notices.map((node)=>{\r\n\r\n                        const {tit,type,sigin,time} = node ;\r\n                    \r\n                        return <Notice  del={this.removeNotice} tit={tit} type={type} time={time} key={sigin}  closeHandle={this.closeHandle} sigin={sigin}/>\r\n\r\n\r\n                    })\r\n                }\r\n            </div>),dom) : null;\r\n        }\r\n};\r\n\r\ntype noticeProps={\r\n    type:\"error\"|\"success\"|\"warn\";\r\n    tit:string;\r\n    closeHandle:(e:React.MouseEvent<HTMLElement>)=>void;\r\n    sigin:string;\r\n    time:number;\r\n    del:(key:string)=>void;\r\n}\r\n\r\ntype noticeState={\r\n    timeId:undefined | number;\r\n}\r\n\r\nclass Notice extends React.PureComponent<noticeProps,noticeState>{\r\n    state={\r\n        timeId:undefined\r\n    }\r\n    componentDidMount(){\r\n\r\n        const {time,del,sigin} = this.props;\r\n        \r\n        if(time>0){\r\n\r\n            const timeId = window.setTimeout(function(){\r\n\r\n                del(sigin);\r\n\r\n            },time);\r\n\r\n            this.setState({\r\n                timeId,\r\n            })\r\n\r\n        }\r\n\r\n    }\r\n\r\n    componentWillUnmount(){\r\n\r\n        const timeId = this.state.timeId;\r\n\r\n        if(timeId){\r\n            window.clearTimeout(timeId);\r\n        }\r\n    }\r\n\r\n    render(){\r\n\r\n        const {type,tit,closeHandle,sigin} = this.props;\r\n\r\n        return (\r\n            <VelocityComponent animation=\"transition.bounceRightIn\" runOnMount={true}>\r\n  \r\n                <div >\r\n                    <span className=\"g-alertInfo\">\r\n                        <span>\r\n                            <span className={type} style={{ paddingRight: 8, fontSize: 24 }}>\r\n                                <i className={\"fa \" + (type == \"success\" ? \"fa-check-circle\" : type == \"warn\" ? \"fa-exclamation-triangle\" : \"fa-times-circle-o \")}></i>\r\n\r\n                            </span>\r\n                            <span className=\"txt\">{tit}</span>\r\n                        </span>\r\n                       \r\n                        <span className=\"m-alert-close\" data-key={sigin} onClick={closeHandle}><i className=\"fa fa-times fa-lg\"  /></span>\r\n\r\n                    </span>\r\n                  \r\n                </div>\r\n            </VelocityComponent >\r\n        )\r\n    }\r\n}\r\n\r\n\r\nexport {\r\n    Notification\r\n}\r\n","import * as React from \"react\";\r\n\r\nconst Url = \"ws://\"+window.location.host+window.getSession(\"getPath\")+\"WebSocket\";\r\n\r\ntype socketProps={\r\n  user_id:string;\r\n  role_id:string;\r\n filterDispatch:(filter:string)=>void;\r\n}\r\ntype soketState={\r\n    data:string[];\r\n}\r\n\r\nclass SoketNews extends React.PureComponent<socketProps,soketState>{\r\n\r\n    static tryTime = 0 ;\r\n    static heartflag = false;\r\n    webSocket:null | WebSocket;\r\n    state:soketState={\r\n        data:[]\r\n    }\r\n    initSocket(props:socketProps){\r\n        \r\n       const {user_id,role_id} = props;\r\n\r\n       const webSocket = new WebSocket(Url+\"/\"+user_id+\"/\"+role_id);\r\n       const _self = this ;\r\n       webSocket.onmessage = function (msg) {\r\n\r\n             const result = msg.data;\r\n\r\n            if(result == \"&\"){\r\n\r\n             }else if(result){\r\n\r\n                const data = JSON.parse(msg.data);\r\n                const arr = data.data\r\n                _self.setState({\r\n                    data: arr ,\r\n                });\r\n                \r\n                \r\n            }\r\n\r\n\r\n        };\r\n\r\n        // 异常\r\n        webSocket.onerror = function () {\r\n          \r\n            SoketNews.heartflag=false\r\n         \r\n           console.log(\" 异常 \");\r\n        };\r\n\r\n        // 建立连接\r\n        webSocket.onopen = function () {\r\n           \r\n            SoketNews.heartflag=true\r\n            _self.heart();\r\n           console.log(\"建立连接成功\");\r\n            SoketNews.tryTime = 0;\r\n        };\r\n\r\n        // 断线重连\r\n        webSocket.onclose = function () {\r\n            \r\n            SoketNews.heartflag=false\r\n            // 重试10次，每次之间间隔10秒\r\n            if (SoketNews.tryTime < 10) {\r\n                setTimeout(function () {\r\n                    _self.webSocket = null;\r\n                    SoketNews.tryTime++;\r\n                   _self.webSocket = _self.initSocket(_self.props);\r\n                    console.log(\"  第\"+SoketNews.tryTime+\"次重连\");\r\n                }, 3*1000);\r\n            } else {\r\n                //alert(\"重连失败.\");\r\n            }\r\n        };\r\n\r\n       return  webSocket;\r\n\r\n    }\r\n\r\n    componentWillReceiveProps(nextProps:socketProps){\r\n\r\n        const {role_id,user_id}=this.props;\r\n        if(nextProps.role_id!==role_id || nextProps.user_id!==user_id){\r\n\r\n                this.webSocket!.close();\r\n\r\n                this.webSocket = this.initSocket(nextProps);\r\n\r\n\r\n\r\n        }\r\n\r\n    }\r\n    \r\n    componentDidMount(){\r\n      \r\n      this.webSocket = this.initSocket(this.props);\r\n    \r\n    }\r\n\r\n    componentWillUnmount(){\r\n        if(this.webSocket){\r\n            this.webSocket.close();\r\n        }\r\n    }\r\n\r\n    viewType=(e:React.MouseEvent<HTMLLIElement>)=>{\r\n\r\n        const str = e.currentTarget!.innerHTML;\r\n        const {filterDispatch} = this.props;\r\n        let type =\"0\";\r\n        if(str.includes(\"审核\")){\r\n\r\n            type=\"3\"\r\n\r\n        }else if(str.includes(\"报错\")){\r\n            type =\"6\"\r\n\r\n        }else if(str.includes(\"驳回\")){\r\n            type=\"4\"\r\n        }else if(str.includes(\"翻译\")){\r\n            type=\"1\"\r\n        }\r\n\r\n        filterDispatch(type);\r\n\r\n\r\n       \r\n\r\n    }\r\n\t\r\n\r\n\theart() {\r\n\r\n      \r\n\r\n        if (SoketNews.heartflag){\r\n           this.webSocket!.send(\"&\");\r\n           console.log(\"  心跳 <br/>\");\r\n        }\r\n\r\n    }\r\n\r\n  \tsend(message:string){\r\n\r\n        this.webSocket!.send(message);\r\n    }\r\n\r\n\r\n\trender(){\r\n\r\n        const {data} = this.state;\r\n\r\n        return (\r\n            <>\r\n                <div style={{ padding: \"20px 0\" }}>\r\n                    <i className=\"fa fa-envelope-o fa-lg\"></i>\r\n                   { data.length ? <i className=\"fa fa-circle\"></i> :null}\r\n                </div>\r\n                <ul className=\"m-soket-drop m-sysOpt\">\r\n                    {\r\n                      data.length ?  data.map((val,index)=>{\r\n                            return (\r\n                                <li key={index} onClick={this.viewType}>{val}</li>\r\n                            )\r\n                        }) :<li>没有消息!</li>\r\n                    }\r\n                </ul>\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nexport default SoketNews;\r\n\r\n\r\n\r\n\r\n","import * as React from \"react\";\r\nimport { withRouter, RouteComponentProps } from \"react-router-dom\"\r\nimport { connect, MapStateToProps ,MapDispatchToProps} from \"react-redux\";\r\nimport Modal from \"@js/common/Modal\";\r\nimport { InpBox } from \"@js/common/InputBtn\";\r\nimport {changeRole,changeFilterType,changeMenuUrl} from \"@js/actions/appAction\";\r\nimport {SvgIcon} from \"@js/common/Button\";\r\nimport Api from \"@api/main\";\r\nimport {Notification} from \"@js/common/toast/index\";\r\nimport SocketNews from \"./Socket\";\r\nimport {Icon} from \"@js/common/Button\"\r\n\r\n const LoginUrl = window.getSession(\"getPath\")+\"login\";\r\n\r\ntype HeadProp = {\r\n\r\n}\r\n\r\ntype HeadState = {\r\n\tinitPasswordModal: boolean;\r\n\tshowPasswordModal: boolean;\r\n\tpassword: string;\r\n\tnewPassword:string;\r\n\twarnText:string;\r\n}\r\n\r\nclass Head extends React.PureComponent<RouteComponentProps<HeadProp> & reduxStateProp & dispatchProp, HeadState>{\r\n\r\n\tstate: HeadState = {\r\n\t\tinitPasswordModal: false,\r\n\t\tshowPasswordModal: false,\r\n\t\tpassword: \"\",\r\n\t\tnewPassword: \"\",\r\n\t\twarnText:\"\"\r\n\t}\r\n\r\n\tcomponentDidMount(){\r\n\r\n\t}\r\n\tcomponentWillMount(){\r\n\r\n\t}\r\n\r\n\tlogOut = () => {\r\n\r\n\t\tApi.logOut()\r\n\t}\r\n\r\n\tnotifitionRef:React.RefObject<Notification>=React.createRef();\r\n\tasync submitPassword(){\r\n\r\n\t\tconst {newPassword,password} = this.state;\r\n\t\tconst {user_id} = this.props;\r\n\r\n\t\t\r\n\r\n\t\tconst result = await Api.checkPwd(user_id,password) as AxiosInterfaceResponse;\r\n\t\r\n\t\tif(result.code===200){\r\n\t\t\t\tApi.updatePwd(user_id,newPassword).then(()=>{\r\n\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tthis.togglePassword();\r\n\t\t\t\t\t\twindow.location.href=LoginUrl;\r\n\r\n\t\t\t\t});\r\n\t\t}else{\r\n\t\t\t\r\n\t\t\tthis.setState({\r\n\t\t\t\twarnText:result.message\r\n\t\t\t})\r\n\t\t}\r\n\r\n\r\n\t}\r\n\r\n\tsubmit=()=>{\r\n\r\n\t\tconst {newPassword,password} = this.state;\r\n\t\tif(!newPassword || !password){\r\n\r\n\t\t\tthis.setState({\r\n\t\t\t\twarnText:\"填写完整！\"\r\n\t\t\t});\r\n\t\t\treturn\r\n\r\n\t\t}\r\n\r\n\t\tthis.submitPassword();\r\n\t}\r\n\r\n\ttogglePassword = () => {\r\n\r\n\t\tthis.setState(pre => ({\r\n\t\t\tinitPasswordModal: true,\r\n\t\t\tshowPasswordModal: !pre.showPasswordModal,\r\n\t\t\twarnText:\"\",\r\n\t\t\tpassword: \"\",\r\n\t\t\tnewPassword: \"\",\r\n\t\t}))\r\n\t}\r\n\r\n\tchangePassword = (file: \"password\", pwd: string) => {\r\n\r\n\t\tthis.setState({\r\n\t\t\t[file]: pwd,\r\n\t\t})\r\n\r\n\t}\r\n\r\n\tchangeRole = (e: React.MouseEvent<HTMLLIElement>) => {\r\n\r\n\t\tconst roleIndex = +(e.currentTarget!.dataset.id)!;\r\n\r\n\t\tthis.props.dispatchChangeRole(roleIndex);\r\n\t}\r\n\r\n\tchangeFilterAndJump=(filter:string)=>{\r\n\r\n\t\t\r\n\t\t\r\n\t\tif(this.props.location.pathname==\"/summary\"){\r\n\t\t\t\tthis.props.dispatchChangeFilter(filter);\r\n\t\t}else{\r\n\t\t\tconst _self = this;\r\n\t\t\tthis.props.dispatchChangeMenu(\"1,0\");\r\n\t\t\t\tsetTimeout(function(){\r\n\t\t\t\t_self.props.dispatchChangeFilter(filter);\r\n\r\n\t\t\t},0);\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\t\t\r\n\r\n\t\tthis.props.history.push({\r\n\t\t\tpathname:\"/summary\",\r\n\t\t\tstate:{\r\n\t\t\t\ttext:\"病例清单\"\t\r\n\t\t\t}\r\n\t\t})\r\n\r\n\t}\r\n\r\n\trender() {\r\n\r\n\t\tconst { user_name, role_arr, role_index, role_ids ,user_id,org_name} = this.props;\r\n\t\tconst { initPasswordModal, showPasswordModal, password,newPassword,warnText} = this.state;\r\n\r\n\t\tconst role_id = role_ids[role_index];\r\n\r\n\t\tconst rootModalDom = document.getElementById(\"modal_root\") as HTMLDivElement;\r\n\r\n\t\treturn (<div className=\"g-head\">\r\n\t\t\t<Notification ref={this.notifitionRef} />\r\n\t\t\t{initPasswordModal ? (<Modal\r\n\t\t\t\tshow={showPasswordModal}\r\n\t\t\t\tcontainer={rootModalDom!}\r\n\t\t\t\ttit={\"修改密码\"}\r\n\t\t\t\tonCancel={this.togglePassword}\r\n\t\t\t\tonSure={this.submit}\r\n\t\t\t\tclassName=\"pwd-M\"\r\n\r\n\t\t\t>\r\n\t\t\t\t<p className=\"item-inp\"><span className=\"m-inp-tit\">用户名</span>{user_name}</p>\r\n\t\t\t\t<InpBox\r\n\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\tstyleType=\"normal\"\r\n\t\t\t\t\tfield=\"password\"\r\n\t\t\t\t\ttitle=\"旧密码\"\r\n\t\t\t\t\tvalue={password}\r\n\t\t\t\t\tchangeHandle={this.changePassword}\r\n\t\t\t\t/>\r\n\t\t\t\t<InpBox\r\n\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\tstyleType=\"normal\"\r\n\t\t\t\t\tfield=\"newPassword\"\r\n\t\t\t\t\ttitle=\"新密码\"\r\n\t\t\t\t\tvalue={newPassword}\r\n\t\t\t\t\tchangeHandle={this.changePassword}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t{warnText ? <div><p className=\"m-warn\"><Icon styleType=\"fa-exclamation-triangle\" />{warnText}</p></div> : null} \r\n\r\n\t\t\t</Modal>) : null}\r\n\t\t\t<span className=\"m-theme\">出院小结管理</span>\r\n\t\t\t<div className=\"g-sys_set\">\r\n\t\t\t\t<div className=\"g-role-sys\">\r\n\t\t\t\t\t<div style={{ padding: \"20px 10px\"}}>\r\n\t\t\t\t\t\t<span>{role_arr[role_index]}&nbsp;&nbsp;&nbsp;</span>\r\n\t\t\t\t\t{role_ids.length ?\t<span className=\"fa fa-arrows-v \">&nbsp;切换角色</span>:null}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{role_ids.length ?<ul className=\"m-sysOpt\">\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\trole_ids.map((val, index) => {\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<li onClick={this.changeRole} key={val} data-id={index} className={role_index==index ? \"active\":\"\"}>\r\n\t\t\t\t\t\t\t\t\t\t<span>{role_arr[index]}</span>\r\n\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</ul>:null}\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"m-mail\">\r\n\t\t\t\t\t <SocketNews  user_id={user_id} role_id={role_id} filterDispatch={this.changeFilterAndJump}/>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<span >{org_name}</span>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"g-user-opt\" >\r\n\t\t\t\t\t<div style={{ padding: \"20px 10px\" }}>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<SvgIcon styleType=\"user\" size=\"size1\"/>\r\n\t\t\t\t\t\t<span style={{verticalAlign:4}}>{user_name}</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<ul className=\"m-sysOpt\">\r\n\t\t\t\t\t\t<li onClick={this.logOut}>\r\n\t\t\t\t\t\t\t<span className=\"fa fa-power-off \">&nbsp;&nbsp;</span>\r\n\t\t\t\t\t\t\t<span>退出系统</span>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t<li onClick={this.togglePassword}>\r\n\t\t\t\t\t\t\t<span className=\"fa fa-key \">&nbsp;&nbsp;</span>\r\n\t\t\t\t\t\t\t<span>修改密码</span>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t</ul>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t);\r\n\t}\r\n};\r\n\r\n\r\ntype reduxStateProp = {\r\n\tuser_name: string;\r\n\trole_arr: string[];\r\n\trole_index: number;\r\n\trole_ids: string[];\r\n\tuser_id:string;\r\n\torg_name:string;\r\n}\r\n\r\ntype dispatchProp = {\r\n\r\n\tdispatchChangeFilter:(filter:string)=>void;\r\n\tdispatchChangeRole:(roleIndex:number)=>void;\r\n\tdispatchChangeMenu(url:string):void;\r\n}\r\n\r\nconst mapStateToProps: MapStateToProps<reduxStateProp, RouteComponentProps<HeadProp>, appStore> = ({ app }) => {\r\n\r\n\treturn {\r\n\t\tuser_name: app.get(\"user_name\"),\r\n\t\trole_arr: app.get(\"role_names\"),\r\n\t\trole_ids: app.get(\"role_ids\"),\r\n\t\trole_index: app.get(\"role_index\"),\r\n\t\tuser_id:app.get(\"user_id\"),\r\n\t\torg_name:app.get(\"org_names\")[0]\r\n\t}\r\n\r\n}\r\nconst mapDispatchToProps: MapDispatchToProps<dispatchProp, RouteComponentProps<HeadProp>> = (dispatch) => {\r\n\r\n\treturn {\r\n\t\tdispatchChangeRole:function(roleIndex:number){\r\n\r\n\r\n\t\t\tdispatch(changeRole(roleIndex))\r\n\t\t},\r\n\t\tdispatchChangeFilter:function(filter:string){\r\n\r\n\r\n\t\t\tdispatch(changeFilterType(filter))\r\n\t\t},\r\n\t\tdispatchChangeMenu: function (url: string) {\r\n\r\n\r\n\t\t\tdispatch(changeMenuUrl(url))\r\n\t\t},\r\n\r\n\t}\r\n\r\n}\r\n\r\n\r\nexport default withRouter(connect(mapStateToProps,mapDispatchToProps)(Head));","import * as React from \"react\";\r\nimport { VelocityComponent } from \"velocity-react\";\r\n\r\n\r\ntype props = {\r\n\tsearchHandle: (keyword: string,field?:string) => void;\r\n\tcloseHandle?: (field?:string) => void;\r\n\ttip?: string;\r\n\twidth?:number;\r\n\thasBtn:boolean;\r\n\tfield?:string;\r\n}\r\n\r\ntype state = {\r\n\tsearching: boolean;\r\n}\r\n\r\nexport default class SearchCom extends React.PureComponent<props, state>{\r\n\r\n\tstatic defaultProps = {\r\n\t\ttip: \"查询搜索结果...\",\r\n\t\twidth:200,\r\n\t\thasBtn:true,\r\n\t}\r\n\tstate: state = {\r\n\t\tsearching: false,\r\n\t}\r\n\r\n\tinpDom: React.RefObject<HTMLInputElement> = React.createRef();\r\n\r\n\ttoggleSearch = () => {\r\n\r\n\r\n\t\tconst keyWord = this.inpDom.current!.value.trim();\r\n\t\tif (!keyWord) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tconst {field} = this.props;\r\n\t\tthis.setState({\r\n\t\t\tsearching: true,\r\n\t\t});\r\n\r\n\t\tthis.props.searchHandle(keyWord,field);\r\n\r\n\r\n\r\n\t}\r\n\r\n\tcloseSearch = () => {\r\n\r\n\t\tthis.setState({\r\n\t\t\tsearching: false,\r\n\t\t});\r\n\t\tthis.inpDom.current!.value = \"\";\r\n\r\n\t\tconst {closeHandle,field} = this.props;\r\n\t\t\r\n\t\tcloseHandle && closeHandle(field);\r\n\t}\r\n\r\n\tkeyPress=(e:React.KeyboardEvent)=>{\r\n\r\n\t\tif(e.key===\"Enter\"){\r\n\r\n\t\t\tthis.toggleSearch();\r\n\r\n\t\t}\r\n\t}\r\n\r\n\r\n\trender() {\r\n\r\n\t\tconst { searching } = this.state;\r\n\t\tconst { tip ,width,hasBtn} = this.props;\r\n\r\n\t\treturn (<div className=\"m-search\">\r\n\t\t\t<span className=\"m-inp-val\" style={{width}}>\r\n\t\t\t\t<input \r\n\t\t\t\t\ttype=\"text\" \r\n\t\t\t\t\tref={this.inpDom} \r\n\t\t\t\t\tclassName=\"s-inp\" \r\n\t\t\t\t\tplaceholder={tip}\r\n\t\t\t\t\tonKeyDown={this.keyPress}\r\n\t\t\t\t\tstyle={!hasBtn?{paddingRight:26}:undefined}\r\n\t\t\t\t/>\r\n\t\t\t{!hasBtn && !searching ?\t<span className=\"search-icon\" onClick={this.toggleSearch}><i className=\"fa fa-search fa-lg\"></i></span> :null}\r\n\t\t\t\t<VelocityComponent animation={searching ? \"fadeIn\" : \"fadeOut\"}>\r\n\t\t\t\t\t<span className=\"m-search-close\" onClick={this.closeSearch}><i className=\"fa fa-times fa-lg\"></i></span>\r\n\t\t\t</VelocityComponent>\r\n\t\t\t</span>\r\n\t\t\t{hasBtn ? (<button className=\"s-btn normal-btn\" onClick={this.toggleSearch}>\r\n\t\t\t\t<span className=\"fa fa-search\"></span>\r\n\t\t\t</button>):null}\r\n\t\t</div>)\r\n\t}\r\n\r\n\r\n}","import * as React from \"react\";\r\n\r\ntype commonInterface = CalendarSpace.commonInterface;\r\n\r\n\r\ntype DayViewProp={\r\n\tcurTime:commonInterface[\"curTime\"];\r\n\tshowTimeObj:commonInterface[\"showTimeObj\"];\r\n\tselTimeObj:commonInterface[\"showTimeObj\"];\r\n\tclickSelHandle:(e:React.MouseEvent<HTMLElement>)=>void;\r\n\ttime:boolean;\r\n\tchangeTime:CalendarSpace.CalendarApi[\"changeTime\"];\r\n\tviewIndex:0|1;\r\n};\r\ntype DayViewState={\r\n\r\n};\r\n\r\n\r\n\r\n\r\n\r\nexport default class CalendarDayView extends React.PureComponent<DayViewProp,DayViewState>{\r\n\r\n\tstatic DayComponent:React.SFC<{\r\n\t\tdayNum:number;\r\n\t\tdisabled:boolean;\r\n\t\tshowTimeObj:DayViewProp[\"showTimeObj\"];\r\n\t\tcurTime:DayViewProp[\"curTime\"];\r\n\t\tselTimeObj:DayViewProp[\"showTimeObj\"];\r\n\t\tclickSelHandle:DayViewProp[\"clickSelHandle\"] |undefined;\r\n\t}>=({dayNum,disabled,showTimeObj,selTimeObj,curTime,clickSelHandle})=>{\r\n\t\t\r\n\r\n\t\tconst year = showTimeObj.get(\"year\") ,\r\n\t\t\t\t\tmonth = showTimeObj.get(\"month\") ;\r\n\r\n\r\n\t\tconst sel_year = selTimeObj.get(\"year\"),\r\n\t\t\t\t\tsel_mon = selTimeObj.get(\"month\"),\r\n\t\t\t\t\tsel_day= selTimeObj.get(\"day\");\r\n\r\n\t\tconst is_able = !disabled ? \" view-item \" :\"day-disabled\" ;\r\n\r\n\t\tconst is_Today = (!disabled  && year === curTime.year && month === curTime.month && curTime.day === dayNum) && \"calendar-today\" || \"\";\r\n\r\n\t\tconst is_sel = (!disabled &&  year === sel_year && month === sel_mon && dayNum === sel_day) && \"calendar-sel\" || \"\";\r\n\r\n\t\treturn \t(<li className={is_able + \" \" + is_Today + \" \" + is_sel } data-sign=\"day\" data-num={dayNum} onClick={clickSelHandle}>\r\n\t\t\t\t\t\t\t\t<span className=\"day-span\" >{dayNum}</span>\r\n\t\t\t\t\t\t</li>)\r\n\t\t\t\t\r\n\t}\t\r\n\r\n\tstatic TimePick:React.SFC<{\r\n\t\tselTimeObj:DayViewProp[\"showTimeObj\"];\r\n\t\tchangeTime:CalendarSpace.CalendarApi[\"changeTime\"];\r\n\t\tviewIndex:0|1;\r\n\t}>=({selTimeObj,changeTime,viewIndex})=>{\r\n\t\tconst hour = selTimeObj.get(\"hour\") ,\r\n\t\t\t\t\tminute = selTimeObj.get(\"minute\") ;\r\n\r\n\t\treturn \t(<div className=\"m-time\">\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<b>时间：&nbsp;</b>\r\n\t\t\t\t\t\t<input type=\"number\" className=\"wacth-time\" data-viewindex={viewIndex} max=\"24\" min=\"0\" value={hour} name=\"hour\" onChange={changeTime} />\t\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<b>&nbsp;&nbsp;:&nbsp;</b>\r\n\t\t\t\t\t\t<input type=\"number\" className=\"wacth-time\" max=\"60\" data-viewindex={viewIndex}  min=\"0\" name=\"minute\" value={minute} onChange={changeTime} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>)\r\n\t\t\t\t\r\n\t}\t\r\n\r\n\r\n\tgetMonDays(year:number,mon:number){\r\n\t\tconst day = new Date(year,mon,0);\r\n\t\treturn day.getDate();\r\n\t}\r\n\r\n\t\r\n\trender(){\r\n\r\n\r\n\t\t\t\tconst {showTimeObj,curTime,selTimeObj,clickSelHandle,time,changeTime,viewIndex} = this.props;\r\n\r\n\t\t\t\tconst year = showTimeObj.get(\"year\") ,\r\n\t\t\t\t\t\t\tmonth = showTimeObj.get(\"month\") ;\r\n\t\r\n\t\t\t\tconst days = this.getMonDays(year,month);\r\n\r\n\t\t\t\tconst MonFirstDayToWeek = (new Date(year,month-1,1)).getDay(); //看当前这个月的第一天是星期几\r\n\t\t\r\n\t\t\t\tconst dayArrleg= Math.ceil((days+MonFirstDayToWeek)/7); // 一共包含几个星期再内\r\n\r\n\r\n\t\t\t\tconst daysArr = new Array(dayArrleg).fill(\"1\").map((...args)=>{\r\n\r\n\t\t\t\t\tconst [,index] = args;\r\n\r\n\t\t\t\t\tswitch(index){ \r\n\r\n\t\t\t\t\t\tcase 0 :{  // 日历的第一行，有可能包含上个月的\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tconst preMonDays = this.getMonDays(year,month-1); //上一个月的\r\n\r\n\t\t\t\t\t\t\tconst preMonDayArr = Array.from({length:MonFirstDayToWeek},(...args)=>args[1]+1).map(val=>{\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\tconst day = preMonDays-MonFirstDayToWeek+val; \r\n\r\n\t\t\t\t\t\t\t\t\treturn <CalendarDayView.DayComponent \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey={day} \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdayNum={day}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t  disabled={true} \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t  curTime={curTime} \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t  selTimeObj={selTimeObj} \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t  showTimeObj={showTimeObj}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t   clickSelHandle={undefined} \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t  /> ;\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\r\n\t\t\t\t\t\t\tconst firstArr = Array.from({length:7-MonFirstDayToWeek},(...args)=>args[1]+1).map(val=>{\r\n\t\t\t\t\t\t\t\t\treturn <CalendarDayView.DayComponent  \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdayNum={val} \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey={val}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled={false}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcurTime={curTime} \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t  selTimeObj={selTimeObj} \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t  showTimeObj={showTimeObj}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t  clickSelHandle={clickSelHandle} \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t  /> ;\r\n\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t\treturn (<ul className=\"data-group\" key={index}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tpreMonDayArr.concat(firstArr)\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t</ul>)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\tcase  dayArrleg-1: {//最后一排，可能包含下个月的日期\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t const startDayNum = 7*index - MonFirstDayToWeek ;\r\n\r\n\t\t\t\t\t\t\t const count = (days+MonFirstDayToWeek) % 7 || 7;\r\n\r\n\t\t\t\t\t\t\tconst lastArr = Array.from({length:count},(...args)=>args[1]+1).map(val=>{\r\n\t\t\t\t\t\t\t\t\tconst day = val + startDayNum; \r\n\t\t\t\t\t\t\t\t\treturn <CalendarDayView.DayComponent \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t dayNum={day} \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t disabled={false} \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t \t curTime={curTime} \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t   selTimeObj={selTimeObj} \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t   showTimeObj={showTimeObj} \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t   key={day}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t   clickSelHandle={clickSelHandle}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t /> ;\r\n\t\t\t\t\t\t\t });\r\n\r\n\t\t\t\t\t\t\t const lastMonDays = Array.from({length:7-count},(...args)=>args[1]+1).map((val)=>{\r\n\t\t\t\t\t\t\t\t\treturn <CalendarDayView.DayComponent  \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdayNum={val} \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled={true} \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcurTime={curTime} \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t  selTimeObj={selTimeObj} \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t  showTimeObj={showTimeObj} \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t  key={val}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t  clickSelHandle={undefined}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/> ;\r\n\t\t\t\t\t\t\t });\r\n\t\t\t\t\t\t\t\r\n\r\n\t\t\t\t\t\t\treturn (<ul className=\"data-group\" key={index}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlastArr.concat(lastMonDays)\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t</ul>)\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tdefault :{\r\n\r\n\t\t\t\t\t\t\t const startDayNum = 7*index - MonFirstDayToWeek ;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tconst  MonDayArr = Array.from({length:7},(...args)=>args[1]+1).map((val)=>{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tconst day = val + startDayNum; \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn <CalendarDayView.DayComponent  \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdayNum={day} \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey={day}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled={false} \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcurTime={curTime} \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t  selTimeObj={selTimeObj} \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t \t\t\t showTimeObj={showTimeObj} \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t \t\t\t clickSelHandle={clickSelHandle}\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/> ;\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t\t\treturn (<ul className=\"data-group\" key={index}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tMonDayArr\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t</ul>) \r\n\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t});\r\n\r\n\r\n\r\n\t\t\t//\tthis.time && daysArr.push(this.renderTimeBox()) ;\t\r\n\t\t\t\treturn (\r\n\t\t\t\t\t\t<div className=\"m-dayView item-calendar-view\">\r\n\t\t\t\t\t\t\t<ul className=\"week-group\">\r\n\t\t\t\t\t\t\t\t\t\t<li>日</li><li>一</li><li>二</li><li>三</li><li>四</li><li>五</li><li>六</li>\r\n\t\t\t\t\t \t\t</ul>\r\n\t\t\t\t\t \t\t{\r\n\t\t\t\t\t \t\t\tdaysArr\r\n\t\t\t\t\t \t\t}{\r\n\r\n\t\t\t\t\t \t\t\ttime ? <CalendarDayView.TimePick \r\n\t\t\t\t\t \t\t\t\t\t\t\t\t\tselTimeObj={selTimeObj}\r\n\t\t\t\t\t \t\t\t\t\t\t\t\t\tchangeTime={changeTime}\r\n\t\t\t\t\t \t\t\t\t\t\t\t\t\tviewIndex={viewIndex}\r\n\r\n\t\t\t\t\t \t\t\t\t\t\t\t/> : null\r\n\t\t\t\t\t \t\t}\r\n\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)\r\n\r\n\t}\r\n};\r\n\r\n","import * as React from \"react\" ;\r\n\r\n\r\ntype commonInterface = CalendarSpace.commonInterface;\r\n\r\n\r\ntype CalendarYearViewProp = {\r\n\tcurTime:commonInterface[\"curTime\"];\r\n\tshowTimeObj:commonInterface[\"showTimeObj\"];\r\n\tselTimeObj:commonInterface[\"showTimeObj\"];\r\n\tclickSelHandle:(e:React.MouseEvent<HTMLElement>)=>void;\r\n\trotate:commonInterface[\"rotate\"];\r\n\tlastYear:number;\r\n}\r\n\r\ntype CalendarYearViewState = {\r\n\r\n\r\n\r\n}\r\n\r\n\r\ninterface CalendarYearViewApi{\r\n\r\n}\r\n\r\n\r\n\r\nexport default class CalendarYearView extends React.PureComponent<CalendarYearViewProp,CalendarYearViewState> implements CalendarYearViewApi{\r\n\r\n\t\r\n\r\n\trender(){\r\n\r\n\r\n\t\t\r\n\t\tconst {curTime:{year},selTimeObj,clickSelHandle,lastYear} = this.props;\r\n\t\tconst selYear = selTimeObj.get(\"year\");\r\n\r\n\t\tlet startTime = lastYear - 10;\r\n\r\n\t\tconst yearToday = year === lastYear && \"calendar-today\" || \"\" ;\r\n\t\tconst yearsel = selYear === lastYear && \"calendar-sel\" || \"\" ;\r\n\r\n\t\treturn(<div className=\"m-yearView item-calendar-view\">\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tArray.from({length:3},(...args)=>(args[1]+1)).map(row=>{\r\n\r\n\r\n\t\t\t\t\t\t\t\t\t\treturn (\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<ul className=\"year-group\" key={row} >\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t \tArray.from({length:3},(...args)=>(args[1]+1)).map(()=>{\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t \t\tconst num = ++startTime;\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t \t\t\tconst yearToday = year === num && \"calendar-today\" || \"\" ;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tconst yearsel = selYear === num && \"calendar-sel\" || \"\" ;\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t \t\treturn (<li data-num={num} key={num} data-sign=\"year\" className={\"view-item \"+ yearToday + \" \" + yearsel} onClick={clickSelHandle}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"year-span\">{num}</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</li>)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t \t})\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t }\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t<div data-num= {lastYear} data-sign=\"year\" onClick={clickSelHandle} className={\"last-year view-item \"+ yearToday  + yearsel}>\r\n\t\t\t\t\t\t\t\t\t<span className=\"year-span\">{lastYear}</span>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>)\r\n\r\n\t}\r\n}","import * as React from \"react\" ;\r\n\r\n\r\ntype commonInterface = CalendarSpace.commonInterface;\r\n\r\n\r\ntype CalendarMonthViewProp = {\r\n\tcurTime:commonInterface[\"curTime\"];\r\n\tshowTimeObj:commonInterface[\"showTimeObj\"];\r\n\tselTimeObj:commonInterface[\"showTimeObj\"];\r\n\tclickSelHandle:(e:React.MouseEvent<HTMLElement>)=>void;\r\n\trotate:commonInterface[\"rotate\"];\r\n}\r\n\r\ntype CalendarMonthViewState = {\r\n\r\n\r\n\r\n}\r\n\r\n\r\ninterface CalendarMonthViewApi{\r\n\r\n}\r\n\r\n\r\n\r\nexport default class CalendarMonthView extends React.PureComponent<CalendarMonthViewProp,CalendarMonthViewState> implements CalendarMonthViewApi{\r\n\r\n\tstatic monFormatter = [\"\",\"一\",\"二\",\"三\",\"四\",\"五\",\"六\",\"七\",\"八\",\"九\",\"十\",\"十一\",\"十二\"];\r\n\r\n\trender(){\r\n\r\n\r\n\t\tconst {curTime:{year,month},selTimeObj,clickSelHandle,showTimeObj} = this.props;\r\n\r\n\t\tconst selYear = selTimeObj.get(\"year\");\r\n\t\tconst selMonth = selTimeObj.get(\"month\");\r\n\t\t\r\n\t\tconst showYear = showTimeObj.get(\"year\");\r\n\t\t\r\n\t\tlet startMon = 0 ;\t\r\n\r\n\t\tconst mon_today = year === showYear ;\r\n\t\tconst mon_sel = selYear === showYear ;\r\n\r\n\t\treturn(<div className=\"m-monthView item-calendar-view\">\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tArray.from({length:4},(...args)=>(args[1]+1)).map(row=>{\r\n\r\n\r\n\t\t\t\t\t\t\t\t\t\treturn (\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<ul className=\"mon-group\" key={row}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t \tArray.from({length:3},(...args)=>(args[1]+1)).map(()=>{\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t \t\tconst num = ++startMon;\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t \t\t\tconst monToday = mon_today && month === num && \"calendar-today\" || \"\" ;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tconst monSel = mon_sel && selMonth === num && \"calendar-sel\" || \"\" ;\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t \t\treturn (<li data-num={num} key={num} data-sign=\"month\" className={\"view-item \"+ monToday + \" \" + monSel} onClick={clickSelHandle}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"mon-span\">{CalendarMonthView.monFormatter[num]}</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</li>)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t \t})\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t }\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t</div>)\r\n\r\n\t}\r\n}","import * as React from \"react\" ;\r\n\r\n\r\ntype commonInterface = CalendarSpace.commonInterface;\r\n\r\n\r\ntype CalendarSearsonViewProp = {\r\n\tcurTime:commonInterface[\"curTime\"];\r\n\tshowTimeObj:commonInterface[\"showTimeObj\"];\r\n\tselTimeObj:commonInterface[\"showTimeObj\"];\r\n\tclickSelHandle:(e:React.MouseEvent<HTMLElement>)=>void;\r\n}\r\n\r\ntype CalendarSearsonViewState = {\r\n\r\n\r\n\r\n}\r\n\r\n\r\ninterface CalendarSearsonViewApi{\r\n\r\n}\r\n\r\n\r\n\r\nexport default class CalendarSearsonView extends React.PureComponent<CalendarSearsonViewProp,CalendarSearsonViewState> implements CalendarSearsonViewApi{\r\n\r\n\tstatic searsonFormatter = [\"\",\"一季度\",\"二季度\",\"三季度\",\"四季度\"];\r\n\r\n\trender(){\r\n\r\n\r\n\t\tconst {curTime:{year,month},selTimeObj,clickSelHandle,showTimeObj} = this.props;\r\n\r\n\t\tconst selYear = selTimeObj.get(\"year\");\r\n\t\tconst selSearson = selTimeObj.get(\"searson\");\r\n\r\n\t\tconst showYear = showTimeObj.get(\"year\");\r\n\t\t\r\n\t\tlet startSearson = 0 ;\t\r\n\r\n\t\tconst searson_today = year === showYear ;\r\n\t\tconst searson_sel = selYear === year ;\r\n\r\n\t\treturn(<div className=\"m-searsonView item-calendar-view\">\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tArray.from({length:2},(...args)=>(args[1]+1)).map(row=>{\r\n\r\n\r\n\t\t\t\t\t\t\t\t\t\treturn (\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<ul className=\"searson-group\" key={row}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t \tArray.from({length:2},(...args)=>(args[1]+1)).map(()=>{\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t \t\tconst num = ++startSearson;\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t \t\t\tconst searsonToday = searson_today && month === num && \"calendar-today\" || \"\" ;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tconst searsonSel = searson_sel && selSearson === num && \"calendar-sel\" || \"\" ;\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t \t\treturn (<li data-num={num} key={num} data-sign=\"searson\" className={\"view-item \"+ searsonToday + \" \" + searsonSel} onClick={clickSelHandle}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"searson-span\">{CalendarSearsonView.searsonFormatter[num]}</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</li>)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t \t})\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t }\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t</div>)\r\n\r\n\t}\r\n}","import * as React from \"react\";\r\nimport CalendarDayView from \"./CalendarDayView\";\r\nimport CalendarYearView from \"./CalendarYearView\";\r\nimport CalendarMonthView from \"./CalendarMonthView\";\r\nimport CalendarSearsonView from \"./CalendarSearsonView\";\r\nimport {VelocityComponent} from \"velocity-react\";\r\nimport * as Immutable from \"immutable\";\r\n\r\nenum calendarType  {\r\n\t\t\t\tyear = 1 ,\r\n\t\t\t\tsearson = 2,\r\n\t\t\t\tmonth = 3 ,\r\n\t\t\t\tday = 4 ,\r\n\t\t}\r\n\r\n\r\ntype commonInterface = CalendarSpace.commonInterface ;\r\ntype CalendarApi = CalendarSpace.CalendarApi ;\r\ntype CalendarViewApi = CalendarSpace.CalendarViewApi;\r\n\r\n\r\ntype calendarViewProps={\r\n\t\trotate:commonInterface[\"rotate\"];\r\n\t\tselTimeObj:commonInterface[\"showTimeObj\"];\r\n\t\tshowTimeObj:commonInterface[\"showTimeObj\"];\r\n\t\tcurTime:commonInterface[\"curTime\"];\r\n\t\tchangeSelTimeItme:CalendarApi[\"changeSelTimeItme\"];\r\n\t\tviewIndex:0 | 1;\r\n\t\ttime:boolean;\r\n\t\tchangeTime:CalendarSpace.CalendarApi[\"changeTime\"];\r\n\t\tchangeRotate(rotate:commonInterface[\"rotate\"]):void; \r\n}\r\n\r\ntype calendarViewState = {\r\n\t\tshowTimeObj:calendarViewProps[\"selTimeObj\"];\r\n\t\tshowViewArr:Immutable.List<\"fadeIn\" | \"fadeOut\">;\r\n\t\tlastYear:number;\r\n\t\tdropRatate:boolean;\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\nexport default class CalendarView extends React.PureComponent<calendarViewProps,calendarViewState> implements CalendarViewApi {\r\n\r\n\tstate:calendarViewState={\r\n\t\tshowTimeObj:this.props.showTimeObj,\r\n\t\tdropRatate:false,\r\n\t\tshowViewArr:(function(rotate){\r\n\t\t\tlet animationArr = new Array(5).fill(\"fadeOut\");\r\n\t\t\t\t\tanimationArr[rotate] = \"fadeIn\";\r\n\t\t\t\treturn Immutable.List(animationArr);\r\n\t\t})(this.props.rotate),\r\n\t\tlastYear:(function(year){\r\n\r\n\t\t\t\tlet viewIndex = year % 10 ;\r\n\t\t\t\t\t\t\tviewIndex = viewIndex === 0  ? 10 : viewIndex;\r\n\t\t\t\t\t\r\n\t\t\t\t\tconst startTime = year - viewIndex  + 1;\r\n\t\t\t\t\treturn startTime + 9 ;\r\n\r\n\t\t})(this.props.showTimeObj.get(\"year\"))\r\n\t}\t\r\n\r\n\t\r\n\r\n\tupdateYears(movePre:\"next\"|\"back\"){\r\n\r\n\t\tthis.setState(pre=>{\r\n\r\n\t\t\tlet lastYear=  movePre === \"back\" ? pre.lastYear-10 : pre.lastYear + 1; \r\n\r\n\t\t\tlet index = lastYear % 10 ;\r\n\t\t\t\t\tindex = index === 0 ? 10 : index ;\r\n\r\n\t\t\tlastYear = lastYear - index  + 10;\r\n\r\n\t\t\treturn {\r\n\t\t\t\tlastYear,\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\r\n\t\r\n\r\n\tclickSelHandle=(e:React.MouseEvent<HTMLElement>)=>{\r\n\r\n\t\t\tconst dataset =  e.currentTarget.dataset;\r\n\t\t\tconst type = dataset.sign as \"day\" | \"year\" | \"month\" | \"searson\";\r\n\t\t\tconst num = ~~(dataset.num!);\r\n\t\t\tconst {viewIndex,changeSelTimeItme,rotate} = this.props;\r\n\r\n\t\t\tconst flag = {[type]:num};\r\n\t\t\t\r\n\t\t\tthis.setState(pre=>{\r\n\t\t\t\treturn {\r\n\t\t\t\t\tshowTimeObj:pre.showTimeObj.set(type,num)\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tconst _showTimeobj = Object.assign({},this.state.showTimeObj.toJS(),flag)\r\n\r\n\t\t\tchangeSelTimeItme(viewIndex,_showTimeobj);\r\n\r\n\t\t\tconst {showViewArr} = this.state;\r\n\r\n\t\t\tconst curShowIndex = showViewArr.findIndex(val=>val===\"fadeIn\");\r\n\r\n\t\t\tif(curShowIndex === calendarType.year || curShowIndex === calendarType.month){\r\n\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tshowViewArr:showViewArr.set(curShowIndex,\"fadeOut\").set(rotate,\"fadeIn\")\r\n\t\t\t\t});\r\n\r\n\t\t\t}\r\n\r\n\r\n\r\n\t}\r\n\r\n\tcomponentWillReceiveProps(nextProps:calendarViewProps){\r\n\r\n\t\tif(nextProps.rotate !== this.props.rotate){\r\n\r\n\t\t\tlet animationArr = new Array(5).fill(\"fadeOut\");\r\n\t\t\t\t\tanimationArr[nextProps.rotate] = \"fadeIn\";\r\n\t\t\tthis.setState({\r\n\t\t\t\tshowViewArr:Immutable.List(animationArr)\r\n\t\t\t})\r\n\r\n\r\n\t\t}\r\n\r\n\r\n\t}\r\n\r\n\tupdateDaysView(movePre:\"next\"|\"back\"){\r\n\r\n\t\tconst {showTimeObj}= this.state;\r\n\r\n\t\tconst year= showTimeObj.get(\"year\"),\r\n\t\t\t\t\tmonth=showTimeObj.get(\"month\");\r\n\t\t\r\n\t\tlet updata_mon = 1, updata_year = 1;\r\n\r\n\t\tswitch(movePre){\r\n\t\t\tcase \"back\":\r\n\t\t\t\tupdata_mon = month -1 == 0 ? 12 : month-1;\r\n\t\t\t\tupdata_year = month -1 == 0 ? year - 1  : year;\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"next\":\r\n\t\t\t\tupdata_mon = month + 1 == 13 ?  1 : month +1;\r\n\t\t\t\tupdata_year = month + 1 == 13 ? year +1   : year ;\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\r\n\t\tthis.setState({\r\n\t\t\tshowTimeObj:showTimeObj.withMutations(map=>map.set(\"year\",updata_year).set(\"month\",updata_mon).set(\"searson\",Math.ceil(month / 3))),\r\n\t\t});\r\n\t}\r\n\r\n\tchangeView=(e:React.MouseEvent<HTMLSpanElement>)=>{\r\n\r\n\r\n\r\n\t\tconst type = e.currentTarget.dataset.sign as (\"year\" | \"month\");\r\n\r\n\t\tthis.setState(pre=>{\r\n\t\t\tconst preIndex = pre.showViewArr.findIndex(val=>val===\"fadeIn\");\r\n\t\t\tconst showViewArr = pre.showViewArr.set(preIndex,\"fadeOut\").set(calendarType[type],\"fadeIn\");\r\n\t\t\treturn {\r\n\t\t\t\tshowViewArr,\r\n\t\t\t}\r\n\t\t})\r\n\t\t\r\n\r\n\t\r\n\t}\r\n\ttoggleRotate=()=>{\r\n\r\n\t\tthis.setState(pre=>({\r\n\t\t\tdropRatate:!pre.dropRatate\r\n\t\t}))\r\n\t}\r\n\r\n\tchangeRotate=(e:React.MouseEvent<HTMLElement>)=>{\r\n\r\n\t\tconst id = +(e.currentTarget!.dataset.id!) as commonInterface[\"rotate\"];\r\n\r\n\t\tthis.props.changeRotate(id);\r\n\r\n\t\tthis.setState({\r\n\t\t\tdropRatate:false\r\n\t\t})\r\n\r\n\t}\r\n\tcontrolBtnHandle=(e:React.MouseEvent<HTMLSpanElement>)=>{\r\n\r\n\t\tconst dataset = e.currentTarget.dataset\r\n\t\tconst type = (dataset.sign) as any;\r\n\t\tconst curViewIndex = +dataset.curviewindex!;\r\n\t\r\n\r\n  \tcurViewIndex === calendarType.day ? \tthis.updateDaysView(type) : this.updateYears(type) ;\r\n\r\n\t}\r\n\r\n\trender(){\r\n\t\tconst {curTime,selTimeObj,rotate,time,changeTime,viewIndex} = this.props;\r\n\t\tconst {showTimeObj,showViewArr,lastYear,dropRatate} = this.state;\r\n\r\n\t\tconst curViewInde = showViewArr.findIndex(val=>val===\"fadeIn\");\r\n\t\tconst showMoveBtn = (curViewInde === calendarType.day || curViewInde === calendarType.year);\r\n\r\n\t\tlet duration = new Array(5).fill(0);\r\n\r\n\t\t\t\t\tduration[curViewInde] = 300 ;\r\n\r\n\t\t\tconst arr = [\"年\",\"季\",\"月\",\"日\"];\r\n\t\t\treturn (\r\n\t\t\t\t\t<div className=\"g-calendar-view\">\r\n\t\t\t\t\t\t\t<div className=\"m-viewOpt\">\r\n\t\t\t\t\t\t\t\t<div className=\"m-timeSel\">\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\trotate === calendarType.day ? (<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<i className=\"fa fa-calendar\"/>&nbsp;\r\n\t\t\t\t\t\t\t\t\t\t\t\t<span data-sign=\"year\" onClick={this.changeView}>{showTimeObj.get(\"year\")}年 / </span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<span data-sign=\"month\" onClick={this.changeView}>{(showTimeObj.get(\"month\")+\"\").padStart(2,\"0\")}月</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>) : rotate !== calendarType.year ?  <div><i  className=\"fa fa-calendar\"/>&nbsp;<span data-sign=\"year\" onClick={this.changeView}>{showTimeObj.get(\"year\")}年</span></div> :null \r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div style={{position:\"relative\"}}>\r\n\t\t\t\t\t\t\t\t\t<span className=\"curViewType\" onClick={this.toggleRotate}>\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\tarr[curViewInde-1]\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t<VelocityComponent animation={dropRatate?\"slideDown\":\"slideUp\"}>\r\n\t\t\t\t\t\t\t\t\t\t<ul className=\"m-rotate-drop\" >\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\tarr.map((val,index)=>{\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn <li className={index === rotate -1 && \"active\" || \"\"} data-id={index+1+\"\"} onClick={this.changeRotate} key={index}>{val}</li>\r\n\t\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t\t\t\t</VelocityComponent>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<div className={\"m-moveBtns \" + (showMoveBtn ? \"\":\"hideMoveBtn\")}>\r\n\t\t\t\t\t\t\t\t\t<button className=\"s-btn\" onClick={this.controlBtnHandle} data-sign=\"back\" data-curviewindex={curViewInde}><i className=\"fa fa-backward\" /></button>\r\n\t\t\t\t\t\t\t\t\t<button  className=\"s-btn\" onClick={this.controlBtnHandle} data-sign=\"next\" data-curviewindex={curViewInde}><i className=\"fa fa-forward\" /></button>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"m-calendar-view\">\r\n\t\t\t\t\t\t\t\t\t<VelocityComponent animation={showViewArr.get(calendarType.day)!} duration={duration[calendarType.day]}>\r\n\t\t\t\t\t\t\t\t\t\t<CalendarDayView\r\n\t\t\t\t\t\t\t\t\t\t\t\tcurTime={curTime} \r\n\t\t\t\t\t\t\t\t\t\t\t  selTimeObj={selTimeObj} \r\n\t\t\t\t\t\t\t\t\t\t\t  showTimeObj={showTimeObj} \r\n\t\t\t\t\t\t\t\t\t\t\t  clickSelHandle={this.clickSelHandle}\r\n\t\t\t\t\t\t\t\t\t\t\t  time={time}\r\n\t\t\t\t\t\t\t\t\t\t\t  changeTime={changeTime}\r\n\t\t\t\t\t\t\t\t\t\t\t  viewIndex={viewIndex}\r\n\t\t\t\t\t\t\t\t\t\t\t />\r\n\t\t\t\t\t\t\t\t\t</VelocityComponent>\r\n\t\t\t\t\t\t\t\t\t<VelocityComponent animation={showViewArr.get(calendarType.year)!} duration={duration[calendarType.year]}>\r\n\t\t\t\t\t\t\t\t\t\t <CalendarYearView \r\n\t\t\t\t\t\t\t\t\t\t \tcurTime={curTime} \r\n\t\t\t\t\t\t\t\t\t\t  selTimeObj={selTimeObj} \r\n\t\t\t\t\t\t\t\t\t\t  showTimeObj={showTimeObj} \r\n\t\t\t\t\t\t\t\t\t\t  clickSelHandle={this.clickSelHandle}\r\n\t\t\t\t\t\t\t\t\t\t  rotate={rotate}\r\n\t\t\t\t\t\t\t\t\t\t  lastYear={lastYear}\r\n\t\t\t\t\t\t\t\t\t\t />\r\n\t\t\t\t\t\t\t\t\t</VelocityComponent>\r\n\t\t\t\t\t\t\t\t\t<VelocityComponent animation={showViewArr.get(calendarType.month)!} duration={duration[calendarType.month]}>\r\n\t\t\t\t\t\t\t\t\t\t <CalendarMonthView \r\n\t\t\t\t\t\t\t\t\t\t\t \tcurTime={curTime} \r\n\t\t\t\t\t\t\t\t\t\t\t  selTimeObj={selTimeObj} \r\n\t\t\t\t\t\t\t\t\t\t\t  showTimeObj={showTimeObj} \r\n\t\t\t\t\t\t\t\t\t\t\t  clickSelHandle={this.clickSelHandle}\r\n\t\t\t\t\t\t\t\t\t\t\t  rotate={rotate}\r\n\t\t\t\t\t\t\t\t\t\t\t />\r\n\t\t\t\t\t\t\t\t\t</VelocityComponent>\r\n\t\t\t\t\t\t\t\t\t<VelocityComponent animation={showViewArr.get(calendarType.searson)!} duration={duration[calendarType.searson]}>\r\n\t\t\t\t\t\t\t\t\t\t  <CalendarSearsonView \r\n\t\t\t\t\t\t\t\t\t\t\t \tcurTime={curTime} \r\n\t\t\t\t\t\t\t\t\t\t\t  selTimeObj={selTimeObj} \r\n\t\t\t\t\t\t\t\t\t\t\t  showTimeObj={showTimeObj} \r\n\t\t\t\t\t\t\t\t\t\t\t  clickSelHandle={this.clickSelHandle}\r\n\t\t\t\t\t\t\t\t\t\t\t />\r\n\t\t\t\t\t\t\t\t\t</VelocityComponent>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t \r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)\r\n\t\t}\r\n\r\n}\r\n\r\n","import * as React from \"react\";\r\nimport \"@css/Calendar.scss\";\r\nimport { VelocityComponent } from \"velocity-react\";\r\nimport * as  Immutable from \"immutable\";\r\nimport CalendarView from \"./CalendarView\";\r\n\r\n\r\ntype commonInterface = CalendarSpace.commonInterface;\r\ntype CalendarApi = CalendarSpace.CalendarApi;\r\n\r\nenum calendarType {\r\n\tyear = 1,\r\n\tsearson = 2,\r\n\tmonth = 3,\r\n\tday = 4,\r\n}\r\n\r\n\r\ntype calendarInpProps = {\r\n\tselTimeVal: string;\r\n\tplaceholder: string;\r\n\tdropHandle(): void;\r\n\tableClear?:boolean;\r\n\tclearTime():void;\r\n}\r\n\r\ntype calendarInpState = {\r\n\r\n\r\n}\r\n\r\n\r\n\r\nclass CalendarInp extends React.PureComponent<calendarInpProps, calendarInpState>{\r\n\tstate={\r\n\t}\r\n\r\n\tclearValue=(e:React.MouseEvent<HTMLElement>)=>{\r\n\t\te.stopPropagation();\r\n\t\r\n\t\tthis.props.clearTime();\r\n\t}\r\n\trender() {\r\n\t\tconst { selTimeVal, dropHandle, placeholder,ableClear } = this.props;\r\n\r\n\r\n\t\treturn (\r\n\t\t\t<div className=\"m-clalendar-inpBox\" onClick={dropHandle}>\r\n\t\t\t\t<span className=\"calendar-inp-icon\"><i className=\"fa fa-calendar\">&nbsp;</i></span>\r\n\t\t\t\t<input className=\"s-inp calendar-inpTxt\" value={selTimeVal} placeholder={placeholder} readOnly type=\"text\" />\r\n\t\t\t\t{ableClear ? <VelocityComponent animation={selTimeVal ? \"fadeIn\" :\"fadeOut\"}>\r\n\t\t\t\t\t\t<span className=\"m-search-close\" onClick={this.clearValue} ><i className=\"fa fa-times fa-lg\"></i></span>\r\n\t\t\t\t</VelocityComponent>:null}\r\n\t\t\t\r\n\t\t\t</div>\r\n\t\t)\r\n\r\n\t}\r\n}\r\n\r\n\r\n\r\n\r\ntype calendarProps = {\r\n\trotate?: commonInterface[\"rotate\"], // 日历类型\r\n\tstyle?: 1 | 2,\r\n\ttime?: boolean, //可选择时间\r\n\thasInp?: boolean,\r\n\tselTimeValArr?: string;//最终显示的时间字符串\r\n\twidth?: number;\r\n\tclickBack?: (timeArr: Readonly<any[]>, field: string) => void;\r\n\tfield: string;\r\n\tplaceholder?: string;\r\n\tableClear?:boolean;\r\n\r\n}\r\n\r\ntype calendarState = {\r\n\texpand: boolean;\r\n\tselTimeArr: Immutable.List<TypedMap<CalendarApi[\"curTime\"]>>;\r\n\trotate: commonInterface[\"rotate\"],\r\n\tcalendarVal:string;\r\n}\r\n\r\n\r\nclass Calendar extends React.PureComponent<calendarProps, calendarState> implements CalendarApi {\r\n\r\n\tstatic defaultProps = {\r\n\t\trotate: calendarType.day,\r\n\t\tstyle: 1,\r\n\t\ttime: false,\r\n\t\thasInp: true,\r\n\t\tselTimeValArr: \"\",\r\n\t\twidth: 240,\r\n\t\tplaceholder: \"\",\r\n\t\tableClear:false,\r\n\t\t\r\n\t}\r\n\r\n\r\n\r\n\tcurTime = this.getCurTime();\r\n\r\n\t\r\n\twrapDomRef:React.RefObject<HTMLDivElement> = React.createRef();\r\n\tconstructor(props:calendarProps){\r\n\r\n\t\tsuper(props);\r\n\t\tconst {time,rotate,clickBack,field,selTimeValArr,ableClear} = this.props;\r\n\t\tconst selTimeArr = Immutable.fromJS(this.timeValToTimeObj(ableClear!));\r\n\t\t\r\n\t\tconst timeVal = this.getTimeStrArr(selTimeArr,rotate!,time!);\r\n\t\tthis.state={\r\n\t\texpand: false,\r\n\t\tselTimeArr,\r\n\t\trotate:rotate!,\r\n\t\tcalendarVal:timeVal.join(\" 至 \")\r\n\t};\r\n \r\n\t  !selTimeValArr && !ableClear && clickBack && clickBack(timeVal.toJS(),field);\r\n\r\n\t}\r\n\tdocumentClickFn=(e:MouseEvent)=>{\r\n\r\n\t\tconst target = e.target! as HTMLElement;\r\n\t\tconst wrap = this.wrapDomRef.current!;\r\n\t\tif(target == wrap || wrap.contains(target) ){\r\n\t\t\t\r\n\t\t}else{\r\n\r\n\t\t\tthis.setState({\r\n\t\t\t\texpand:false\r\n\t\t\t});\r\n\t\t}\r\n\r\n\r\n\t\t\r\n\r\n\t}\r\n\r\n\tcomponentDidMount(){\r\n\r\n\t\tdocument.addEventListener(\"click\",this.documentClickFn);\r\n\t}\r\n\tcomponentWillUnmount(){\r\n\r\n\t\tdocument.removeEventListener(\"click\",this.documentClickFn);\r\n\t}\r\n\t//改变时间日期\r\n\tchangeSelTimeItme = (viewIndex: number, showTimeObj: CalendarApi[\"curTime\"]) => {\r\n\t\tconst { year, month, day, searson } = showTimeObj;\r\n\t\tconst { rotate } = this.state;\r\n\t\tthis.setState(pre => {\r\n\r\n\t\t\tlet selTimeArr = pre.selTimeArr;\r\n\r\n\t\t\tif(!selTimeArr.size){\r\n\t\t\t\tselTimeArr = Immutable.fromJS([{year:\"\"}])\r\n\t\t\t}\r\n\r\n\t\t\tswitch (rotate) {\r\n\t\t\t\tcase calendarType.day:\r\n\r\n\r\n\t\t\t\t\tselTimeArr = selTimeArr.update(viewIndex, map => {\r\n\t\t\t\t\t\treturn map.withMutations(node => node.set(\"year\", year).set(\"month\", month).set(\"day\", day).set(\"searson\", Math.ceil(month / 3)))\r\n\t\t\t\t\t});\r\n\r\n\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase calendarType.searson: {\r\n\r\n\t\t\t\t\tselTimeArr = selTimeArr.update(viewIndex, map => {\r\n\t\t\t\t\t\treturn map.withMutations(node => node.set(\"year\", year).set(\"month\", searson * 3 - 2).set(\"day\", day).set(\"searson\", searson))\r\n\t\t\t\t\t});\r\n\r\n\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\tcase calendarType.year: {\r\n\t\t\t\t\tselTimeArr = selTimeArr.update(viewIndex, map => {\r\n\t\t\t\t\t\treturn map.withMutations(node => node.set(\"year\", year))\r\n\t\t\t\t\t});\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\tcase calendarType.month: {\r\n\r\n\t\t\t\t\tselTimeArr = selTimeArr.update(viewIndex, map => {\r\n\t\t\t\t\t\treturn map.withMutations(node => node.set(\"year\", year).set(\"month\", month).set(\"searson\", Math.ceil(month / 3)))\r\n\t\t\t\t\t});\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tselTimeArr = selTimeArr;\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\r\n\r\n\r\n\r\n\t\t\treturn {\r\n\t\t\t\tselTimeArr,\r\n\t\t\t}\r\n\t\t},()=>{\r\n\t\t\tthis.getSelTimeVal();\r\n\t\t});\r\n\r\n\t}\r\n\r\n\t//清除所选的时间\r\n\tclearSelTime=()=>{\r\n\t\t\r\n\t\tthis.setState({\r\n\t\t\tselTimeArr:Immutable.fromJS(this.timeValToTimeObj(true)),\r\n\t\t\texpand:false\r\n\t\t},()=>{\r\n\t\t\tthis.getSelTimeVal();\r\n\t\t})\r\n\r\n\t}\r\n\r\n\tchangeRotate=(rotate:commonInterface[\"rotate\"])=>{\r\n\r\n\t\tthis.setState({\r\n\t\t\trotate:rotate\r\n\t\t},()=>{\r\n\t\t\tthis.getSelTimeVal();\r\n\t\t})\r\n\t}\r\n\r\n\tgetCurTime() {\r\n\t\tconst time = new Date();\r\n\t\tconst year = time.getFullYear();\r\n\t\tconst month = time.getMonth() + 1;\r\n\t\tconst day = time.getDate();\r\n\t\tconst searson = Math.ceil(month / 3);\r\n\t\tconst hour = time.getHours();\r\n\t\tconst minute = time.getMinutes();\r\n\r\n\t\treturn { year, searson, month, day, hour, minute }\r\n\r\n\t}\r\n\t// 改变时间点\r\n\tchangeTime = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n\r\n\t\tconst value = +e.currentTarget.value,\r\n\t\t\tfield = e.currentTarget.name,\r\n\t\t\tviewIndex = +e.currentTarget.dataset.viewindex!;\r\n\r\n\r\n\t\tthis.setState(pre => {\r\n\r\n\t\t\tconst selTimeArr = pre.selTimeArr.setIn([viewIndex, field], value);\r\n\t\t\treturn {\r\n\t\t\t\tselTimeArr,\r\n\t\t\t}\r\n\t\t},()=>{\r\n\t\t\tthis.getSelTimeVal()\r\n\t\t})\r\n\r\n\t}\r\n\r\n\t\r\n\r\n\ttimeValToTimeObj(is_init:boolean) {\r\n\r\n\t\tif(is_init){\r\n\r\n\r\n\t\t\treturn Array.from({length:this.props.style!}).map(()=>{\r\n\r\n\r\n\t\t\t\treturn {\r\n\t\t\t\t\t\tyear:\"\",\r\n\t\t\t\t\t\tmonth:\"\",\r\n\t\t\t\t\t\tsearson:\"\",\r\n\t\t\t\t\t\tday: \"\",\r\n\t\t\t\t\t\thour: \"\",\r\n\t\t\t\t\t\tminute: \"\",\r\n\t\t\t\t}\r\n\r\n\r\n\r\n\t\t\t})\r\n\r\n\r\n\r\n\t\t}\r\n\r\n\r\n\t\tconst { style, selTimeValArr, rotate, time,} = this.props;\r\n\r\n\t\t\r\n\r\n\t\tif(selTimeValArr && !selTimeValArr.includes(\"-\")){\r\n\t\t\tthrow new Error(\"日历的时间设置格式不对，用-连接\");\r\n\t\t}\r\n\r\n\r\n\t\tconst defaultTimeArr = selTimeValArr!.split(\",\");\r\n\r\n\t\tconst curTimeArr = Array.from({ length: style! }, () => Object.assign({}, this.curTime));\r\n\t\tconst has_defaultTime = !!selTimeValArr;\r\n\r\n\t\tconst hour = this.curTime.hour;\r\n\t\tconst minute = this.curTime.minute;\r\n\r\n\t\tconst setTime = (item: string) => {\r\n\r\n\r\n\t\t\tconst arr = !time ? item.split(\"-\") : item.split(\" \")[0].split(\"-\");\r\n\t\t\tconst year = ~~arr[0];\r\n\r\n\t\t\tswitch (rotate) {\r\n\t\t\t\tcase calendarType.day: {\r\n\t\t\t\t\tconst month = ~~arr[1];\r\n\t\t\t\t\tconst timeArr = time ? item.split(\" \")[1].split(\":\") : null;\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\tyear,\r\n\t\t\t\t\t\tmonth,\r\n\t\t\t\t\t\tsearson: Math.ceil(month / 3),\r\n\t\t\t\t\t\tday: ~~arr[2],\r\n\t\t\t\t\t\thour: timeArr ? timeArr[0] : hour,\r\n\t\t\t\t\t\tminute: timeArr ? timeArr[1] : minute,\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tcase calendarType.month: {\r\n\t\t\t\t\tconst month = ~~arr[1];\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\tyear,\r\n\t\t\t\t\t\tmonth,\r\n\t\t\t\t\t\tsearson: Math.ceil(month / 3),\r\n\t\t\t\t\t\tday: 1,\r\n\t\t\t\t\t\thour,\r\n\t\t\t\t\t\tminute,\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\t\t\t\tcase calendarType.searson: {\r\n\t\t\t\t\tconst searson = ~~(arr[1].substr(1));\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\tyear,\r\n\t\t\t\t\t\tmonth: searson * 3 - 2,\r\n\t\t\t\t\t\tsearson,\r\n\t\t\t\t\t\tday: 1,\r\n\t\t\t\t\t\thour,\r\n\t\t\t\t\t\tminute,\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\t\t\t\tcase calendarType.year: {\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\tyear,\r\n\t\t\t\t\t\tmonth: 1,\r\n\t\t\t\t\t\tsearson: 1,\r\n\t\t\t\t\t\tday: 1,\r\n\t\t\t\t\t\thour,\r\n\t\t\t\t\t\tminute,\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\r\n\t\tconst selTimeArr = curTimeArr.map((val, index) => {\r\n\t\t\treturn !has_defaultTime ? val : setTime(defaultTimeArr[index])!\r\n\t\t});\r\n\r\n\r\n\t\treturn selTimeArr;\r\n\r\n\r\n\t}\r\n\r\n\tgetTimeStrArr(selTimeArr:calendarState[\"selTimeArr\"],rotate:calendarState[\"rotate\"],time:boolean){\r\n\t\r\n\t\tconst getStr = (val: commonInterface[\"showTimeObj\"], rotate: number,time:boolean) => {\r\n\r\n\t\t\tconst year = val.get(\"year\");\r\n\t\t\tif(!year){\r\n\t\t\t\treturn \"\" ;\r\n\t\t\t}\r\n\r\n\r\n\t\t\tconst\tmonth = (val.get(\"month\") + \"\").padStart(2, \"0\") ,\r\n\t\t\t\tday = (val.get(\"day\") + \"\").padStart(2, \"0\") ,\r\n\t\t\t\tsearson = val.get(\"searson\");\r\n\r\n\r\n\r\n\t\t\tswitch (rotate) {\r\n\t\t\t\tcase calendarType.day:\r\n\t\t\t\t\tconst timeStr = time ? +\" \"+(val.get(\"hour\") + \"\").padStart(2, \"0\") + \":\" + (val.get(\"minute\") + \"\").padStart(2, \"0\") + \":00\" : \"\";\r\n\t\t\t\t\treturn year + \"-\" + month + \"-\" + day  + timeStr;\r\n\t\t\t\tcase calendarType.searson:\r\n\t\t\t\t\treturn year + \"-S\" + searson;\r\n\t\t\t\tcase calendarType.year:\r\n\t\t\t\t\treturn year + \"\";\r\n\t\t\t\tcase calendarType.month:\r\n\t\t\t\t\treturn year + \"-\" + month;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn selTimeArr.map(val => {\r\n\t\t\treturn getStr(val, rotate,time)!;\r\n\t\t});\r\n\t}\r\n\r\n\tgetSelTimeVal() {\r\n\r\n\t\tconst { selTimeArr, rotate } = this.state;\r\n\t\tconst { time, clickBack, field } = this.props;\r\n\t\tconst strArr = this.getTimeStrArr(selTimeArr,rotate,time!);\r\n\r\n\t\tclickBack && clickBack(strArr.toJS(), field!);\r\n\r\n\t\tconst str = strArr.join(\" 至 \")\r\n\r\n\t\tthis.setState({\r\n\t\t\tcalendarVal:str\r\n\t\t})\r\n\r\n\t\treturn str;\r\n\t}\r\n\r\n\tdropHandle = () => {\r\n\r\n\t\tthis.setState(pre => ({ expand: !pre.expand }));\r\n\r\n\t}\r\n\trender() {\r\n\r\n\t\tconst { hasInp, time, width, placeholder,ableClear } = this.props;\r\n\t\tconst { expand, selTimeArr, rotate,calendarVal } = this.state;\r\n\r\n\t\tconst flagSelTimeArr = selTimeArr.getIn([0,\"year\"]) ? selTimeArr : Immutable.fromJS(this.timeValToTimeObj(false));\r\n\r\n\t\treturn (\r\n\t\t\t<div className=\"g-calendar\" style={{ width }} ref={this.wrapDomRef}>\r\n\t\t\t\t{hasInp ? <CalendarInp\r\n\t\t\t\t\tselTimeVal={calendarVal}\r\n\t\t\t\t\tdropHandle={this.dropHandle}\r\n\t\t\t\t\tplaceholder={placeholder!}\r\n\t\t\t\t\tableClear={ableClear!}\r\n\t\t\t\t\tclearTime={this.clearSelTime}\r\n\r\n\t\t\t\t/> : null}\r\n\t\t\t\t<VelocityComponent\r\n\t\t\t\t\tanimation={expand ? \"slideDown\" : \"slideUp\"}\r\n\t\t\t\t\tinterruptBehavior=\"queue\"\r\n\t\t\t\t\t\r\n\t\t\t\t>\r\n\t\t\t\t\t<div className=\"g-calendar-box\">\r\n\t\t\t\t\t\t<CalendarView\r\n\t\t\t\t\t\t\trotate={rotate}\r\n\t\t\t\t\t\t\tselTimeObj={selTimeArr.get(0)!}\r\n\t\t\t\t\t\t\tshowTimeObj={flagSelTimeArr.get(0)!}\r\n\t\t\t\t\t\t\tcurTime={this.curTime}\r\n\t\t\t\t\t\t\tchangeSelTimeItme={this.changeSelTimeItme}\r\n\t\t\t\t\t\t\tviewIndex={0}\r\n\t\t\t\t\t\t\ttime={time!}\r\n\t\t\t\t\t\t\tchangeTime={this.changeTime}\r\n\t\t\t\t\t\t\tchangeRotate={this.changeRotate}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t{selTimeArr.size == 2 ? <CalendarView\r\n\t\t\t\t\t\t\trotate={rotate}\r\n\t\t\t\t\t\t\tselTimeObj={selTimeArr.get(1)!}\r\n\t\t\t\t\t\t\tshowTimeObj={flagSelTimeArr.get(1)!}\r\n\t\t\t\t\t\t\tcurTime={this.curTime}\r\n\t\t\t\t\t\t\tchangeSelTimeItme={this.changeSelTimeItme}\r\n\t\t\t\t\t\t\tviewIndex={1}\r\n\t\t\t\t\t\t\ttime={time!}\r\n\t\t\t\t\t\t\tchangeTime={this.changeTime}\r\n\t\t\t\t\t\t\tchangeRotate={this.changeRotate}\r\n\t\t\t\t\t\t/> : null}\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t</VelocityComponent>\r\n\t\t\t</div>\r\n\r\n\t\t)\r\n\r\n\t}\r\n\r\n}\r\n\r\nexport default Calendar;\r\n","\r\nimport * as React from \"react\";\r\nimport * as Immutable from \"immutable\" ;\r\n\r\n\r\n\r\n\r\ntype ItemComboProp = {\r\n\t\tgetPropFieldVal(field:ComboboxSpace.field):string;\r\n\t\tclickFn:ComboboxSpace.comboboxAPI[\"clickFn\"];\r\n\t\tnode:TypedMap<ComboboxSpace.comboboxAPI[\"itemNode\"]>;\r\n\t\tindex:number;\r\n}\r\n\r\ntype DropProp={\r\n\tdata:Immutable.List<TypedMap<ComboboxSpace.comboboxAPI[\"itemNode\"]>>;\r\n\tclickHande:ItemComboProp[\"clickFn\"];\r\n\tgetPropFieldVal(field:ComboboxSpace.field):string;\r\n}\r\n\r\ntype DropState={\r\n\r\n}\r\n\r\n\r\n\r\nclass ItemCombo extends React.PureComponent<ItemComboProp>{\r\n\r\n\trender(){\r\n\r\n\r\n\t\t\t\t\tconst {node,getPropFieldVal,clickFn,index} = this.props;\r\n\t\t\r\n\t\t\t\t\tconst active = node.get(\"active\");\r\n\t\t\t\t\tconst icon = getPropFieldVal(\"icon\");\r\n\t\t\t\t\tconst textField = getPropFieldVal(\"textField\") as any;\r\n\t\t\t\t\tconst text = node.get(textField);\r\n\r\n\t\t\t\t\treturn (<li onClick={clickFn}  data-index={index} className={\"m-combo-item \" + (active ? \"active\" : \"\")}>\r\n\t\t\t\t\t\t\t\t\t{ icon ? <span className={icon}></span>:\"\"}\r\n\t\t\t\t\t\t\t\t\t <span>{text}</span>\r\n\t\t\t\t\t\t\t\t </li>)\r\n\t}\r\n}\r\n\r\n\r\n\r\nexport default class DropCom extends React.PureComponent<DropProp,DropState>{\r\n\r\n\t\tstatic ItemCombo:React.SFC<ItemComboProp> = ({getPropFieldVal,clickFn,node,index})=>{\r\n\r\n\t\t\t\t\t\tconst active = node.get(\"active\");\r\n\t\t\t\t\t\tconst icon = getPropFieldVal(\"icon\");\r\n\t\t\t\t\t\tconst textField = getPropFieldVal(\"textField\") as any;\r\n\t\t\t\t\t\tconst text = node.get(textField);\r\n\r\n\t\t\t\t\t\treturn (<li onClick={clickFn}  data-index={index} className={\"m-combo-item \" + (active ? \"active\" : \"\")}>\r\n\t\t\t\t\t\t\t\t\t\t{ icon ? <span className={icon}></span>:\"\"}\r\n\t\t\t\t\t\t\t\t\t\t <span>{text}</span>\r\n\t\t\t\t\t\t\t\t\t </li>)\r\n\t\t\t\t\t}\r\n\r\n\t\trender(){\r\n\r\n\t\t\tconst {data,clickHande,getPropFieldVal} = this.props;\r\n\t\t\tconst idField = getPropFieldVal(\"idField\") as any;\r\n\r\n\r\n\r\n\t\t\treturn (<>\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\tdata.map((val,index)=>{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tconst id = val.get(idField);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn <ItemCombo node={val} index={index} getPropFieldVal={getPropFieldVal}   clickFn={clickHande} key={id}/>\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t</>)\r\n\t\t}\r\n\r\n\r\n}\r\n\r\n\r\n","\r\nimport * as React from \"react\";\r\nimport * as Immutable from \"immutable\";\r\nimport \"@css/combobox.scss\";\r\nimport { VelocityComponent } from \"velocity-react\";\r\nimport { ComboInp } from \"@js/common/InputBtn\";\r\nimport DropCom from \"./Drop\";\r\n\r\ntype props = {\r\n\tidField?: string;\r\n\ttextField?: string;\r\n\ticon?: string;\r\n\tclickCallback?: (slecte: Readonly<ComboboxSpace.comboboxAPI[\"slectedItem\"][]>, field: string, node?: Readonly<any>, ) => void;\r\n\tfield: string;\r\n\tmultiply?: boolean;\r\n\tdefaultVal?: string;\r\n\twidth?: number|\"auto\";\r\n\tmaxHeight?: number;\r\n\tdata: any[];\r\n\thasSlideIcon?: boolean;\r\n\tformatter?: (node: Readonly<any>) => JSX.Element;\r\n\tpannelWidth?: number;\r\n\tinpShowField?: string;\r\n\trequire?: boolean;\r\n\tplaceholder?: string;\r\n\tdirctionUp?:boolean;\r\n\trenderClick?:boolean;\r\n}\r\n\r\n\r\ntype state = {\r\n\tdrop: boolean;\r\n\tslected: Immutable.List<ComboboxSpace.comboboxAPI[\"slectedItem\"]>;\r\n\tdata: Immutable.List<TypedMap<ComboboxSpace.comboboxAPI[\"itemNode\"]>>\r\n}\r\n\r\n\r\nexport default class Combobox extends React.PureComponent<props, state>{\r\n\r\n\tstatic defaultProps = {\r\n\t\tidField: \"id\",\r\n\t\ttextField: \"text\",\r\n\t\ticon: \"\",\r\n\t\tmultiply: false,\r\n\t\tdefaultVal: \"\",\r\n\t\twidth: 240,\r\n\t\tmaxHeight: 300,\r\n\t\thasSlideIcon: true,\r\n\t\trequire: true,\r\n\t\tplaceholder:\"\",\r\n\t}\r\n\r\n\r\n\twrapDomRef:React.RefObject<HTMLDivElement> = React.createRef();\r\n\r\n\tconstructor(props: props) {\r\n\r\n\t\tsuper(props);\r\n\r\n\t\tconst { defaultVal, data, idField, textField } = props;\r\n\r\n\t\tconst _defaultVal = defaultVal + \"\";\r\n\r\n\r\n\r\n\t\tlet defaultNode: ComboboxSpace.comboboxAPI[\"slectedItem\"][];\r\n\r\n\t\tif (!_defaultVal) {\r\n\t\t\tdefaultNode = [];\r\n\t\t} else {\r\n\t\t\tconst _defaultNode = _defaultVal.split(\",\").map(val => {\r\n\r\n\t\t\t\tconst node = data.find(node => (node[idField!] == val))!\r\n\t\t\t\treturn node ? {\r\n\t\t\t\t\tid: val,\r\n\t\t\t\t\ttext: node[textField!]\r\n\t\t\t\t} : null;\r\n\t\t\t});\r\n\r\n\t\t\tdefaultNode = _defaultNode.filter(val => !!val) as ComboboxSpace.comboboxAPI[\"slectedItem\"][];\r\n\t\t}\r\n\r\n\t\tconst slected = Immutable.List(defaultNode);\r\n\r\n\t\tthis.state = {\r\n\t\t\tdrop: false,\r\n\t\t\tslected,\r\n\t\t\tdata: Immutable.fromJS(this.addField(data, slected)),\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentWillReceiveProps(nextProp: props) {\r\n\r\n\t\t//父组件\r\n\t\tif (nextProp.data != this.props.data || nextProp.defaultVal !=this.props.defaultVal) {\r\n\t\t\tconst _defaultVal = nextProp.defaultVal + \"\";\r\n\t\t\tconst _defaultNode = _defaultVal.split(\",\").map(val => {\r\n\t\t\t\tconst node = nextProp.data.find(node => (node[nextProp.idField!] == val))!\r\n\t\t\t\treturn node ? {\r\n\t\t\t\t\tid: val,\r\n\t\t\t\t\ttext: node[nextProp.textField!]\r\n\t\t\t\t} : null;\r\n\t\t\t});\r\n\r\n\t\t\tconst slected = Immutable.List(_defaultNode.filter(val => !!val) as ComboboxSpace.comboboxAPI[\"slectedItem\"][]);\r\n\r\n\r\n\t\t\tthis.setState({\r\n\t\t\t\tdata: Immutable.fromJS(this.addField(nextProp.data, slected)),\r\n\t\t\t\tslected,\r\n\t\t\t});\r\n\r\n\t\t\t\r\n\r\n\t\t\tnextProp.renderClick &&  nextProp.clickCallback && nextProp.clickCallback([{id:nextProp.defaultVal!,text:\"\"}],nextProp.field)\r\n\t\t}\r\n\r\n\r\n\t}\r\n\r\n\taddField(data: any[], slecteArr: state[\"slected\"]): any[] {\r\n\r\n\t\tconst { idField } = this.props;\r\n\r\n\t\treturn JSON.parse(JSON.stringify(data), function (...args) {\r\n\r\n\t\t\tconst [, val] = args\r\n\t\t\tif (Object.prototype.toString.call(val) === \"[object Object]\") {\r\n\t\t\t\tval.active = (slecteArr.findIndex(node => node.id == val[idField!]) > -1)\r\n\t\t\t}\r\n\t\t\treturn val;\r\n\t\t});\r\n\t}\r\n\r\n\ttoggleDrop = () => {\r\n\t\tthis.setState(preState => {\r\n\t\t\treturn {\r\n\t\t\t\tdrop: !preState.drop\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\r\n\tgetValue() {\r\n\t\tconst { slected } = this.state;\r\n\t\tconst arr = slected.map(node => {\r\n\t\t\treturn node!.text;\r\n\t\t});\r\n\t\treturn arr.join(\",\");\r\n\t}\r\n\r\n\tgetPropFieldVal = (field: ComboboxSpace.field) => {\r\n\t\treturn this.props[field]!;\r\n\t}\r\n\r\n\r\n\r\n\tclickFn = (e: React.MouseEvent<HTMLLIElement>) => {\r\n\r\n\t\tconst index = +e.currentTarget.dataset.index!;\r\n\r\n\t\tconst { multiply, textField, idField, clickCallback, field, inpShowField } = this.props;\r\n\t\tconst { data, slected } = this.state;\r\n\r\n\t\tconst flagText = inpShowField || textField;\r\n\r\n\t\tconst node = data.get(index)!;\r\n\t\tconst id = node.get(idField as any);\r\n\t\tconst text = node.get(flagText as any);\r\n\r\n\t\tconst slecteIndex = slected.findIndex(val => val.id == id);\r\n\t\tconst is_has = slecteIndex > -1;\r\n\r\n\t\tif (multiply) {\r\n\r\n\t\t\tthis.setState({\r\n\t\t\t\tdata: data.set(index, node.set(\"active\", !is_has)),\r\n\t\t\t\tslected: !is_has ? slected.push({ id, text }) : slected.remove(slecteIndex),\r\n\t\t\t});\r\n\r\n\t\t} else {\r\n\r\n\t\t\tif (is_has) {\r\n\t\t\t\treturn;\r\n\t\t\t};\r\n\r\n\t\t\tconst preSlected = slected.get(0);\r\n\r\n\r\n\r\n\t\t\tlet $data = data.set(index, node.set(\"active\", !is_has));\r\n\r\n\t\t\tif (preSlected) {\r\n\t\t\t\tconst preIndex = data.findIndex(val => val.get(\"id\" as any) == preSlected.id);\r\n\t\t\t\t$data = $data.update(preIndex, node => node.set(\"active\", false));\r\n\t\t\t}\r\n\r\n\r\n\r\n\t\t\tclickCallback && clickCallback([{ id, text }], field!, node.toJS());\r\n\r\n\t\t\tthis.setState({\r\n\t\t\t\tdata: $data,\r\n\t\t\t\tslected: slected.clear().push({ id, text }),\r\n\t\t\t\tdrop: false\r\n\t\t\t})\r\n\r\n\t\t};\r\n\t}\r\n\r\n\tdocumentClickFn=(e:MouseEvent)=>{\r\n\r\n\t\tconst target = e.target! as HTMLElement;\r\n\t\tconst wrap = this.wrapDomRef.current!;\r\n\t\tif(target == wrap || wrap.contains(target) ){\r\n\t\t\t\r\n\t\t}else{\r\n\r\n\t\t\tthis.setState({\r\n\t\t\t\tdrop:false\r\n\t\t\t});\r\n\t\t}\r\n\r\n\r\n\t\t\r\n\r\n\t}\r\n\r\n\tcomponentDidMount(){\r\n\r\n\t\tdocument.addEventListener(\"click\",this.documentClickFn);\r\n\t}\r\n\tcomponentWillUnmount(){\r\n\r\n\t\tdocument.removeEventListener(\"click\",this.documentClickFn);\r\n\t}\r\n\r\n\trender() {\r\n\r\n\t\tconst { drop, data } = this.state;\r\n\r\n\t\tconst { multiply, width, maxHeight, hasSlideIcon, pannelWidth, require, placeholder ,dirctionUp} = this.props;\r\n\r\n\r\n\r\n\t\tconst value = this.getValue();\r\n\r\n\r\n\r\n\t\treturn (<div ref={this.wrapDomRef} className={\"combobox \" + (drop ? \"active \" : \"\") + ((!value && require) ? \"no-fill\" : \"\")} style={{ width }} >\r\n\r\n\t\t\t<ComboInp \r\n\t\t\t\tplaceholder={placeholder} \r\n\t\t\t\tmultiply={multiply!} \r\n\t\t\t\ttoggleDrop={this.toggleDrop} \r\n\t\t\t\tvalue={value} \r\n\t\t\t\tdrop={drop} \r\n\t\t\t\thasSlideIcon={hasSlideIcon}\r\n\t\t\t/>\r\n\t\t\t<VelocityComponent duration={300} animation={drop ? \"slideDown\" : \"slideUp\"}\r\n\t\t\t\t\tinterruptBehavior=\"queue\"\r\n\t\t\t>\r\n\t\t\t\t<ul style={{ maxHeight, width: (pannelWidth ? pannelWidth : \"100%\") }} className={\"m-drop \" + (dirctionUp && \"direction-up\" || \"direction-down\")} >\r\n\r\n\t\t\t\t\t<DropCom data={data} getPropFieldVal={this.getPropFieldVal} clickHande={this.clickFn} />\r\n\r\n\t\t\t\t</ul>\r\n\t\t\t</VelocityComponent >\r\n\t\t</div>);\r\n\r\n\t}\r\n\r\n\r\n\r\n\r\n}","import * as React from \"react\";\r\nimport Search from \"@js/common/SearchCom\";\r\nimport Calendar from \"@js/common/calendar/index\";\r\nimport Combobox from \"@js/common/combobox/index\";\r\nimport {Link} from \"react-router-dom\";\r\nimport {Button,Icon} from \"@js/common/Button\";\r\nimport {connect,MapStateToProps} from \"react-redux\";\r\n\r\ntype HeadOptProp = {\r\n\tchangeHandle(field:string,value:string):void;\r\n\ttype:string;\r\n\tshowModal:()=>void;\r\n\tdaoPatch():void;\r\n\troleId:string;\r\n\tshowUpfileHandle():void;\r\n}\r\n\r\ntype HeadOptState = {\r\n}\r\n\r\n\r\n\r\nconst sexArr = [\r\n\t{\r\n\t\tid: \"1\",\r\n\t\ttext: \"男\"\r\n\t}\r\n\t, {\r\n\t\tid: \"2\",\r\n\t\ttext: \"女\"\r\n\t},\r\n\t{\r\n\t\tid: \"0\",\r\n\t\ttext: \"所有\"\r\n\t}\r\n];\r\nconst translateArr = [\r\n\t{\r\n\t\tid: \"1\",\r\n\t\ttext: \"未翻译\",\r\n\t\ttext2:\"\"\r\n\t},\r\n\t\r\n\t//  {\r\n\t// \tid: \"2\",\r\n\t// \ttext: \"已翻译\"\r\n\t// },\r\n\t\r\n\t{\r\n\t\tid: \"4\",\r\n\t\ttext: \"驳回\"\r\n\t},\r\n\t{\r\n\t\tid: \"6\",\r\n\t\ttext: \"报错\",\r\n\t},\r\n\t{\r\n\t\tid: \"3\",\r\n\t\ttext: \"未审核\",\r\n \t},\r\n\t{\r\n\t\tid: \"0\",\r\n\t\ttext: \"所有\"\r\n\t}\r\n];\r\nconst translateArr2 = [\r\n\t{\r\n\t\tid: \"1\",\r\n\t\ttext: \"未翻译\",\r\n\t\ttext2:\"\"\r\n\t},\r\n\t// , {\r\n\t// \tid: \"2\",\r\n\t// \ttext: \"已翻译\"\r\n\t// }, \r\n\t{\r\n\t\tid: \"4\",\r\n\t\ttext: \"驳回\"\r\n\t},\r\n\t{\r\n\t\tid: \"0\",\r\n\t\ttext: \"所有\"\r\n\t}\r\n];\r\n class HeadOpt extends React.PureComponent<HeadOptProp & reduxStateProp , HeadOptState>{\r\n\r\n\tstate = {\r\n\t}\r\n\r\n\toptHandle=(e:React.MouseEvent<HTMLButtonElement>)=>{\r\n\r\n\r\n\t\tconst type = e.currentTarget!.name;\r\n\r\n\r\n\t\tswitch (type) {\r\n\t\t\tcase \"refresh\":\r\n\t\t\t\t\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"del\":\r\n\t\t\t\tthis.props.showModal();\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"patchDao\":\r\n\t\t\t\tthis.props.daoPatch();\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tdefault:\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n\r\n\tchangeTime=(timeArr:string[],field:string)=>{\r\n\r\n\r\n\t\tconst value = timeArr[0]\r\n\t\tthis.props.changeHandle(field,value);\r\n\r\n\t}\r\n\r\n\tinputChange=(key:string,field:string)=>{\r\n\r\n\t\tthis.props.changeHandle(field,key);\r\n\t}\r\n\r\n\tcloseInput=(field:string)=>{\r\n\r\n\r\n\t\tthis.props.changeHandle(field,\"\")\r\n\r\n\t}\r\n\r\n\tcomboboxCallback=(slectedArr:Readonly<any[]>,field:string)=>{\r\n\r\n\t\tthis.props.changeHandle(field,slectedArr[0].id)\r\n\r\n\r\n\t}\r\n\r\n\t\r\n\r\n\trender() {\r\n\r\n\t\tconst {type,roleId,showUpfileHandle,filterType} = this.props;\r\n\t\treturn (<>\r\n\t\t\t<div>\r\n\r\n\t\t\t\t<div style={{ display: \"flex\", justifyContent: \"space-between\" }}>\r\n\r\n\t\t\t\t\t<div className=\"m-filter-box\">\r\n\t\t\t\t\t\t<Search width={170} searchHandle={this.inputChange} field=\"fdept\" hasBtn={false} tip=\"科室搜索...\" closeHandle={this.closeInput} />\r\n\t\t\t\t\t\t<Combobox data={sexArr} field=\"fsex\"  width={100} placeholder=\"性别...\" defaultVal=\"0\" clickCallback={this.comboboxCallback} />\r\n\t\t\t\t\t\t<Search searchHandle={this.inputChange} field=\"fage\" hasBtn={false} width={120} tip=\"年龄搜索...\" closeHandle={this.closeInput} />\r\n\t\t\t\t\t\t<Calendar ableClear={true} field=\"lrdata\" width={140} placeholder=\"录入时间\" clickBack={this.changeTime} />\r\n\t\t\t\t\t\t{ type == \"/gdsummary\"? <Calendar ableClear={true} field=\"gddata\" width={140} placeholder=\"归档时间\" clickBack={this.changeTime} /> :null }\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\ttype !== \"/gdsummary\"\t? <Combobox data={ roleId==\"3202\" ?translateArr2 : translateArr } field=\"status\" clickCallback={this.comboboxCallback} renderClick={true} width={100}  defaultVal={filterType}  /> : null \r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t</div>\r\n\r\n\r\n\t\t\t\t\t<div className=\"m-optBtn\">\r\n\r\n\t\t\t\t\t\t{ type ===\"/gdsummary\" ?(\r\n\t\t\t\t\t\t<Button field=\"patchDao\" handle={this.optHandle}> <Icon  styleType=\"fa-external-link\"/>批量导出</Button>\r\n\t\t\t\t\t\t):<><Button field=\"upfile\" handle={showUpfileHandle}> <Icon  styleType=\"fa-external-link\"/>病例导入</Button><Link to=\"/addCaseModal\"><Button field=\"\" ><Icon styleType=\"fa-plus\"/>添加病历</Button></Link> </>}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t\t\t{roleId != \"3202\" ? <Button handle={this.optHandle} field=\"del\" styleType=\"line-btn\" type=\"danger\"><Icon styleType=\"fa-trash\"/>批量删除</Button> : \"\"}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t</>\r\n\t\t)\r\n\t}\r\n\r\n}\r\n\r\ntype reduxStateProp = {\r\n\tfilterType:string;\r\n}\r\n\r\n\r\n\r\nconst mapStateToProps: MapStateToProps<reduxStateProp, HeadOptProp, appStore> = ({ app }) => {\r\n\r\n\treturn {\r\n\t\tfilterType:app.get(\"filterType\")\r\n\t}\r\n\r\n}\r\n\r\n\r\n\r\nexport default connect(mapStateToProps)(HeadOpt);","import * as React from \"react\";\r\nimport Combobox from \"@js/common/combobox/index\";\r\n\r\ntype TableProps = {\r\n    list: any[];\r\n    hasPageNums?: boolean;\r\n    column: columnItem[],\r\n    idField?: string;\r\n    total: number;\r\n    pageNum: number;//当前页数\r\n    pageSize: number;//每页多少条\r\n    pages: number;//共有的页数\r\n    tableH: string;\r\n    checkbox: boolean,\r\n    changeHandle(field: any, value: string): void;\r\n    \r\n}\r\n\r\ntype columnItem = {\r\n    text: string;\r\n    width?: number;\r\n    field: string;\r\n    formatter?: (node: any) => React.ReactChild;\r\n\r\n}\r\n\r\ntype TableState = {\r\n    tableH: number;\r\n    checkArr: string[];\r\n   // pageCheckAll: \"checked\" | \"unchecked\" | \"haschecked\";\r\n}\r\n\r\n\r\nconst pageSizeArr = [\r\n    {\r\n        id: \"10\",\r\n        text: \"10\"\r\n    },\r\n    {\r\n        id: \"15\",\r\n        text: \"15\"\r\n    }, {\r\n        id: \"20\",\r\n        text: \"20\"\r\n    }, {\r\n        id: \"30\",\r\n        text: \"30\"\r\n    }, {\r\n        id: \"50\",\r\n        text: \"50\"\r\n    },\r\n\r\n]\r\n\r\n\r\n\r\nexport default class Table extends React.PureComponent<TableProps, TableState>{\r\n\r\n\r\n\r\n    static defaultProps = {\r\n        hasPageNums: true,\r\n        idField: \"id\",\r\n        hasOrder: true,\r\n        checkbox: false,\r\n        perNums: 10,\r\n        tableH: \"auto\",\r\n    }\r\n\r\n    TableContainer: React.RefObject<HTMLDivElement> = React.createRef();\r\n    TableBody: React.RefObject<HTMLDivElement> = React.createRef();\r\n\r\n    state: TableState = {\r\n        tableH: 0,\r\n        checkArr: [],\r\n     //   pageCheckAll:\"unchecked\",\r\n    }\r\n    componentDidMount() {\r\n\r\n        const tableH = this.TableContainer.current!.clientHeight;\r\n        this.setState({\r\n            tableH,\r\n        });\r\n\r\n    }\r\n    jumpPage = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n\r\n        let num = +e.currentTarget!.value;\r\n        const { total, pageSize, changeHandle ,pageNum} = this.props;\r\n        const maxPage = Math.ceil(total / pageSize)\r\n\r\n\r\n        if (num > maxPage) {\r\n            num = maxPage\r\n        } else if (num < 1) {\r\n            num = 1\r\n        }\r\n\r\n        e.currentTarget!.value = num + \"\";\r\n\r\n        if(pageNum == num){\r\n            return ;\r\n        }\r\n\r\n        changeHandle(\"pageNum\", num + \"\");\r\n\r\n    }\r\n    checkAll = (e:React.ChangeEvent<HTMLInputElement>) => {\r\n\r\n        const target = e.currentTarget!;\r\n        const status = target.checked;\r\n        const {list,idField} = this.props;\r\n        const total = list.map(val=>val[idField!]+\"\");\r\n\r\n        this.setState(pre=>{\r\n\r\n            let checkAll:string[];\r\n            if(status){\r\n               \r\n                const setArr = new Set(pre.checkArr.concat(total));\r\n                checkAll = [...setArr];\r\n\r\n            }else{\r\n                checkAll = pre.checkArr.filter(val=>!total.includes(val));\r\n\r\n            }\r\n\r\n           this.props.changeHandle(\"checkArr\",checkAll.join(\",\"));\r\n            return {\r\n                checkArr:checkAll,\r\n              //  pageCheckAll: (status && \"checked\" || \"unchecked\")\r\n            }\r\n        })\r\n    }\r\n\r\n    countTotalStatus(checkAll:string[],list:any[]) {\r\n\r\n\r\n        const {idField} = this.props;\r\n        const total = list.map(val=>val[idField!]+\"\");\r\n        const hasAll = total.length ? total.every(val=>checkAll.includes(val)) :false;\r\n        let hasCheck = false;\r\n\r\n        if(!hasAll){\r\n\r\n            hasCheck = checkAll.some(val=>total.includes(val));\r\n\r\n        }\r\n\r\n\r\n        return {hasAll,hasCheck}\r\n\r\n\r\n    }\r\n    changePageSize = (seleteArr: Readonly<any[]>, field: string) => {\r\n\r\n        this.props.changeHandle(field, seleteArr[0].id);\r\n\r\n    }\r\n    checkItem = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n        const target = e.currentTarget!;\r\n        const status = target.checked;\r\n        const id = target.name;\r\n\r\n        this.setState(pre => {\r\n\r\n            let checkAll:string[];\r\n\r\n            if (status) {\r\n                 checkAll = pre.checkArr.concat(id); \r\n            } else {\r\n                checkAll = pre.checkArr.filter(val=>val!==id);\r\n            }\r\n\r\n           this.props.changeHandle(\"checkArr\",checkAll.join(\",\"));\r\n\r\n            return {\r\n                checkArr:checkAll,\r\n            }\r\n        })\r\n\r\n\r\n\r\n    }\r\n\r\n    getColgroupCom(column: columnItem[],checkbox:boolean) {\r\n\r\n        return (<colgroup>\r\n            {checkbox ?<col style={{ width: \"40px\" }} />:null}\r\n            {\r\n                column.map(({ width, field }) => {\r\n                    const wObj = width ? { width: width + \"px\" } : {};\r\n                    return <col key={field} style={wObj} />\r\n                })\r\n            }\r\n        </colgroup>)\r\n    }\r\n    controlMoveBtn=(e:React.MouseEvent<HTMLElement>)=>{\r\n\r\n        const type = e.currentTarget!.dataset.name as \"pre\"|\"next\"\r\n        const {pages,pageNum,changeHandle} = this.props;\r\n        const totalPage = pages;\r\n        let newPageNum= 0;\r\n        switch (type) {\r\n            case \"next\":\r\n                newPageNum = +pageNum + 1;\r\n                newPageNum = newPageNum > totalPage ? 1 : newPageNum;\r\n                break;\r\n        \r\n            default:\r\n                newPageNum = +pageNum - 1;\r\n                newPageNum = newPageNum < 1 ? totalPage : newPageNum;\r\n                break;\r\n        };\r\n\r\n        if(newPageNum == pageNum){\r\n            return ;\r\n        }\r\n        changeHandle(\"pageNum\",newPageNum + \"\"); \r\n    }\r\n    pageCodeHandle=(e:React.MouseEvent<HTMLElement>)=>{\r\n        const target = e.currentTarget!;\r\n        if(target.classList.contains(\"active\")){\r\n            return ;\r\n        }\r\n\r\n        const num = target.dataset.num;\r\n\r\n        this.props.changeHandle(\"pageNum\", num!);\r\n\r\n\r\n    }\r\n\r\n    firstPage() {\r\n    const { pages, pageNum } = this.props;\r\n    const arr = Array.from({length:5},(...args)=>(args[1]+1));\r\n    return (\r\n      <React.Fragment>\r\n        {arr.map(val=> (\r\n            <span className={\"m-page-num \" + (val == pageNum ? \"active\" : \"\")}\r\n                    key={val}\r\n                    data-num={val}\r\n                    onClick={this.pageCodeHandle}\r\n            >\r\n                {val}\r\n            </span>\r\n        ))}  \r\n        <span>...</span>\r\n        <span \r\n            className={\"m-page-num \" + (pages == pageNum ? \"active\" : \"\")}\r\n            data-num={pages}\r\n            onClick={this.pageCodeHandle}\r\n            >\r\n                {pages}\r\n            </span>\r\n      \r\n      </React.Fragment>\r\n    );\r\n    }\r\n    lastPage() {\r\n        const { pages, pageNum } = this.props;\r\n        const arr = Array.from({length:5},(...args)=>(args[1]+1));\r\n        return (\r\n        <React.Fragment>\r\n            <span\r\n            className={\"m-page-num \" + (1 == pageNum ? \"active\" : \"\")}\r\n            data-num={1}\r\n            onClick={this.pageCodeHandle}\r\n            >\r\n            {1}\r\n            </span>\r\n            <span>...</span>\r\n            {arr.map(val => (\r\n                <span\r\n                    className={\"m-page-num \" + (pages - 5 +val == pageNum ? \"active\" : \"\")}\r\n                    data-num={pages-5+val}\r\n                    key={pages-5+val}\r\n                    onClick={this.pageCodeHandle}\r\n                >\r\n\r\n                    {pages - 5 + val }\r\n                </span>\r\n            ))}\r\n        </React.Fragment>\r\n        );\r\n    }\r\n    centerPage() {\r\n        const {pageNum, pages } = this.props;\r\n        const arr = Array.from({length:5},(...args)=>(args[1]+1));\r\n        return (\r\n        <React.Fragment>\r\n            <span\r\n\r\n            className={\"m-page-num \" + (1 == pageNum ? \"active\" : \"\")}\r\n            data-num={1}\r\n            onClick={this.pageCodeHandle}\r\n            >\r\n            {1}\r\n            </span>\r\n            <span>...</span>\r\n            {arr.map(val => (\r\n            <span\r\n                data-num={pageNum - 3 + val }\r\n                onClick={this.pageCodeHandle}\r\n                className={\"m-page-num \" + (pageNum -3 +  val == pageNum ? \"active\" : \"\")}\r\n                key={pageNum - 3 + val}\r\n                \r\n            >\r\n                {pageNum - 3 + val}\r\n            </span>\r\n            ))}\r\n\r\n            <span>...</span>\r\n            <span\r\n\r\n            className={\"m-page-num \" + (pages == pageNum ? \"active\" : \"\")}\r\n            data-num={pages}\r\n            onClick={this.pageCodeHandle}\r\n            >\r\n            {pages}\r\n            </span>\r\n        </React.Fragment>\r\n        );\r\n    }\r\n    normalPage() {\r\n        const { pageNum, pages } = this.props;\r\n\r\n        const arr = Array.from({length:pages},(...args)=>(args[1]+1));\r\n        return arr.map(val => {\r\n            return (\r\n            <span\r\n            className={\"m-page-num \" + (val == pageNum ? \"active\" : \"\")}\r\n            data-num={val}\r\n            key={val}\r\n            onClick={this.pageCodeHandle}\r\n            >\r\n                {val}\r\n            </span>\r\n            );\r\n        });\r\n    }\r\n\r\n    render() {\r\n\r\n        const { list, column, idField, total, pageNum,pages ,checkbox} = this.props;\r\n        const { tableH, checkArr } = this.state;\r\n\r\n        let tabOver = \"\";\r\n        let h: any;\r\n\r\n        if (tableH > 0) {\r\n\r\n            h = (+tableH - 120);// 表头 高40 ，离底部还要有距离\r\n\r\n            tabOver = list.length * 43 > h ? \"tab-over\" : \"\";\r\n\r\n            h += \"px\";\r\n        };\r\n\r\n        const colgroupCom = this.getColgroupCom(column,checkbox);\r\n\r\n        const checkStatus = this.countTotalStatus(checkArr,list);\r\n\r\n\r\n        let navigatepageCom;\r\n\r\n        if (pages < 11) {\r\n          navigatepageCom= this.normalPage();\r\n        } else if (pageNum - 1 < 4) {\r\n          navigatepageCom= this.firstPage();\r\n        } else if (pages - pageNum < 4) {\r\n           navigatepageCom= this.lastPage();\r\n        } else {\r\n          navigatepageCom= this.centerPage();\r\n        }\r\n\r\n        return (<div className=\"g-table\" ref={this.TableContainer}>\r\n\r\n            <div className={\"m-fixTabHead \" + tabOver}>\r\n                <table >\r\n                    {colgroupCom}\r\n                    <thead >\r\n                        <tr>\r\n                           {checkbox? <th >\r\n                                <label className=\"m-label m-lab-checkbox\" >\r\n                                    <input type=\"checkbox\" name=\"all\" className={ checkStatus.hasCheck && \"has-check\" || \"\"} checked={checkStatus.hasAll } onChange={this.checkAll} />\r\n\r\n                                </label>\r\n                            </th>:null}\r\n                            {\r\n                                column.map(({ text, field }) => {\r\n                                    return <th key={field}>{text}</th>\r\n                                })\r\n                            }\r\n                        </tr>\r\n                    </thead>\r\n                </table>\r\n            </div>\r\n\r\n            <div className=\"m-fixTabBody\" style={{ \"height\": h }} ref={this.TableBody}>\r\n                <table >\r\n                    {colgroupCom}\r\n                    <tbody>\r\n                        {\r\n                            list.map(dataItem => {\r\n\r\n                                const id = dataItem[idField!] + \"\";\r\n\r\n                                const checkStaus = checkArr.includes(id);\r\n\r\n                                return (<tr key={id}>\r\n                                   {checkbox ? <td style={{ width: \"60px\" }}>\r\n                                        <label className=\"m-label m-lab-checkbox\" >\r\n                                            <input type=\"checkbox\" name={id} checked={checkStaus} onChange={this.checkItem} />\r\n\r\n                                        </label>\r\n                                    </td>:null}\r\n                                    {\r\n                                        column.map((node) => {\r\n                                            const { field, formatter } = node;\r\n                                            const text = formatter ? formatter(dataItem) : dataItem[field];\r\n                                            return <td key={field} >{text}</td>\r\n                                        })\r\n                                    }\r\n                                </tr>)\r\n                            })\r\n                        }\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n            <div className=\"g-pageCode\">\r\n                <div className=\"m-page-total\">\r\n                    <span>共 {total} 条记录</span>\r\n                    <span>每页显示</span>\r\n                    <Combobox field=\"pageSize\" clickCallback={this.changePageSize} data={pageSizeArr} width={80} defaultVal=\"10\" dirctionUp={true} />\r\n                    <span>条</span>\r\n\r\n                </div>\r\n                <div style={{ display: \"flex\" }}>\r\n                    <div className=\"m-code-number\">\r\n                        <span className=\"m-page-num\"\r\n\r\n                                data-name=\"pre\"\r\n                            onClick={this.controlMoveBtn}\r\n                        ><i className=\"fa fa-chevron-left \"></i></span>\r\n                        <span>\r\n                            {\r\n                               navigatepageCom\r\n                            }\r\n\r\n                        </span>\r\n                        <span className=\"m-page-num\"\r\n                                data-name=\"next\"\r\n                            onClick={this.controlMoveBtn}\r\n                        ><i className=\"fa fa-chevron-right \"></i></span>\r\n                    </div>\r\n                    <span style={{ marginLeft: \"20px\" }}>\r\n                        <span >跳转到</span>\r\n                        <input className=\"j-jump-page\" type=\"number\" min={1} onChange={this.jumpPage} />页\r\n                    </span>\r\n                </div>\r\n            </div>\r\n        </div>)\r\n\r\n\r\n    }\r\n\r\n\r\n\r\n}","import * as React from \"react\";\r\nimport Table from \"@js/common/table/index\";\r\nimport {NavLink} from \"react-router-dom\";\r\nimport {Button} from \"@js/common/Button\"\r\n//请求参数： pageNum：第几页 pageSize：每页几条 role_id：角色id status:状态默认筛选值0； status是筛选值,status_name是对应中文 主任角色可选筛选值：3：提交（未审核）5：已审核；6：报错 医生角色可选筛选值：1:未翻译，2：已翻译，4：驳回 fdept：科室 默认空字符串 fsex：性别 默认空字符串 fage：年龄 默认空字符串 lrdata：录入日期 默认空字符串 gddata：归档日期 默认空字符串 返回值： code：状态码 200为正常状态 message：状态信息 data： total：总条数 list：需要显示的数据 pageNum：当前第几页 pageSize：每页条数 prePage：上一页页码 nextPage：下一页页码 navigatepageNums：页码数组\r\n\r\ntype ListItem = {\r\n    id: string;\r\n    fname: string;\r\n    fsex: \"男\" | \"女\",\r\n    fage: string;\r\n    fdept: string;\r\n    fdeb: string;\r\n    fprn: string;\r\n    fsurvey: string;\r\n    fryqk: string;\r\n    fryzd: string;\r\n    fzljg: string;\r\n    fcyqk: string;\r\n    fcyyz: string;\r\n    status: string;\r\n    status_name: string;\r\n    lrdata: string;\r\n    disp: string;\r\n}\r\n\r\ntype caseData = {\r\n    list:ListItem[];\r\n    pageNum: number;\r\n    pageSize: number;\r\n    size: number;\r\n    startRow: number;\r\n    endRow: number;\r\n    pages: number;\r\n    prePage: number;\r\n    nextPage: number;\r\n    isFirstPage: boolean;\r\n    isLastPage: boolean;\r\n    hasPreviousPage: boolean;\r\n    hasNextPage: boolean;\r\n    navigatePages: number;\r\n    navigatepageNums: number[];\r\n    navigateFirstPage: number;\r\n    navigateLastPage: number;\r\n    lastPage: number;\r\n    firstPage: number;\r\n    total:number;\r\n}\r\n\r\n\r\n\r\n   \r\ntype ResultProp = {\r\n    changeHandle(field:any,value:string):void;\r\n    data:caseData;\r\n    type : string; \r\n    delItem:(ids:string)=>void;\r\n    roleId:string;\r\n} \r\ntype ResultState={\r\n}\r\n\r\nclass ResultSearch extends React.PureComponent<ResultProp,ResultState>{\r\n\r\n    column =   [\r\n        {\r\n            text: \"姓名\",\r\n            field: \"fname\",\r\n            width: 180,\r\n        },\r\n        {\r\n            text: \"性别\",\r\n            field: \"fsex\",\r\n        },\r\n        {\r\n            text: \"年龄\",\r\n            field: \"fage\",\r\n        },\r\n        {\r\n            text: \"科室\",\r\n            field: \"fdept\",\r\n        },\r\n        {\r\n            text: \"床号\",\r\n            field: \"fdeb\",\r\n        },\r\n        {\r\n            text: \"病案号\",\r\n            field: \"fprn\",\r\n        },\r\n        {\r\n            text: \"录入时间\", \r\n            field: \"lrdata\",\r\n        },\r\n         {\r\n            text: \"归档时间\", \r\n            field: \"gddata\",\r\n        },\r\n        {\r\n            text: \"状态\",\r\n            field: \"status_name\",\r\n            formatter:function(node:any){\r\n\r\n                // 主任角色可选筛选值 3：5：；6： 医生角色可选筛选值：1:，2：，4：\r\n                const status = node.status;\r\n\r\n                const obj={\r\n                    \"1\":\"m-translate-warn\",\r\n                    \"2\":\"m-translate-warn\",\r\n                    \"3\":\"m-translate-green\",\r\n                    \"4\":\"m-translate-error\",\r\n                    \"5\":\"\",\r\n                    \"6\":\"m-translate-error\",\r\n                }\r\n                const name = obj[status as \"1\"];\r\n                return <span className={name}>{node.status_name}</span>; \r\n\r\n            }\r\n        },\r\n        {\r\n            text: \"操作\",\r\n            field: \"opt\",\r\n            width: 140,\r\n            formatter: (node:any)=>{\r\n\r\n                const { type ,roleId} = this.props;\r\n                const pathObj = {\r\n                    pathname:\"/translate\",\r\n                    state:{\r\n                        id:node.id,\r\n                        type,\r\n                    }\r\n                }\r\n                const name = this.props.roleId == \"3202\" ? \"翻译\" :  \"查看\";\r\n                return (<>\r\n                        <NavLink to={pathObj} ><button className=\"s-btn normal-btn primary\" >{name}</button></NavLink>\r\n                        &nbsp;\r\n                       {roleId != \"3202\" ? <Button type=\"danger\" field={node.id}  handle={this.delItemCase}>删除</Button> :null}\r\n                        </>\r\n                        )\r\n            }\r\n        }\r\n    ];\r\n\r\n    state={\r\n  \r\n    }\r\n\r\n    delItemCase=(e:React.MouseEvent<HTMLButtonElement>)=>{\r\n\r\n\r\n        const id = e.currentTarget!.name;\r\n\r\n        this.props.delItem(id);\r\n    }\r\n    componentDidMount(){\r\n\r\n       \r\n\r\n        if(this.props.type ==\"/summary\"){\r\n\r\n            this.column.splice(7,1)\r\n\r\n        }\r\n\r\n    }\r\n    render(){\r\n        const {data,roleId} = this.props;\r\n\r\n        if(!data){\r\n            return \"\";\r\n        }\r\n\r\n        const {list,pageNum,pageSize,total,pages} = data;\r\n        const {changeHandle} = this.props;\r\n        \r\n            return <Table \r\n                        list={list} \r\n                        column={this.column}\r\n                        pageNum={pageNum}\r\n                        pageSize={pageSize}\r\n                        total={total}\r\n                        pages={pages}\r\n                        changeHandle={changeHandle}\r\n                        checkbox={roleId!=\"3202\"}\r\n                    />\r\n\r\n\r\n    }\r\n   \r\n\r\n}\r\n\r\nexport default ResultSearch;\r\n\r\n","import axios from \"@js/common/AxiosInstance\";\r\nimport * as qs from \"qs\";\r\n\r\nexport default {\r\n\r\n    getAllSummaryCaseByStatus:function(data:any){\r\n\r\n        return  axios.post(\"summary/getAllSummaryCaseByStatus\",qs.stringify(data));\r\n\r\n\r\n    },\r\n    addChSummaryCase:function (obj:any) {\r\n\r\n        return  axios.post(\"summary/addChSummaryCase\",obj,{\r\n            headers:{\r\n                \"Content-Type\":\"application/json\"\r\n            }\r\n        });\r\n        \r\n    },\r\n    getSummaryCaseByUserid:function(user_id:string) {\r\n\r\n        return axios.get(\"summary/getSummaryCaseByUserid?user_id=\"+user_id)\r\n        \r\n    },\r\n    saveChSummaryCase:function(data:any) {\r\n\r\n        return axios.post(\"summary/saveChSummaryCase\",data,{\r\n            headers:{\r\n                \"Content-Type\":\"application/json\"\r\n            }\r\n        })\r\n        \r\n    },\r\n    delSummaryCaseById:function(id:string){\r\n        return  axios.post(\"summary/delSummaryCaseById\",qs.stringify({id}));\r\n    },\r\n    getAllOrg(){\r\n        return axios.get(\"/summary/getAllOrg\")\r\n    },\r\n   upCaseFile(url:string,enPk:string){\r\n\r\n\r\n    return axios.post(\"/summary/upCaseFile\",qs.stringify({url,enPk}))\r\n   }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n}","\r\nimport * as React from \"react\";\r\nimport {createPortal} from \"react-dom\";\r\n\r\n\r\ntype LoadingProp = {\r\n\t\tcontainer:HTMLElement;\r\n}\r\n\r\n\r\ntype LoadingState = {\r\n\t\r\n}\r\n\r\nclass Loading extends React.PureComponent<LoadingProp,LoadingState>{\r\n\tstatic LoadingCom:React.SFC=()=>{\r\n\r\n\t\treturn (<div className=\"g-loading\">\r\n\t\t\t\t\t\t\t\t<div className=\"m-loading\">\r\n\t\t\t\t\t\t\t\t\t\t\t<b className=\"loading-text\">loading...</b>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>);\r\n\t}\r\n\trender(){\r\n\r\n\t\tconst {container} = this.props;\r\n\t\treturn  createPortal(<Loading.LoadingCom/>,container)  \r\n\t}\r\n\r\n}\r\n\r\nexport default Loading ;","import * as React from \"react\";\r\nimport { RouteComponentProps } from \"react-router-dom\";\r\nimport HeadOpt from \"./ConditionHead\";\r\nimport ResultSearch from \"./CaseTable\";\r\nimport { connect, MapStateToProps } from \"react-redux\";\r\nimport Api from \"@api/summary\";\r\nimport Modal from \"@js/common/Modal\";\r\nimport { Notification } from \"@js/common/toast/index\";\r\nimport Loading from \"@js/common/Loading\";\r\nimport {InpBox} from \"@js/common/InputBtn\";\r\ntype caseProps = {\r\n\r\n};\r\n\r\n\r\ntype CaseState = {\r\n\tcheckArr: string;\r\n\tdata: any;\r\n\tinitDelModal: boolean;\r\n\tshowModal: boolean;\r\n\tinitUpfileModal: boolean;\r\n\tshowUpfileModal: boolean;\r\n\tdelId: string;\r\n\tfetching: boolean;\r\n\tenPk:string;\r\n\turl:string;\r\n}\r\n\r\n\r\n\r\nclass CaseManage extends React.PureComponent<RouteComponentProps<caseProps> & reduxProp, CaseState>{\r\n\r\n\tparams: {\r\n\t\tpageNum: string;\r\n\t\tpageSize: string;\r\n\t\tstatus: string;\r\n\t\tfsex: string;\r\n\t\tfage: string;\r\n\t\tlrdata: string;\r\n\t\tfdept: string; //科室\r\n\t\tgddata: string; //归档时间\r\n\t} = {\r\n\t\t\tpageNum: \"1\",\r\n\t\t\tpageSize: \"10\",\r\n\t\t\tstatus: \"0\",\r\n\t\t\tfsex: \"0\",\r\n\t\t\tfage: \"\",\r\n\t\t\tlrdata: \"\",\r\n\t\t\tfdept: \"\", //科室\r\n\t\t\tgddata: \"\", //归档时间\r\n\t\t}\r\n\r\n\tstate: CaseState = {\r\n\t\tcheckArr: \"\",\r\n\t\tdata: null,\r\n\t\tinitDelModal: false,\r\n\t\tshowModal: false,\r\n\t\tdelId: \"\",\r\n\t\tfetching: false,\r\n\t\tinitUpfileModal: false,\r\n\t\tshowUpfileModal: false,\r\n\t\turl:\"http://10.100.1.38:8080/iemr/webservice/IEMRWebService?wsdl\",\r\n\t\tenPk:\"\"\r\n\t}\r\n\tnotificationRef: React.RefObject<Notification> = React.createRef();\r\n\tcomponentDidMount() {\r\n\t\tthis.getTableData(this.props.roleId);\r\n\t}\r\n\ttoggleShowDelModal = () => {\r\n\r\n\t\tthis.setState(pre => {\r\n\t\t\treturn {\r\n\t\t\t\tshowModal: !pre.showModal,\r\n\t\t\t\tinitDelModal: true\r\n\t\t\t}\r\n\t\t})\r\n\r\n\t}\r\n\r\n\twebServerHandle=(field:\"url\"|\"enPk\",value:string)=>{\r\n\r\n\r\n\r\n\r\n\t\tthis.setState({\r\n\t\t\t[field as \"url\"]:value\r\n\t\t})\r\n\r\n\r\n\t}\r\n\r\n\tcomponentWillReceiveProps(nextProp: reduxProp) {\r\n\r\n\r\n\t\tif (nextProp.roleId !== this.props.roleId) {\r\n\t\t\tthis.getTableData(nextProp.roleId)\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tgetTableData(role_id: string) {\r\n\t\tconst flag = this.props.location.pathname === \"/summary\" ? \"0\" : \"1\";\r\n\t\tthis.setState({\r\n\t\t\tfetching: true,\r\n\t\t})\r\n\t\tApi.getAllSummaryCaseByStatus(Object.assign({ role_id, flag }, this.params)).then(res => {\r\n\t\t\tthis.setState({\r\n\t\t\t\tdata: res.data,\r\n\t\t\t\tfetching: false\r\n\t\t\t})\r\n\t\t});\r\n\t}\r\n\r\n\trefreshData = () => {\r\n\r\n\t\tthis.getTableData(this.props.roleId)\r\n\t}\r\n\r\n\tdelCase = () => {\r\n\r\n\t\tconst flag = this.state.delId;\r\n\t\tconst notification = this.notificationRef.current!;\r\n\t\tApi.delSummaryCaseById(flag).then((res: AxiosInterfaceResponse) => {\r\n\r\n\t\t\tthis.toggleShowDelModal();\r\n\t\t\tnotification.addNotice(res.message, \"success\")\r\n\t\t\tthis.getTableData(this.props.roleId);\r\n\t\t});\r\n\r\n\t}\r\n\tdelitem = (id: string) => {\r\n\r\n\t\tthis.setState({\r\n\t\t\tdelId: id\r\n\t\t});\r\n\r\n\t\tthis.toggleShowDelModal();\r\n\r\n\t}\r\n\tdelMultiply = () => {\r\n\r\n\t\tif (!this.state.checkArr) {\r\n\t\t\tthis.notificationRef.current!.addNotice(\"请选择病历！\", \"warn\");\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis.setState(pre => {\r\n\t\t\treturn {\r\n\t\t\t\tdelId: pre.checkArr\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tthis.toggleShowDelModal();\r\n\r\n\t}\r\n\r\n\tchangeState = (filed: \"checkArr\" | keyof CaseManage[\"params\"], value: string) => {\r\n\r\n\t\tif (filed === \"checkArr\") {\r\n\r\n\t\t\tthis.setState({\r\n\t\t\t\tcheckArr: value\r\n\t\t\t})\r\n\t\t} else {\r\n\t\t\tthis.params[filed] = value;\r\n\t\t\tthis.getTableData(this.props.roleId);\r\n\t\t}\r\n\t}\r\n\r\n\tupfileHandle = () => {\r\n\r\n\t\tconst {enPk,url} = this.state;\r\n\t\tif(!enPk || !url){\r\n\r\n\t\t\tthis.notificationRef.current!.addNotice(\"填写完整！\",\"warn\");\r\n\r\n\t\t\treturn ;\r\n\t\t}\r\n\t\tApi.upCaseFile(url,enPk).then((res:AxiosInterfaceResponse)=>{\r\n\r\n\r\n\t\t\tif(res.code==200){\r\n\r\n\t\t\t\tthis.getTableData(this.props.roleId);\r\n\t\t\t\tthis.toggleShowUpfileModal();\r\n\t\t\t}\r\n\r\n\t\t\tthis.notificationRef.current!.addNotice(res.message,(res.code==200?\"success\":\"warn\"));\r\n\r\n\r\n\r\n\t\t})\r\n\r\n\t}\r\n\ttoggleShowUpfileModal = () => {\r\n\t\tthis.setState(pre => {\r\n\t\t\treturn {\r\n\t\t\t\tshowUpfileModal: !pre.showUpfileModal,\r\n\t\t\t\tinitUpfileModal: true\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t}\r\n\r\n\tdaoPatch = () => {\r\n\r\n\t\tconst { checkArr } = this.state;\r\n\t\tif (!checkArr) {\r\n\r\n\t\t\tthis.notificationRef.current!.addNotice(\"选择病例!\", \"warn\");\r\n\t\t\treturn;\r\n\r\n\t\t}\r\n\r\n\t\tconst a = document.createElement(\"a\");\r\n\t\ta.href = window.getSession(\"getPath\") + \"summary/wordExport?ids=\" + checkArr;\r\n\t\tdocument.body.appendChild(a);\r\n\t\ta.download = \"文件下载\"\r\n\t\ta.click();\r\n\t\tdocument.body.removeChild(a);\r\n\r\n\t}\r\n\r\n\t\r\n\r\n\trender() {\r\n\r\n\r\n\t\tconst { location: { state: { text }, pathname }, roleId } = this.props;\r\n\r\n\r\n\r\n\r\n\r\n\t\tconst { data, initDelModal, showModal, fetching, initUpfileModal, showUpfileModal ,url,enPk} = this.state;\r\n\t\tconst modalDom = document.getElementById(\"s-modal\")!;\r\n\r\n\t\treturn (\r\n\t\t\t<div className=\"g-padding g-summary\" >\r\n\t\t\t\t{fetching ? <Loading container={modalDom} /> : null}\r\n\t\t\t\t<Notification ref={this.notificationRef} />\r\n\t\t\t\t{initDelModal ? (<Modal\r\n\t\t\t\t\tclassName=\"m-del-modal\"\r\n\t\t\t\t\ttit=\"提示\"\r\n\t\t\t\t\ttype=\"question\"\r\n\t\t\t\t\tcontainer={modalDom}\r\n\t\t\t\t\tonSure={this.delCase}\r\n\t\t\t\t\tonCancel={this.toggleShowDelModal}\r\n\t\t\t\t\tshow={showModal}\r\n\t\t\t\t>\r\n\t\t\t\t\t<p style={{ padding: \"20px 10px\" }}>确定删去吗？</p>\r\n\t\t\t\t</Modal>) : null}\r\n\t\t\t\t{initUpfileModal ? (<Modal\r\n\t\t\t\t\tclassName=\"pwd-M\"\r\n\t\t\t\t\ttit=\"导入病例\"\r\n\t\t\t\t\tcontainer={modalDom}\r\n\t\t\t\t\tonSure={this.upfileHandle}\r\n\t\t\t\t\tonCancel={this.toggleShowUpfileModal}\r\n\t\t\t\t\tshow={showUpfileModal}\r\n\t\t\t\t\t\r\n\t\t\t\t>\r\n\t\t\t\t\t<div className=\"m-file-box\">\r\n\r\n\t\t\t\t\t\t<p className=\"item-inp\" style={{color:\"#535be9\",padding:\"0 10px\"}}><span className=\"m-inp-tit\">url提示</span>http://10.100.1.38:8080/iemr/webservice/IEMRWebService?wsdl</p>\r\n\t\t\t\t\t\t<InpBox\r\n\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\tstyleType=\"normal\"\r\n\t\t\t\t\t\t\tfield=\"url\"\r\n\t\t\t\t\t\t\ttitle=\"URL\"\r\n\t\t\t\t\t\t\tvalue={url}\r\n\t\t\t\t\t\t\tchangeHandle={this.webServerHandle}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<InpBox\r\n\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\tstyleType=\"normal\"\r\n\t\t\t\t\t\t\tfield=\"enPk\"\r\n\t\t\t\t\t\t\ttitle=\"就诊流水号\"\r\n\t\t\t\t\t\t\tvalue={enPk}\r\n\t\t\t\t\t\t\tchangeHandle={this.webServerHandle}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\t\r\n\t\t\t\t</Modal>) : null}\r\n\r\n\t\t\t\t<p style={{ paddingBottom: 16 }}>{text}</p>\r\n\t\t\t\t<HeadOpt\r\n\t\t\t\t\tchangeHandle={this.changeState}\r\n\t\t\t\t\ttype={pathname}\r\n\t\t\t\t\tshowModal={this.delMultiply}\r\n\t\t\t\t\tdaoPatch={this.daoPatch}\r\n\t\t\t\t\troleId={roleId}\r\n\t\t\t\t\tshowUpfileHandle={this.toggleShowUpfileModal}\r\n\r\n\t\t\t\t/>\r\n\t\t\t\t{data ? <ResultSearch\r\n\t\t\t\t\tdata={data}\r\n\t\t\t\t\tchangeHandle={this.changeState}\r\n\t\t\t\t\ttype={pathname}\r\n\t\t\t\t\tdelItem={this.delitem}\r\n\t\t\t\t\troleId={roleId}\r\n\t\t\t\t/> : null}\r\n\r\n\t\t\t</div>\r\n\r\n\t\t)\r\n\r\n\t}\r\n}\r\n\r\ntype reduxProp = {\r\n\troleId: string;\r\n}\r\n\r\nconst mapStateToProp: MapStateToProps<reduxProp, caseProps, appStore> = ({ app }) => {\r\n\r\n\tconst roleId = app.get(\"role_ids\")[app.get(\"role_index\")];\r\n\treturn {\r\n\r\n\t\troleId,\r\n\r\n\t}\r\n}\r\n\r\n\r\nexport default connect(mapStateToProp)(CaseManage);\r\n\r\n\r\n\r\n","const languageConfig = {\r\n    en:{\r\n        title:\"Shenzhen Samii Medical Center\",\r\n        fname: \"Name\",\r\n        fsex: \"Gender\",\r\n        fage: \"Age\",\r\n        fdept: \"Administrative office\",\r\n        fdeb: \"Bed Number\",\r\n        fprn: \"Medical record number\",\r\n        fsurvey: \"due to \",\r\n        fryqk: \"Admission situation\",\r\n        fryzd: \"\",\r\n        fzljg: \"Medical treatment\",\r\n        fcyzd: \"Discharge diagnosis\",\r\n        fcyqk: \"Discharge situation\",\r\n        fcyyz: \"Discharge Instructions \",\r\n        frydata: \"admitted to hospital at \",\r\n        fcydata: \"discharged at \",\r\n        fsumd: \"hospitalized for \",\r\n        fsumd1: \" days\",\r\n        patient:\"Patient\"\r\n    },\r\n    ch:{\r\n        title:\"深圳市萨米医疗中心\",\r\n        fname: \"姓名\",\r\n        fsex: \"性别\",\r\n        fage: \"年龄\",\r\n        fdept: \"科室\",\r\n        fdeb: \"床号\",\r\n        fprn: \"病案号\",\r\n        fsurvey: \"因 \",\r\n        fryqk: \"入院情况\",\r\n        fryzd: \"\",\r\n        fzljg: \"诊疗经过\",\r\n        fcyzd: \"出院诊断\",\r\n        fcyqk: \"出院情况\",\r\n        fcyyz: \"出院医嘱\",\r\n        frydata: \" 入院\",\r\n        fcydata: \" 出院\",\r\n        fsumd: \"共住院 \",\r\n        fsumd1: \" 天\",\r\n        patient:\"患者\"\r\n\r\n    }\r\n};\r\n//Zhang Si, male, 20, due to \"patient Zhang Sanyin.\", admitted to hospital at 20190605, discharged at 20190506, hospitalized for 3 days.\r\n\r\nexport {languageConfig}","import * as React from \"react\";\r\nimport Combobox from \"@js/common/combobox/index\";\r\nimport Calendar from \"@js/common/calendar/index\";\r\nimport {languageConfig} from \"./language\"\r\n\r\n\r\ntype caseModalProps = {\r\n    data:TypedMap<SummarySpace.params> ;\r\n    changeState(field:string,value:string):void;\r\n    type:\"ch\"|\"en\";\r\n    ableEdit?:boolean;\r\n};\r\n\r\n\r\nconst sexArr = [\t{\r\n\t\tid: \"1\",\r\n        textCh: \"男\",\r\n        textEn:\"Man\"\r\n\t}\r\n\t, {\r\n\t\tid: \"2\",\r\n        textCh: \"女\",\r\n        textEn:\"Woman\"\r\n\t}];\r\n\r\n\r\n\r\nclass CaseModal extends React.PureComponent<caseModalProps>{\r\n\r\n   static defaultProps={\r\n       ableEdit:true,\r\n   }\r\n   \r\n    changeHandle = (e: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement>) => {\r\n        const tagert = e.currentTarget!;\r\n        const field = tagert.name as \"fage\";\r\n        const value = tagert.value.trim();\r\n        this.props.changeState(field,value);\r\n       \r\n    }\r\n\r\n    setSex=(seletArr:Readonly<any[]>)=>{\r\n        \r\n        const node = sexArr[seletArr[0].id-1] ;\r\n        const value = this.props.type==\"ch\" ? node.textCh : node.textEn; \r\n       \r\n        this.props.changeState(\"fsex\",value)\r\n    }\r\n\r\n    setCalendar=(timeArr:any[],field:\"fcydata\")=>{\r\n        const value =timeArr[0]; \r\n        this.props.changeState(field,value)\r\n    }\r\n\r\n    \r\n    \r\n    static ItemInp:React.SFC<{is_en:boolean,value:string,field?:string,handle:(e:React.ChangeEvent<HTMLInputElement>)=>void,type?:string}>=({is_en,field,value,handle,type=\"text\"})=>{\r\n\r\n\r\n        return !is_en ? <input type={type}  name={field} className={\"s-inp normal \"+ (!value?\"no-fill\":\"\")}  value={value} onChange={handle} /> :\r\n                        <input type=\"text\" readOnly className=\"s-inp normal\" defaultValue={value}  />\r\n    }\r\n    \r\n    render() {\r\n        \r\n        const {type,data,children,ableEdit} = this.props;\r\n        const {fname, fage, fsex, fdeb, fdept, fprn, fryqk, fzljg, fcyyz, fcyqk, fcyzd, fsurvey, fcydata, frydata, fsumd } = data.toJS();\r\n        const config = languageConfig[type];\r\n\r\n        const is_en = type===\"en\" ;\r\n        return (\r\n                        <div className={\"m-translate \"+(!is_en &&\"g-translate-ch\" || \"g-translate-en\") + (!ableEdit ? \" onlyRead\" :\"\")}  >\r\n                            <p className=\"m-tit\">{config.title}</p>\r\n                            <div className=\"g-translate-header\">\r\n                                <div className=\"m-add-item\">\r\n                                    <div >{config.fname}：<br />\r\n                                     <CaseModal.ItemInp is_en={is_en} field=\"fname\" value={fname} handle={this.changeHandle} />\r\n                                    </div> \r\n                                    <div  className=\"g-org\">{config.fdept}：<br />\r\n                                    <input  readOnly={!ableEdit} type=\"text\" name=\"fdept\" autoComplete=\"off\" className={\"s-inp normal \"+(!fdept ?\"no-fill\":\"\")} value={fdept} onChange={this.changeHandle}  />\r\n                                    {children}\r\n                                    \r\n                                    </div>\r\n                                   \r\n                                  \r\n                                </div>\r\n                                <div className=\"m-add-item\">\r\n                                    <div >{config.fsex}：<br/>\r\n                                        { !is_en ? <Combobox  field=\"fsex\" defaultVal={ (fsex ==\"男\") &&\"1\"||\"2\"} data={sexArr} textField={(type==\"ch\" && \"textCh\" || \"textEn\")} hasSlideIcon={false} clickCallback={this.setSex} width={\"auto\"}/>\r\n                                        :<input type=\"text\" readOnly className=\"s-inp normal\" defaultValue={fsex}  />}\r\n                                    </div>\r\n                                    <div>{config.fdeb}：<br />\r\n                                     <CaseModal.ItemInp is_en={is_en} field=\"fdeb\" value={fdeb} handle={this.changeHandle} />\r\n                                    </div>\r\n                                  \r\n                                </div>\r\n                                 <div className=\"m-add-item\">  \r\n                                    <div>{config.fage}：<br />\r\n                                     <CaseModal.ItemInp is_en={is_en} field=\"fage\" type=\"number\"  value={fage} handle={this.changeHandle} />\r\n                                     </div>\r\n                                    <div>{config.fprn}：<br />\r\n                                     <CaseModal.ItemInp is_en={is_en} field=\"fprn\" value={fprn} handle={this.changeHandle} />\r\n                                    </div>\r\n                                </div>\r\n\r\n                            </div>\r\n                            <div className=\" g-tanslate-content\">\r\n                                <div className=\"paitent-info\">\r\n                                    <span >{config.patient}：</span>\r\n                                    <span >\r\n                                        {fname}，{fsex}，{fage}，{config.fsurvey}\r\n                                        <input readOnly={!ableEdit} className={\"s-inp normal m-survey \" + (!fsurvey ? \"no-fill\":\"\")} value={fsurvey}  onChange={this.changeHandle} type=\"text\" name=\"fsurvey\" />， \r\n                                      \r\n                                       {!is_en ?  (<>于<Calendar width={120} field=\"frydata\" clickBack={this.setCalendar} selTimeValArr={frydata} />{config.frydata}</> ):( config.frydata + frydata)}\r\n                                        ，\r\n                                      { !is_en ?<>于<Calendar width={120} field=\"fcydata\" clickBack={this.setCalendar} selTimeValArr={fcydata} />{config.fcydata}</>: config.fcydata+fcydata}\r\n                                        ，<>{config.fsumd}&nbsp;{!is_en ? <input className={\"s-inp normal \" + (!fsumd && \"no-fill\" || \"\")} style={{width:60}} name=\"fsumd\" onChange={this.changeHandle} value={fsumd} />: fsumd}&nbsp;{config.fsumd1}</>。</span>\r\n                                </div>\r\n                                <p className=\"translate-item\">\r\n                                    <span className=\"m-right-tit m-article-tit\">{config.fryqk}：</span>\r\n                                    <textarea readOnly={!ableEdit} name=\"fryqk\" className={\"m-article \"+(!fryqk?\"no-fill\":\"\")} rows={3} value={fryqk} onChange={this.changeHandle}></textarea>\r\n                                </p>\r\n                                <p className=\"translate-item\">\r\n                                    <span className=\"m-right-tit m-article-tit\">{config.fzljg}：</span>\r\n                                    <textarea readOnly={!ableEdit} name=\"fzljg\" className={\"m-article \"+(!fzljg?\"no-fill\":\"\")} value={fzljg} rows={3} onChange={this.changeHandle}></textarea>\r\n                                </p>\r\n                                <p className=\"translate-item\">\r\n                                    <span className=\"m-right-tit m-article-tit\">{config.fcyzd}：</span>\r\n                                    <textarea readOnly={!ableEdit} name=\"fcyzd\" className={\"m-article \"+(!fcyzd?\"no-fill\":\"\")} value={fcyzd} rows={3} onChange={this.changeHandle}></textarea>\r\n                                </p>\r\n                                <p className=\"translate-item\">\r\n                                    <span className=\"m-right-tit m-article-tit\">{config.fcyqk}：</span>\r\n                                    <textarea readOnly={!ableEdit} name=\"fcyqk\" className={\"m-article \"+(!fcyqk?\"no-fill\":\"\")} value={fcyqk} rows={3} onChange={this.changeHandle}></textarea>\r\n                                </p>\r\n                                <p className=\"translate-item\">\r\n                                    <span className=\"m-right-tit m-article-tit\">{config.fcyyz}：</span>\r\n                                    <textarea readOnly={!ableEdit} name=\"fcyyz\" className={\"m-article \"+(!fcyyz?\"no-fill\":\"\")} value={fcyyz} rows={3} onChange={this.changeHandle}></textarea>\r\n                                </p>\r\n                            </div>\r\n                        </div>\r\n        )\r\n\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\nexport default CaseModal;\r\n\r\n\r\n\r\n","import * as React from \"react\";\r\nimport Api from \"@api/summary\";\r\nimport { Link, RouteComponentProps } from \"react-router-dom\";\r\nimport { connect, MapStateToProps } from \"react-redux\";\r\nimport CaseModalInp from \"../summary/CaseModalInp\";\r\nimport {withRouter} from \"react-router-dom\";\r\nimport {Button,Icon, SvgIcon} from \"@js/common/Button\";\r\nimport {Notification} from \"@js/common/toast/index\";\r\nimport {createTypedMap} from \"@js/common/ImmutableMap\";\r\n\r\ntype caseModalProps = {\r\n    data:SummarySpace.params ;\r\n    user_id:string;\r\n    pathTo(path:any):void;\r\n    hasSave:boolean;\r\n    orgData:{id:string;name:string}[];\r\n};\r\n\r\n\r\ntype caseModalState = {\r\n\r\n    data:TypedMap<SummarySpace.params> ;\r\n    timeId:null | number;\r\n    isChange:boolean;\r\n};\r\n\r\n\r\n\r\n\r\n\r\nclass AddCaseModal extends React.PureComponent< caseModalProps, caseModalState>{\r\n\r\n    timeSave=10000;\r\n    id=\"\";\r\n    state:caseModalState ={\r\n        data:createTypedMap(this.props.data),\r\n        timeId:null,\r\n        isChange:false\r\n    };\r\n\r\n    notificationRef:React.RefObject<Notification> = React.createRef();\r\n    componentDidMount(){\r\n       // 添加自动保存的定时器\r\n       const _self = this;\r\n       let oldData = this.state.data;\r\n        const timeId = window.setInterval(function(){\r\n\r\n            const newData = _self.state.data;\r\n\r\n            if(oldData !== newData){\r\n\r\n                const obj = Object.assign({ user_id:_self.props.user_id }, newData.toJS());\r\n                Api.addChSummaryCase(obj).then((res:AxiosInterfaceResponse) => {\r\n\r\n                        oldData = newData ;\r\n\r\n                        _self.setState(pre=>({\r\n                            isChange:false,\r\n                            data:pre.data.set(\"id\",res.data.id),\r\n                        }))\r\n                });\r\n            }\r\n\r\n        },this.timeSave);\r\n\r\n        this.setState({\r\n            timeId,\r\n        })\r\n\r\n        if(this.props.hasSave){\r\n            this.notificationRef.current!.addNotice(\"有上次保存未提交的，请填写完整，然后提交！\",\"warn\",0);\r\n        }\r\n    }\r\n    submit = (e: React.MouseEvent<HTMLButtonElement>) => {\r\n\r\n        const{ user_id} = this.props;\r\n        const type = e.currentTarget!.name as \"save\" | \"submit\";\r\n        const {data}  = this.state;\r\n        \r\n        const obj = Object.assign({user_id},data.toJS());\r\n\r\n        const notifacation = this.notificationRef.current!;\r\n\r\n        if (type == \"save\") {\r\n\r\n            Api.addChSummaryCase(obj).then((res:AxiosInterfaceResponse)=> {\r\n\r\n                notifacation.addNotice(\"保存成功！\",\"success\");\r\n\r\n                this.setState(pre=>({\r\n                    isChange:false,\r\n                    data:pre.data.set(\"id\",res.data.id)\r\n                }))\r\n\r\n            });\r\n\r\n        } else { //提交\r\n\r\n            if(document.querySelectorAll(\"#g-gdsummary .no-fill\").length){\r\n                notifacation.addNotice(\"请填写完整，然后提交！\",\"warn\");\r\n                return \r\n            }\r\n\r\n            Api.saveChSummaryCase(obj).then( ()=> {\r\n\r\n                const obj = {\r\n                    pathname: \"/summary\",\r\n                    state: {\r\n                        text: \"病历清单\"\r\n                    }\r\n                }\r\n                this.props.pathTo(obj)\r\n\r\n            })\r\n\r\n        }\r\n\r\n\r\n\r\n\r\n    }\r\n\r\n    changeState=(field:keyof SummarySpace.params,value:string)=>{\r\n\r\n        const val = field ==\"fage\" ? value.substr(0,3) : value;\r\n        this.setState(pre=>({\r\n           \r\n             data:pre.data.set(field,val),\r\n             isChange:value!=\"\",  \r\n        }))\r\n    }\r\n    \r\n   \r\n\r\n    orgItemHandle=(e:React.MouseEvent<HTMLLIElement>)=>{\r\n\r\n        const text = e.currentTarget!.dataset.name;\r\n\r\n        this.setState(pre=>({\r\n          data:pre.data.set(\"fdept\",text!)  ,\r\n          isChange:true \r\n        }))\r\n\r\n    }\r\n\r\n    filterOrg(){\r\n        const {orgData} = this.props;\r\n        const fdept = this.state.data.get(\"fdept\")\r\n\r\n        return orgData.filter(val=>{\r\n            return val.name.includes(fdept)\r\n        });\r\n\r\n    }\r\n\r\n    componentWillUnmount(){\r\n\r\n        const {timeId} = this.state;\r\n\r\n        timeId && window.clearInterval(timeId);\r\n    }\r\n\r\n\r\n    render() {\r\n\r\n        const { data,isChange} = this.state;\r\n        \r\n        const orgData = this.filterOrg();\r\n        const saveAlert:React.CSSProperties | undefined  = isChange ? {color:\"black\"} : undefined;\r\n        return (\r\n            <div className=\"g-padding g-gdsummary\" id=\"g-gdsummary\">\r\n                <Notification  ref={this.notificationRef}/>\r\n                <div className=\"g-translate-box\" style={{ width: \"50%\", marginLeft: 10 }} >\r\n                    <div className=\"g-translate g-add-modal\">\r\n                        <CaseModalInp data={data} type=\"ch\" changeState={this.changeState} >\r\n                            <ul className=\"m-org-drop\" >{\r\n                                orgData.map(val=>{\r\n                                    return (\r\n                                        <li onClick={this.orgItemHandle} data-name={val.name} key={val.id}>{val.name}</li>\r\n                                    )\r\n                                })\r\n                            }\r\n                            </ul>  \r\n                        </CaseModalInp>\r\n                    </div>\r\n                </div>\r\n                <div className=\"add-opt-box\">\r\n                    <Button type=\"green\" handle={this.submit} field=\"save\"><Icon styleType=\"fa fa-floppy-o\"/><span style={saveAlert}>保存</span></Button>\r\n                    <button className=\"s-btn normal-btn primary \" name=\"submit\"  onClick={this.submit} ><SvgIcon styleType=\"submit\"/>提交</button>\r\n                    <Link to={{ pathname: \"/summary\", state: { text: \"病历清单\" } }}><button className=\"s-btn line-btn primary\" ><i className=\"fa fa-undo\">&nbsp;</i>取消</button></Link>\r\n                </div>\r\n            </div>\r\n\r\n        )\r\n\r\n    }\r\n}\r\n\r\n\r\ntype ContainerState={\r\n    data:any;\r\n    hasSave:boolean;\r\n    orgData:any ;\r\n}\r\n\r\nclass Container extends React.PureComponent<RouteComponentProps<{}> & reduxState,ContainerState> {\r\n\r\n\tstate:ContainerState={\r\n        data:null,\r\n        hasSave:false,\r\n        orgData:null\r\n    }\r\n    \r\n    pathTo=(path:any)=>{\r\n\r\n        this.props.history.push(path)\r\n    }\r\n\r\n    componentDidMount() {\r\n        const {user_id} = this.props;\r\n\r\n        const time = new Date();\r\n        const year = time.getFullYear();\r\n\t\tconst month = time.getMonth() + 1;\r\n        const day = time.getDate();\r\n        const timeStr = \"\"+year +\"-\" +month+\"-\"+day;\r\n        const obj = {\r\n\t\t\tfname: \"\",\r\n\t\t\tfsex: \"男\",\r\n\t\t\tfage: \"\",\r\n\t\t\tfdept: \"\",\r\n\t\t\tfdeb: \"\",\r\n\t\t\tfprn: \"\",\r\n\t\t\tfsurvey: \"\",\r\n\t\t\tfryqk: \"\",\r\n\t\t\tfryzd: \"\",\r\n\t\t\tfzljg: \"\",\r\n\t\t\tfcyzd: \"\",\r\n\t\t\tfcyqk: \"\",\r\n\t\t\tfcyyz: \"\",\r\n\t\t\tfrydata: timeStr,\r\n\t\t\tfcydata: timeStr,\r\n            fsumd: \"\",\r\n            id:\"\",\r\n\t\t}\r\n        //看看上次有没有写了一部分保存后没有提交的\r\n        const hasData = Api.getSummaryCaseByUserid(user_id);\r\n            \r\n        \r\n        const Org = Api.getAllOrg();\r\n\r\n        Promise.all([hasData,Org]).then((res:any[])=>{\r\n\r\n            const [caseData,orgData] =res;\r\n\r\n            const hasSave = caseData.code == 4000;\r\n                if (hasSave) {\r\n                    for (const iterator in obj) {\r\n\r\n                        const key = iterator as \"fname\";\r\n\r\n                        caseData.data[0][key] && (obj[key] = caseData.data[0][key]);\r\n\r\n                    }\r\n                    \r\n                       \r\n                }\r\n\r\n                this.setState({\r\n                    data:obj,\r\n                    hasSave,\r\n                    orgData:orgData.data\r\n                })\r\n\r\n        })\r\n\r\n    }\r\n\r\n\trender(){\r\n\r\n        const {data,hasSave,orgData} = this.state;\r\n        \r\n        const user_id = this.props.user_id;\r\n\t\t\r\n\r\n\t\treturn data ? <AddCaseModal orgData={orgData} hasSave={hasSave} data={data}  user_id={user_id}  pathTo={this.pathTo} />:null;\r\n\t}\r\n}\r\n\r\n\r\n\r\ntype reduxState = {\r\n    user_id: string;\r\n}\r\n\r\n\r\nconst mapStateToProps: MapStateToProps<reduxState, caseModalProps, appStore> = ({ app }) => {\r\n\r\n\r\n    const user_id = app.get(\"user_id\");\r\n\r\n    return {\r\n        user_id,\r\n    }\r\n}\r\n\r\n\r\n\r\nexport default withRouter(connect(mapStateToProps)(Container))  ;\r\n\r\n\r\n\r\n","import * as React from \"react\";\r\nimport {languageConfig} from \"./language\"\r\n\r\n\r\n\r\n\r\n\r\ntype caseModalProps = {\r\n    params:{\r\n        fname: string;\r\n        fsex: string;\r\n        fage: string;\r\n        fdept: string;\r\n        fdeb: string;\r\n        fprn: string;\r\n        fsurvey: string;\r\n        fryqk: string;\r\n     //   fryzd: string;\r\n        fzljg: string;\r\n        fcyzd: string;\r\n        fcyqk: string;\r\n        fcyyz: string;\r\n        frydata: string;\r\n        fcydata: string;\r\n        fsumd: string;\r\n    }\r\n    type:\"ch\"|\"en\";\r\n\r\n}\r\n\r\n\r\nconst sexArr = {\r\n    en:{\r\n\t\t\"1\":\"Man\",\r\n\t\t\"2\":\"Woman\",\r\n\t}\r\n\t,ch:{\r\n        \"1\":\"男\",\r\n        \"2\":\"女\",\r\n\t}};\r\n\r\nsexArr\r\n\r\nclass CaseModal extends React.PureComponent<caseModalProps>{\r\n\r\n\r\n\r\n    render() {\r\n        \r\n        const {type,params:{ fname, fage, fsex, fdeb, fdept, fprn, fryqk, fzljg, fcyyz, fcyqk, fcyzd, fsurvey, fcydata, frydata, fsumd }} = this.props;\r\n        const config = languageConfig[type];\r\n        const is_en = type ===\"en\" ?<br/>:null ;\r\n        return (\r\n                        <div className={\"m-translate \"+(type === \"ch\" && \"g-translate-ch\" || \"g-translate-en\")}>\r\n                            <p className=\"m-tit\">{config.title}</p>\r\n                            <div className=\"g-translate-header\" >\r\n                                <div className=\"m-add-item\">\r\n                                    <p ><span className=\"m-right-tit m-head-tit\">{config.fname}：</span>{is_en}<span className=\"head-txt\">{fname}</span></p>\r\n                                    <p ><span className=\"m-right-tit m-head-tit\">{config.fdept}：</span>{is_en}<span className=\"head-txt\">{fdept}</span></p>\r\n                                </div>\r\n                                 <div className=\"m-add-item\">\r\n                                    <p ><span className=\"m-right-tit m-head-tit\">{config.fsex}：</span>{is_en}<span className=\"head-txt\">{fsex}</span> </p>\r\n                                    <p ><span className=\"m-right-tit m-head-tit\">{config.fdeb}：</span>{is_en}<span className=\"head-txt\">{fdeb}</span></p>\r\n                                </div>\r\n                                <div className=\"m-add-item\">\r\n                                    <p ><span className=\"m-right-tit m-head-tit\">{config.fage}：</span>{is_en}<span className=\"head-txt\">{fage}</span></p>\r\n                                    <p ><span className=\"m-right-tit m-head-tit\">{config.fprn}：</span>{is_en}<span className=\"head-txt\">{fprn}</span></p>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\" g-tanslate-content\">\r\n                                <p className=\"paitent-info\">\r\n                                    <span >{config.patient}：</span>\r\n                                    <span >\r\n                                        {fname}，{fsex}，{fage}，{config.fsurvey}“\r\n                                        {fsurvey}”， \r\n                                        {is_en ? config.frydata + frydata :\"于\" +frydata + config.frydata}，\r\n                                        {is_en ? config.fcydata + fcydata :\"于\" +fcydata + config.fcydata}，\r\n                                        {config.fsumd+fsumd+config.fsumd1}\r\n                                        。</span>\r\n                                </p>\r\n                                <p className=\"translate-item\">\r\n                                    <span className=\"m-right-tit m-article-tit\">{config.fryqk}：</span>\r\n                                    <span className=\"m-article\">{fryqk}</span>\r\n                                </p>\r\n                                <p className=\"translate-item\">\r\n                                    <span className=\"m-right-tit m-article-tit\">{config.fzljg}：</span>\r\n                                    <span className=\"m-article\">{fzljg}</span>\r\n                                </p>\r\n                                <p className=\"translate-item\">\r\n                                    <span className=\"m-right-tit m-article-tit\">{config.fcyzd}：</span>\r\n                                   <span className=\"m-article\">{fcyzd}</span>\r\n                                </p>\r\n                                <p className=\"translate-item\">\r\n                                    <span className=\"m-right-tit m-article-tit\">{config.fcyqk}：</span>\r\n                                    <span className=\"m-article\">{fcyqk}</span>\r\n                                </p>\r\n                                <p className=\"translate-item\">\r\n                                    <span className=\"m-right-tit m-article-tit\">{config.fcyyz}：</span>\r\n                                   <span className=\"m-article\">{fcyyz}</span>\r\n                                </p>\r\n                            </div>\r\n                        </div>\r\n\r\n                   \r\n        )\r\n\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\nexport default CaseModal;\r\n\r\n\r\n\r\n","import axios from \"@js/common/AxiosInstance\";\r\nimport * as qs from \"qs\";\r\n\r\nexport default {\r\n\r\n   \r\n    getSummaryCaseById:function (id:string) {\r\n        return axios.get(\"summary/getSummaryCaseById?id=\"+id)\r\n    },\r\n    updataEnSummaryCase:function(data:any){//修改也是保存\r\n        return axios.post(\"summary/updataEnSummaryCase\",data,{\r\n\r\n            headers:{\r\n                \"Content-Type\":\"application/json\"\r\n            }\r\n        })\r\n    },\r\n    commitEnSummaryCase:function(data:any){//提交\r\n        return axios.post(\"summary/commitEnSummaryCase\",data,{\r\n            headers:{\r\n                \"Content-Type\":\"application/json\"\r\n            }\r\n        })\r\n\r\n    },\r\n     saveChSummaryCase:function(data:any) {\r\n\r\n        return axios.post(\"summary/saveChSummaryCase\",data,{\r\n            headers:{\r\n                \"Content-Type\":\"application/json\"\r\n            }\r\n        })\r\n        \r\n    },\r\n    upSummaryCaseError:function(id:string,errMessages:string){//报错不翻译\r\n        return axios.post(\"/summary/upSummaryCaseError\",qs.stringify({id,errMessages}))\r\n    },\r\n    passEnSummaryCase:function(id:string){//通过\r\n\r\n        return axios.post(\"summary/passEnSummaryCase\",{id},{\r\n            headers:{\r\n                \"Content-Type\":\"application/json\"\r\n            }\r\n        })\r\n    },\r\n    returnSummaryCase:function(id:string,descr:string){//驳回\r\n\r\n        return axios.post(\"/summary/returnSummaryCase\",qs.stringify({id,descr}))\r\n    },\r\n    getAllOrg(){\r\n        return axios.get(\"/summary/getAllOrg\")\r\n    },\r\n    \r\n\r\n\r\n}","import * as React from \"react\";\r\nimport { RouteComponentProps } from \"react-router-dom\";\r\nimport { connect, MapStateToProps ,MapDispatchToProps} from \"react-redux\";\r\nimport CaseModalText from \"../summary/CaseModalText\";\r\nimport Api from \"@api/gdsummary\";\r\nimport CaseModalInp from \"../summary/CaseModalInp\";\r\nimport {Link} from \"react-router-dom\";\r\nimport {Button,Icon, SvgIcon} from \"@js/common/Button\";\r\nimport {Notification} from \"@js/common/toast/index\";\r\nimport Modal from \"@js/common/Modal\";\r\nimport html2canvas from \"html2canvas\";\r\nimport {createTypedMap} from \"@js/common/ImmutableMap\";\r\nimport { changeMenuUrl } from \"@js/actions/appAction\";\r\n\r\ntype translateProps = {\r\n\tdata:any;\r\n\tid:string;\r\n\ttype:string;//路由路径\r\n\troleId:string;\r\n\torgData:any[];\r\n\tpathTo(path:\"gdsummary\"|\"summary\"):void;\r\n\tchangeMenu(menuUrl:string):void;\r\n};\r\n\r\n\r\ntype paramsObj= TypedMap<{\r\n\ten:TypedMap<SummarySpace.params>,\r\n\tch:TypedMap<SummarySpace.params>\r\n}>\r\n\r\ntype translateState =  {\r\n\tinitModal:boolean;\r\n\tshowModal:boolean;\r\n\treasonTxt:string;\r\n\tobj:paramsObj;\r\n\ttimeId:null | number;\r\n\tisChange:boolean;\r\n}; \r\n\t\r\n\r\n\r\ntype ContainerState = {\r\n\tdata:any;\r\n\torgData:any[];\r\n}\r\n\t\t  \r\n\t\t   \r\nenum caseStatus {\r\n\tnoTranslate = 1,\r\n\ttranslate,\r\n\tsubmitCase,\r\n\treturnCase,\r\n\tcheckedCase,\r\n\terrorCase\r\n};\r\n\r\nenum roleEnum{\r\n\tdoctor=\"3202\",\r\n\tdirector=\"3201\"\r\n\r\n};\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nclass TranslateManage extends React.PureComponent<translateProps, translateState> {\r\n\tstatic pathObj = { pathname: \"/gdsummary\", state: { text: \"归档文案\" } }\r\n\t\r\n\ttimeSave=10000;\r\n\tstate:translateState = {\r\n\t\tinitModal: false,\r\n\t\tshowModal: false,\r\n\t\treasonTxt: \"\",\r\n\t\tobj:this.initState(this.props.data,this.props.roleId),\r\n\t\ttimeId:null,\r\n\t\tisChange:false,\r\n\t}; \r\n\tnotificationRef:React.RefObject<Notification> = React.createRef();\r\n\tinitState(data:{english:SummarySpace.params,china:SummarySpace.params},roleId:string){\r\n\r\n\t\tconst obj:SummarySpace.params ={\r\n\t\t\tfname: \"\",\r\n\t\t\tfsex: \"\",\r\n\t\t\tfage: \"\",\r\n\t\t\tfdept: \"\",\r\n\t\t\tfdeb: \"\",\r\n\t\t\tfprn: \"\",\r\n\t\t\tfsurvey: \"\",\r\n\t\t\tfryqk: \"\",\r\n\t\t\tfzljg: \"\",\r\n\t\t\tfcyzd: \"\",\r\n\t\t\tfcyqk: \"\",\r\n\t\t\tfcyyz: \"\",\r\n\t\t\tfrydata: \"\",\r\n\t\t\tfcydata: \"\",\r\n\t\t\tfsumd: \"\",\r\n\t\t};\r\n\t\t\r\n        if(data.english    ){\r\n\r\n\t\t\tif(roleId == roleEnum.doctor || (roleId == roleEnum.director && data.china.status! !== caseStatus.translate && data.china.status! !==caseStatus.noTranslate)){\r\n\t\t\t\tfor (const iterator  in obj) {\r\n\t\t\t\tconst key = iterator as \"fname\";\r\n\t\t\t\t\tdata.english[key] && (obj[key] = data.english[key]);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n           \r\n\t\t};\r\n\r\n\t\treturn createTypedMap({\r\n\t\t\ten:createTypedMap(obj),\r\n\t\t\tch:createTypedMap(data.china)\r\n\t\t}) ;\r\n\r\n\t}\r\n\tcomponentDidMount(){\r\n\t\tconst chinaData = this.props.data.china;\r\n\t\t const hasModal = chinaData.status == caseStatus.errorCase ? chinaData.errmessages : chinaData.status == caseStatus.returnCase ? chinaData.descr :false;\r\n\t\t\r\n\t\thasModal && this.notificationRef.current!.addNotice( (caseStatus.returnCase == chinaData.status && \"驳回：\"||\"报错：\")+hasModal,\"warn\",0);\r\n\r\n\t\t  // 添加自动保存的定时器\r\n\t\t  \r\n\t\tif(this.props.roleId!=\"3202\"){ //医生\r\n\t\t\t  return \r\n\t\t}\r\n       const _self = this;\r\n       let oldData = this.state.obj;\r\n        const timeId = window.setInterval(function(){\r\n\r\n            const newData = _self.state.obj;\r\n\r\n            if(oldData !== newData){\r\n\r\n                const obj = Object.assign({ id:_self.props.id }, newData.toJS().en);\r\n                Api.updataEnSummaryCase(obj).then(() => {\r\n\r\n                        oldData = newData ;\r\n\r\n                        _self.setState({\r\n                            isChange:false\r\n                        });\r\n                });\r\n            }\r\n\r\n        },this.timeSave);\r\n\r\n        this.setState({\r\n            timeId,\r\n        });\r\n\r\n\t}\r\n\tcomponentWillUnmount(){\r\n\r\n        const {timeId} = this.state;\r\n\r\n        timeId && window.clearInterval(timeId);\r\n    }\r\n\tchangeState=(field:keyof SummarySpace.params,value:string)=>{\r\n\r\n\t\tthis.setState(pre=>{\r\n\r\n\t\t\treturn {\r\n\t\t\t\tobj:pre.obj.setIn([\"en\",field],value),\r\n\t\t\t\tisChange:true,\r\n\t\t\t}\r\n\t\t})\r\n\r\n\t}\r\n\tchangeStateCh=(field:keyof SummarySpace.params,value:string)=>{\r\n\r\n\t\tthis.setState(pre=>{\r\n\r\n\t\t\treturn {\r\n\t\t\t\tobj:pre.obj.setIn([\"ch\",field],value)\r\n\t\t\t}\r\n\t\t})\r\n\r\n\t}\r\n\r\n\tsubmit=(e:React.MouseEvent<HTMLButtonElement>)=>{\r\n\t\tconst type = e.currentTarget!.name as \"save\" | \"submit\" | \"error\" |\"pass\" |\"reject\";\r\n\t\tconst {id,pathTo,changeMenu} = this.props;\r\n\t \r\n\t\tconst notification = this.notificationRef.current!;\r\n\r\n\t\tswitch (type) {\r\n\t\t\tcase \"error\":\r\n\t\t\t\r\n\t\t\t\tthis.toggleModal();\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"submit\":{\r\n\t\t\t\tconst status = this.props.data.china.status;\r\n\t\t\t\tconst oindex =  status ==6 ? 0 : 1 ;\r\n\t\t\t\tif(document.querySelectorAll(\"#gTranslate .m-translate\")[oindex].querySelectorAll(\".no-fill\").length){\r\n\t\t\t\t\tnotification.addNotice(\"填写完整，然后提交！\",\"warn\")\r\n\t\t\t\t\treturn ;\r\n\t\t\t\t}\r\n\t\t\t\tconst { obj: paramsObj } = this.state;\r\n\r\n\t\t\t\tconst paramsData = paramsObj.toJS();\r\n\r\n\t\t\t\t\r\n\r\n\t\t\t\tif( status== \"6\"){ // 报错，修改中文；\r\n\t\t\t\t\tconst obj =Object.assign({id},paramsData.ch);\r\n\t\t\t\t\tApi.saveChSummaryCase(obj).then(() => {\r\n\t\t\t\t\t\tpathTo(\"summary\");\r\n\t\t\t\t\t})\r\n\r\n\t\t\t\t}else{\r\n\t\t\t\t\tconst obj =Object.assign({id},paramsData.en);\r\n\t\t\t\t\tApi.commitEnSummaryCase(obj).then(()=>{\r\n\t\t\t\t\t\tpathTo(\"summary\");\r\n\r\n\t\t\t\t\t});\t\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\tcase \"save\":\t\r\n\t\t\t\t{\r\n\t\t\t\t\tconst {obj:paramsObj} = this.state;\r\n\r\n\t\t\t\tconst paramsData = paramsObj.toJS();\r\n\r\n\t\t\t\tconst obj =Object.assign({id},paramsData.en);\r\n\t\t\t\tApi.updataEnSummaryCase(obj).then(()=>{\r\n\t\t\t\t\tnotification.addNotice(\"保存成功\",\"success\");\r\n\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\tisChange:false\r\n\t\t\t\t\t})\r\n\t\t\t\t});\t\r\n\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\tcase \"pass\"\t:\r\n\t\t\t\r\n\t\t\t\tApi.passEnSummaryCase(id).then(()=>{\r\n\t\t\t\t\t\tpathTo(\"gdsummary\");\r\n\t\t\t\t\t\tchangeMenu(\"1,0\");\r\n\t\t\t\t})\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"reject\":\r\n\t\t\t\r\n\t\t\t\tthis.toggleModal();\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n\r\n\tmodalSureHanlde=()=>{\r\n\r\n\t\tconst {id,roleId} = this.props;\r\n\t\tconst {reasonTxt} = this.state;\r\n\r\n\t\tconst notification = this.notificationRef.current!;\r\n\t\tif(!reasonTxt){\r\n\r\n\t\t\tnotification.addNotice(\"不能为空！\",\"warn\")\r\n\t\t\treturn ;\r\n\t\t}\r\n\r\n\t\tif(roleId==\"3202\"){\r\n\r\n\t\t\tApi.upSummaryCaseError(id,reasonTxt).then((res:AxiosInterfaceResponse)=>{\r\n\r\n\t\t\t\tthis.toggleModal();\r\n\r\n\t\t\t\tnotification.addNotice(res.message,\"success\");\r\n\t\t\t\t\r\n\t\t\t\tres.code == 200 &&\tthis.props.pathTo(\"summary\");\r\n\r\n\r\n\t\t\t});\r\n\r\n\t\t}else{\r\n\t\t\tApi.returnSummaryCase(id,reasonTxt).then((res:AxiosInterfaceResponse)=>{\r\n\r\n\t\t\t\tthis.toggleModal();\r\n\r\n\t\t\t\tnotification.addNotice(res.message,\"success\");\r\n\r\n\t\t\t\t\r\n\t\t\t\tres.code==200 && this.props.pathTo(\"summary\");\r\n\r\n\r\n\r\n\t\t\t});\r\n\t\t}\r\n\r\n\r\n\r\n\t}\r\n\r\n\tdaoHandle=(e:React.MouseEvent<HTMLLIElement>)=>{\r\n\r\n\t\tconst type = e.currentTarget.dataset.name;\r\n\t\tconst {id} = this.props;\r\n\t\tconst baseUrl = window.getSession(\"getPath\");\r\n\t\tswitch (type) {\r\n\t\t\tcase \"word\":\r\n\t\t\t\tthis.downFile(baseUrl+\"summary/wordExport?ids=\"+id);\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"pdf\":\r\n\t\t\t\tthis.downFile(baseUrl+\"summary/pdfExport?ids=\"+id);\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"images\":\r\n\t\t\t\tthis.downImag();\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n\tdownImag(){\r\n\r\n\t\tconst dom = document.getElementById(\"gTranslate\")!\r\n\t\thtml2canvas(dom,{\r\n\t\t\twidth:dom.clientWidth,\r\n\t\t\theight:dom.clientHeight,\r\n\t\t}).then((canvas)=>{\r\n\r\n\r\n\t\t\tthis.downFile(canvas.toDataURL(),'img-snapshoot.jpg');\r\n\t\t\t\r\n\t\t\t\r\n\r\n    \t});\r\n\r\n\r\n\r\n\r\n\r\n\t}\r\n\tdownFile(url:string,fileName=\"文件下载\"){\r\n\r\n\t\tconst a = document.createElement(\"a\");\r\n\t\ta.href=url;\r\n\t\ta.download = fileName;\r\n\t\t\r\n\t\tdocument.body.appendChild(a);\r\n\r\n\t\ta.click();\r\n\t\tdocument.body.removeChild(a);\r\n\r\n\t}\r\n\r\n\tgetDao(){\r\n\r\n\r\n\t\treturn (<div className=\"j-dao\" >\r\n\t\t\t\t\t<Link to={TranslateManage.pathObj}><button className=\"s-btn line-btn green \">返回</button></Link>\r\n\t\t\t\t\t<div > \r\n\t\t\t\t\t\t<span><button className=\"s-btn normal-btn primary\">导出</button></span>\r\n\t\t\t\t\t\t<ul className=\"m-dao-drop\">\r\n\t\t\t\t\t\t\t<li data-name=\"images\" onClick={this.daoHandle}><i className=\"fa fa-file-image-o\">&nbsp;</i><span>导出图片</span></li>\r\n\t\t\t\t\t\t\t<li data-name=\"pdf\" onClick={this.daoHandle}><i className=\"fa fa-file-pdf-o\">&nbsp;</i><span>导出pdf</span></li>\r\n\t\t\t\t\t\t\t<li data-name=\"word\" onClick={this.daoHandle}><i className=\"fa fa-file-word-o\"></i>&nbsp;<span>导出文档</span></li>\r\n\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>)\r\n\t}\r\n\r\n\tgetCheckOpt(){\r\n\t\treturn (\r\n\t\t\t<div className=\"m-check-opt\">\r\n\t\t\t\t<Link to={TranslateManage.pathObj}><button className=\"s-btn line-btn green \">返回</button></Link>\r\n\t\t\t\t<button className=\"s-btn normal-btn danger\" name=\"reject\" onClick={this.submit}>驳回</button>\r\n\t\t\t\t<button className=\"s-btn normal-btn green\" name=\"pass\" onClick={this.submit}>通过</button>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n\t\r\n\ttoggleModal=()=>{\r\n\r\n\t\tthis.setState(pre=>({\r\n\t\t\tinitModal:true,\r\n\t\t\tshowModal:!pre.showModal\r\n\t\t}));\r\n\t}\r\n\tchangeReason=(e:React.ChangeEvent<HTMLTextAreaElement>)=>{\r\n\r\n\r\n\t\tthis.setState({\r\n\t\t\treasonTxt:e.currentTarget!.value\r\n\t\t})\r\n\t}\r\n\torgItemHandle = (e: React.MouseEvent<HTMLLIElement>) => {\r\n\r\n        const text = e.currentTarget!.dataset.name;\r\n\r\n        this.setState(pre=>({\r\n\t\t  obj:pre.obj.setIn([\"ch\",\"fdept\"],text!)  ,\r\n\t\t  isChange:true\r\n        }))\r\n\r\n    }\r\n\tfilterOrg() {\r\n        const {orgData} = this.props;\r\n        const fdept = this.state.obj.getIn([\"ch\",\"fdept\"]);\r\n\r\n        return orgData.filter(val=>{\r\n            return val.name.includes(fdept)\r\n        });\r\n\r\n\t}\r\n\t\r\n\r\n\r\n\trender() {\r\n\r\n\t\tconst { data,type,roleId} = this.props;\r\n\t\tconst {initModal,showModal,reasonTxt,obj,isChange} = this.state;\r\n\t\tconst status = data.china.status;\r\n\t\tconst is_gdsummary = type == \"/gdsummary\";\r\n\t\tconst text = is_gdsummary && \"归档文案\" || \"病例清单\";\r\n\r\n\t\t let orgData:any[] = [];\r\n\r\n\t\tstatus == \"6\" &&( orgData = this.filterOrg());\r\n\r\n        const saveAlert:React.CSSProperties | undefined  = isChange ? {color:\"black\"} : undefined;\r\n\r\n\t\treturn (\r\n\t\t\t<div className=\"g-padding g-gdsummary\" id=\"g-gdsummary\" >\r\n\t\t\t\t{\r\n\t\t\t\t\tinitModal ? (<Modal\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tshow={showModal}\r\n\t\t\t\t\t\ttit={roleId !=\"3202\" ? \"驳回\"  :\"报错\"}\r\n\t\t\t\t\t\ttype=\"tip\"\r\n\t\t\t\t\t\tonSure={this.modalSureHanlde}\r\n\t\t\t\t\t\tonCancel={this.toggleModal}\r\n\t\t\t\t\t\tclassName=\"m-translate-modal\"\r\n\t\t\t\t\t\tcontainer= {document.getElementById(\"s-modal\")!}\r\n\t\t\t\t\t\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<p style={{padding:\"6px 0\"}}><span>{roleId!=\"3202\"? \"驳回\" :\"报错\"}原因：</span></p>\r\n\t\t\t\t\t\t\t<div><textarea value={reasonTxt} onChange={this.changeReason} className=\"s-txt\" style={{width:\"100%\"}} rows={6}></textarea></div>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t</Modal>):null\r\n\t\t\t\t}\r\n\t\t\t\t<Notification ref={this.notificationRef} />\r\n\t\t\t\t<p style={{ paddingBottom: 16 }}>{text} / 查看详情</p>\r\n\t\t\t\t<div className=\"g-translate-box\" >\r\n\r\n\t\t\t\t{  status == \"5\" ? this.getDao():null} \r\n\t\t\t\t\t<div className=\"g-translate\" id=\"gTranslate\">\r\n\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tstatus != \"6\" ?\t<CaseModalText\r\n\t\t\t\t\t\t\t\ttype=\"ch\"\r\n\t\t\t\t\t\t\t\tparams={data.china}\r\n\t\t\t\t\t\t\t/> : \r\n\t\t\t\t\t\t\t<CaseModalInp data={obj.get(\"ch\")} type=\"ch\" changeState={this.changeStateCh} >\r\n                              <ul className=\"m-org-drop\" >{\r\n\t\t\t\t\t\t\t\t \r\n                                orgData.map(val=>{\r\n                                    return (\r\n                                        <li onClick={this.orgItemHandle} data-name={val.name} key={val.id}>{val.name}</li>\r\n                                    )\r\n                                })\r\n                            }\r\n                            </ul>  \r\n                        \t</CaseModalInp>\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t{!is_gdsummary ?<CaseModalInp\r\n\t\t\t\t\t\t\tdata={obj.get(\"en\")}\r\n\t\t\t\t\t\t\ttype=\"en\"\r\n\t\t\t\t\t\t\tableEdit={roleId==\"3202\"}\r\n\t\t\t\t\t\t\tchangeState={this.changeState}\r\n\t\t\t\t\t\t/>:<CaseModalText\r\n\t\t\t\t\t\t\tparams={data.english}\r\n\t\t\t\t\t\t\ttype=\"en\"\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t/>}\r\n\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\r\n\t\t\t\t\t{!is_gdsummary ? (<div className=\"translate-footer-opt\">\r\n\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\troleId == roleEnum.doctor ?\r\n\t\t\t\t\t\t\t <>\r\n\t\t\t\t\t\t\t\t<Button field=\"error\" handle={this.submit} styleType=\"line-btn\" type=\"danger\"><Icon styleType=\"\"/>报错</Button>\r\n\t\t\t\t\t\t\t\t<Button field=\"save\" handle={this.submit}  type=\"green\"><Icon styleType=\"fa-floppy-o\"/><span style={saveAlert}>保存</span></Button>\t\r\n\t\t\t\t\t\t\t\t<button className=\"s-btn normal-btn primary\" name=\"submit\" onClick={this.submit}><SvgIcon styleType=\"submit\"/>提交</button>\r\n\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t:<>\r\n\t\t\t\t\t\t\t\t{status == caseStatus.submitCase  ?  <button className=\"s-btn normal-btn primary\" name=\"pass\" onClick={this.submit}><SvgIcon styleType=\"submit\"/>通过</button>:null}\r\n\r\n\t\t\t\t\t\t\t\t{status == caseStatus.errorCase ? <button className=\"s-btn normal-btn primary\" name=\"submit\" onClick={this.submit}><SvgIcon styleType=\"submit\" />提交</button> : null}\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tstatus == caseStatus.submitCase ? \t<button className=\"s-btn normal-btn danger\" name=\"reject\" onClick={this.submit}>驳回</button> :null\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t</>\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\r\n\t\t\t\t\t\t<Link to={{ pathname: \"/summary\", state: { text: \"病历清单\" } }}><button className=\"s-btn line-btn green\" ><i className=\"fa fa-undo\">&nbsp;</i>返回</button></Link>\r\n\t\t\t\t\t</div>):null}\r\n\t\t\t\t</div>\r\n\t\t\t\t\r\n\t\t\t</div>\r\n\r\n\t\t)\r\n\r\n\t}\r\n}\r\n\r\n\r\n\r\n\r\n\r\nclass Container extends React.PureComponent<RouteComponentProps & reduxProp & reduxDisPatch  ,ContainerState> {\r\n\r\n\tstate:ContainerState={\r\n\t\tdata:null,\r\n\t\torgData:[],\r\n\t}\r\n\r\n\tback=(path:\"gdsummary\" | \"summary\")=>{\r\n\r\n\t\tthis.props.history.push({ pathname: \"/\"+path, state: { text: \"病历清单\" } })\r\n\t}\r\n\tcomponentDidMount() {\r\n\r\n\t\tconst { id } = this.props.location.state;\r\n\r\n\r\n\t\tconst translateData = Api.getSummaryCaseById(id);\r\n\t\t\r\n\t\tconst Org = Api.getAllOrg();\r\n\r\n        Promise.all([translateData,Org]).then((res:any[])=>{\r\n\r\n            const [data,orgData] =res;\r\n\r\n                this.setState({\r\n                    data:data.data,\r\n                    orgData:orgData.data\r\n                })\r\n\r\n        })\r\n\t}\r\n\r\n\trender(){\r\n\r\n\t\tconst {data,orgData} = this.state;\r\n\t\tconst{location:{state:{id,type}} ,roleId,changeMenu} =this.props;\r\n\r\n\t\treturn data ? <TranslateManage changeMenu={changeMenu}  orgData={orgData} roleId={roleId} data={data} id={id}  type={type}  pathTo={this.back}/>:null;\r\n\t}\r\n}\r\n\r\n\r\ntype reduxProp = {\r\n\troleId: string;\r\n}\r\n\r\nconst mapStateToProp: MapStateToProps<reduxProp, translateProps, appStore> = ({ app }) => {\r\n\r\n\tconst roleId = app.get(\"role_ids\")[app.get(\"role_index\")];\r\n\treturn {\r\n\r\n\t\troleId,\r\n\r\n\t}\r\n}\r\ntype reduxDisPatch ={\r\n\tchangeMenu(menuUrl:string):void;\r\n} \r\n\r\nconst mapDisPatchToProp:MapDispatchToProps<reduxDisPatch,translateProps>=(dispatch)=>{\r\n\r\n\treturn {\r\n\r\n\t\tchangeMenu:function(menuUrl:string){\r\n\r\n\t\t\tdispatch(changeMenuUrl(menuUrl));\r\n\r\n\t\t},\r\n\r\n\t}\r\n}; \r\n\r\nexport default connect(mapStateToProp,mapDisPatchToProp)(Container);\r\n\r\n\r\n\r\n","import {Route} from \"react-router-dom\";\r\nimport * as React from \"react\";\r\nimport Summary from \"./containers/summary/index\";\r\nimport AddCaseModal from \"./containers/summary/AddCaseModal\";\r\nimport Gdsummary from \"./containers/gdsummary/index\";\r\n\r\nconst Main = ()=>{\r\n\r\n\t\t\treturn (\r\n\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t<Route path=\"/summary\" component={Summary}/>\r\n\t\t\t\t\t\t\t\t\t<Route path=\"/gdsummary\" component={Summary}  />\r\n\t\t\t\t\t\t\t\t\t<Route path=\"/translate\" component={Gdsummary}  />\r\n\t\t\t\t\t\t\t\t\t<Route path=\"/addCaseModal\" component={AddCaseModal}  />\r\n\t\t\t\t\t\t\t\t\t<div  id=\"s-modal\"></div>\r\n\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t);\r\n}\r\n\r\nexport default Main ;","import * as React from \"react\" ;\r\nimport {Switch} from \"react-router\";\r\nimport {Route,MemoryRouter} from \"react-router-dom\";\r\n\r\nimport SlideMenu from \"@js/containers/SlideMenu\";\r\nimport Head from \"@js/containers/Head\";\r\nimport MainRouter from \"@js/Router\" ;\r\n\r\nclass IndexCom extends React.PureComponent{\r\n\t\r\n\trender(){\r\n\t\t\treturn (\r\n\t\t\t\t<>\r\n\t\t\t\t\t\t\t<SlideMenu/>\r\n\t\t\t\t\t\t\t<div className=\"g-content\">\r\n\t\t\t\t\t\t\t\t\t<Head/>\r\n\t\t\t\t\t\t\t\t<div className=\"g-main\">\r\n\t\t\t\t\t\t\t\t\t\t\t<Switch>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<MainRouter  />\r\n\t\t\t\t\t\t\t\t\t\t\t</Switch>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t</>\t\t\t\t\r\n\t\t\t) \r\n\t}\r\n}\r\n\r\n\r\n\r\nclass App extends React.PureComponent{\r\n\t\r\n\r\n\trender(){\r\n\t\t\treturn (\r\n\t\t\t\t\t<MemoryRouter>\r\n\t\t\t\t\t\t\t<Switch>\r\n                            \t<Route  path=\"/\"   component={IndexCom} />\t\r\n\t\t\t\t\t\t\t</Switch>\r\n\t\t\t\t\t</MemoryRouter>\r\n\t\t\t\t\t)\r\n\t\t}\r\n\t\r\n}\r\n\r\n\r\n\r\n\r\nexport\tdefault App ; "],"sourceRoot":""}